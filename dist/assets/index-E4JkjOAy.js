(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Td={exports:{}},Ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function AA(){if(x0)return Ao;x0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Ao.Fragment=e,Ao.jsx=n,Ao.jsxs=n,Ao}var C0;function RA(){return C0||(C0=1,Td.exports=AA()),Td.exports}var x=RA(),wd={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function NA(){if(A0)return _e;A0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(T,H,W){this.props=T,this.context=H,this.refs=w,this.updater=W||_}C.prototype.isReactComponent={},C.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},C.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=C.prototype;function I(T,H,W){this.props=T,this.context=H,this.refs=w,this.updater=W||_}var D=I.prototype=new A;D.constructor=I,S(D,C.prototype),D.isPureReactComponent=!0;var q=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function K(T,H,W,ee,P,Re){return W=Re.ref,{$$typeof:t,type:T,key:H,ref:W!==void 0?W:null,props:Re}}function F(T,H){return K(T.type,H,void 0,void 0,void 0,T.props)}function J(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ie(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return H[W]})}var se=/\/+/g;function le(T,H){return typeof T=="object"&&T!==null&&T.key!=null?ie(""+T.key):H.toString(36)}function Ae(){}function Se(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ae,Ae):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ye(T,H,W,ee,P){var Re=typeof T;(Re==="undefined"||Re==="boolean")&&(T=null);var Q=!1;if(T===null)Q=!0;else switch(Re){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(T.$$typeof){case t:case e:Q=!0;break;case g:return Q=T._init,ye(Q(T._payload),H,W,ee,P)}}if(Q)return P=P(T),Q=ee===""?"."+le(T,0):ee,q(P)?(W="",Q!=null&&(W=Q.replace(se,"$&/")+"/"),ye(P,H,W,"",function(Ye){return Ye})):P!=null&&(J(P)&&(P=F(P,W+(P.key==null||T&&T.key===P.key?"":(""+P.key).replace(se,"$&/")+"/")+Q)),H.push(P)),1;Q=0;var te=ee===""?".":ee+":";if(q(T))for(var ve=0;ve<T.length;ve++)ee=T[ve],Re=te+le(ee,ve),Q+=ye(ee,H,W,Re,P);else if(ve=v(T),typeof ve=="function")for(T=ve.call(T),ve=0;!(ee=T.next()).done;)ee=ee.value,Re=te+le(ee,ve++),Q+=ye(ee,H,W,Re,P);else if(Re==="object"){if(typeof T.then=="function")return ye(Se(T),H,W,ee,P);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Q}function L(T,H,W){if(T==null)return T;var ee=[],P=0;return ye(T,ee,"","",function(Re){return H.call(W,Re,P++)}),ee}function Z(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var ae=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function re(){}return _e.Children={map:L,forEach:function(T,H,W){L(T,function(){H.apply(this,arguments)},W)},count:function(T){var H=0;return L(T,function(){H++}),H},toArray:function(T){return L(T,function(H){return H})||[]},only:function(T){if(!J(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},_e.Component=C,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=I,_e.StrictMode=r,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,_e.__COMPILER_RUNTIME={__proto__:null,c:function(T){return M.H.useMemoCache(T)}},_e.cache=function(T){return function(){return T.apply(null,arguments)}},_e.cloneElement=function(T,H,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=S({},T.props),P=T.key,Re=void 0;if(H!=null)for(Q in H.ref!==void 0&&(Re=void 0),H.key!==void 0&&(P=""+H.key),H)!z.call(H,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&H.ref===void 0||(ee[Q]=H[Q]);var Q=arguments.length-2;if(Q===1)ee.children=W;else if(1<Q){for(var te=Array(Q),ve=0;ve<Q;ve++)te[ve]=arguments[ve+2];ee.children=te}return K(T.type,P,void 0,void 0,Re,ee)},_e.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},_e.createElement=function(T,H,W){var ee,P={},Re=null;if(H!=null)for(ee in H.key!==void 0&&(Re=""+H.key),H)z.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(P[ee]=H[ee]);var Q=arguments.length-2;if(Q===1)P.children=W;else if(1<Q){for(var te=Array(Q),ve=0;ve<Q;ve++)te[ve]=arguments[ve+2];P.children=te}if(T&&T.defaultProps)for(ee in Q=T.defaultProps,Q)P[ee]===void 0&&(P[ee]=Q[ee]);return K(T,Re,void 0,void 0,null,P)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(T){return{$$typeof:f,render:T}},_e.isValidElement=J,_e.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:Z}},_e.memo=function(T,H){return{$$typeof:h,type:T,compare:H===void 0?null:H}},_e.startTransition=function(T){var H=M.T,W={};M.T=W;try{var ee=T(),P=M.S;P!==null&&P(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(re,ae)}catch(Re){ae(Re)}finally{M.T=H}},_e.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},_e.use=function(T){return M.H.use(T)},_e.useActionState=function(T,H,W){return M.H.useActionState(T,H,W)},_e.useCallback=function(T,H){return M.H.useCallback(T,H)},_e.useContext=function(T){return M.H.useContext(T)},_e.useDebugValue=function(){},_e.useDeferredValue=function(T,H){return M.H.useDeferredValue(T,H)},_e.useEffect=function(T,H,W){var ee=M.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(T,H)},_e.useId=function(){return M.H.useId()},_e.useImperativeHandle=function(T,H,W){return M.H.useImperativeHandle(T,H,W)},_e.useInsertionEffect=function(T,H){return M.H.useInsertionEffect(T,H)},_e.useLayoutEffect=function(T,H){return M.H.useLayoutEffect(T,H)},_e.useMemo=function(T,H){return M.H.useMemo(T,H)},_e.useOptimistic=function(T,H){return M.H.useOptimistic(T,H)},_e.useReducer=function(T,H,W){return M.H.useReducer(T,H,W)},_e.useRef=function(T){return M.H.useRef(T)},_e.useState=function(T){return M.H.useState(T)},_e.useSyncExternalStore=function(T,H,W){return M.H.useSyncExternalStore(T,H,W)},_e.useTransition=function(){return M.H.useTransition()},_e.version="19.1.0",_e}var R0;function Hc(){return R0||(R0=1,wd.exports=NA()),wd.exports}var N=Hc();const DA=Qp(N);var xd={exports:{}},Ro={},Cd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function OA(){return N0||(N0=1,function(t){function e(L,Z){var ae=L.length;L.push(Z);e:for(;0<ae;){var re=ae-1>>>1,T=L[re];if(0<o(T,Z))L[re]=Z,L[ae]=T,ae=re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Z=L[0],ae=L.pop();if(ae!==Z){L[0]=ae;e:for(var re=0,T=L.length,H=T>>>1;re<H;){var W=2*(re+1)-1,ee=L[W],P=W+1,Re=L[P];if(0>o(ee,ae))P<T&&0>o(Re,ee)?(L[re]=Re,L[P]=ae,re=P):(L[re]=ee,L[W]=ae,re=W);else if(P<T&&0>o(Re,ae))L[re]=Re,L[P]=ae,re=P;else break e}}return Z}function o(L,Z){var ae=L.sortIndex-Z.sortIndex;return ae!==0?ae:L.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],h=[],g=1,y=null,v=3,_=!1,S=!1,w=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function q(L){for(var Z=n(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=L)r(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function M(L){if(w=!1,q(L),!S)if(n(p)!==null)S=!0,z||(z=!0,le());else{var Z=n(h);Z!==null&&ye(M,Z.startTime-L)}}var z=!1,K=-1,F=5,J=-1;function ie(){return C?!0:!(t.unstable_now()-J<F)}function se(){if(C=!1,z){var L=t.unstable_now();J=L;var Z=!0;try{e:{S=!1,w&&(w=!1,I(K),K=-1),_=!0;var ae=v;try{t:{for(q(L),y=n(p);y!==null&&!(y.expirationTime>L&&ie());){var re=y.callback;if(typeof re=="function"){y.callback=null,v=y.priorityLevel;var T=re(y.expirationTime<=L);if(L=t.unstable_now(),typeof T=="function"){y.callback=T,q(L),Z=!0;break t}y===n(p)&&r(p),q(L)}else r(p);y=n(p)}if(y!==null)Z=!0;else{var H=n(h);H!==null&&ye(M,H.startTime-L),Z=!1}}break e}finally{y=null,v=ae,_=!1}Z=void 0}}finally{Z?le():z=!1}}}var le;if(typeof D=="function")le=function(){D(se)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Se=Ae.port2;Ae.port1.onmessage=se,le=function(){Se.postMessage(null)}}else le=function(){A(se,0)};function ye(L,Z){K=A(function(){L(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var ae=v;v=Z;try{return L()}finally{v=ae}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=v;v=L;try{return Z()}finally{v=ae}},t.unstable_scheduleCallback=function(L,Z,ae){var re=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?re+ae:re):ae=re,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ae+T,L={id:g++,callback:Z,priorityLevel:L,startTime:ae,expirationTime:T,sortIndex:-1},ae>re?(L.sortIndex=ae,e(h,L),n(p)===null&&L===n(h)&&(w?(I(K),K=-1):w=!0,ye(M,ae-re))):(L.sortIndex=T,e(p,L),S||_||(S=!0,z||(z=!0,le()))),L},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(L){var Z=v;return function(){var ae=v;v=Z;try{return L.apply(this,arguments)}finally{v=ae}}}}(Ad)),Ad}var D0;function MA(){return D0||(D0=1,Cd.exports=OA()),Cd.exports}var Rd={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function IA(){if(O0)return kt;O0=1;var t=Hc();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:h,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(p,h,null,g)},kt.flushSync=function(p){var h=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=h,r.p=g,r.d.f()}},kt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(p,h))},kt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},kt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(p)},kt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kt.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=f(h.as,h.crossOrigin);r.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(p)},kt.requestFormReset=function(p){r.d.r(p)},kt.unstable_batchedUpdates=function(p,h){return p(h)},kt.useFormState=function(p,h,g){return c.H.useFormState(p,h,g)},kt.useFormStatus=function(){return c.H.useHostTransitionStatus()},kt.version="19.1.0",kt}var M0;function kA(){if(M0)return Rd.exports;M0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rd.exports=IA(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function PA(){if(I0)return Ro;I0=1;var t=MA(),e=Hc(),n=kA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(u(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return f(d),i;if(m===l)return f(d),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,E=d.child;E;){if(E===a){b=!0,a=d,l=m;break}if(E===l){b=!0,l=d,a=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===a){b=!0,a=m,l=d;break}if(E===l){b=!0,l=m,a=d;break}E=E.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var Ae=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case z:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case D:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case q:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case F:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var ye=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},re=[],T=-1;function H(i){return{current:i}}function W(i){0>T||(i.current=re[T],re[T]=null,T--)}function ee(i,s){T++,re[T]=i.current,i.current=s}var P=H(null),Re=H(null),Q=H(null),te=H(null);function ve(i,s){switch(ee(Q,s),ee(Re,i),ee(P,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?J_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=J_(s),i=e0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(P),ee(P,i)}function Ye(){W(P),W(Re),W(Q)}function je(i){i.memoizedState!==null&&ee(te,i);var s=P.current,a=e0(s,i.type);s!==a&&(ee(Re,i),ee(P,a))}function mt(i){Re.current===i&&(W(P),W(Re)),te.current===i&&(W(te),Eo._currentValue=ae)}var ln=Object.prototype.hasOwnProperty,wn=t.unstable_scheduleCallback,un=t.unstable_cancelCallback,rr=t.unstable_shouldYield,$n=t.unstable_requestPaint,zt=t.unstable_now,ar=t.unstable_getCurrentPriorityLevel,or=t.unstable_ImmediatePriority,lr=t.unstable_UserBlockingPriority,Xn=t.unstable_NormalPriority,X=t.unstable_LowPriority,fe=t.unstable_IdlePriority,Ee=t.log,be=t.unstable_setDisableYieldValue,ke=null,Me=null;function st(i){if(typeof Ee=="function"&&be(i),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(ke,i)}catch{}}var et=Math.clz32?Math.clz32:Ri,Ht=Math.log,Ai=Math.LN2;function Ri(i){return i>>>=0,i===0?32:31-(Ht(i)/Ai|0)|0}var Ni=256,Pl=4194304;function bs(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ll(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?d=bs(l):(b&=E,b!==0?d=bs(b):a||(a=E&~i,a!==0&&(d=bs(a))))):(E=l&~m,E!==0?d=bs(E):b!==0?d=bs(b):a||(a=l&~i,a!==0&&(d=bs(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function Da(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function pC(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lg(){var i=Ni;return Ni<<=1,(Ni&4194048)===0&&(Ni=256),i}function Ug(){var i=Pl;return Pl<<=1,(Pl&62914560)===0&&(Pl=4194304),i}function hf(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Oa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mC(i,s,a,l,d,m){var b=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var E=i.entanglements,R=i.expirationTimes,j=i.hiddenUpdates;for(a=b&~a;0<a;){var G=31-et(a),$=1<<G;E[G]=0,R[G]=-1;var V=j[G];if(V!==null)for(j[G]=null,G=0;G<V.length;G++){var B=V[G];B!==null&&(B.lane&=-536870913)}a&=~$}l!==0&&jg(i,l,0),m!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=m&~(b&~s))}function jg(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-et(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Vg(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-et(a),d=1<<l;d&s|i[l]&s&&(i[l]|=s),a&=~d}}function df(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function pf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bg(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:_0(i.type))}function gC(i,s){var a=Z.p;try{return Z.p=i,s()}finally{Z.p=a}}var Di=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Di,Ft="__reactProps$"+Di,ur="__reactContainer$"+Di,mf="__reactEvents$"+Di,yC="__reactListeners$"+Di,vC="__reactHandles$"+Di,zg="__reactResources$"+Di,Ma="__reactMarker$"+Di;function gf(i){delete i[Mt],delete i[Ft],delete i[mf],delete i[yC],delete i[vC]}function cr(i){var s=i[Mt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[ur]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=s0(i);i!==null;){if(a=i[Mt])return a;i=s0(i)}return s}i=a,a=i.parentNode}return null}function fr(i){if(i=i[Mt]||i[ur]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ia(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function hr(i){var s=i[zg];return s||(s=i[zg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(i){i[Ma]=!0}var Hg=new Set,Fg={};function Ss(i,s){dr(i,s),dr(i+"Capture",s)}function dr(i,s){for(Fg[i]=s,i=0;i<s.length;i++)Hg.add(s[i])}var _C=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gg={},qg={};function bC(i){return ln.call(qg,i)?!0:ln.call(Gg,i)?!1:_C.test(i)?qg[i]=!0:(Gg[i]=!0,!1)}function Ul(i,s,a){if(bC(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function jl(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Qn(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}var yf,Yg;function pr(i){if(yf===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);yf=s&&s[1]||"",Yg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yf+i+Yg}var vf=!1;function _f(i,s){if(!i||vf)return"";vf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var V=B}Reflect.construct(i,[],$)}else{try{$.call()}catch(B){V=B}i.call($.prototype)}}else{try{throw Error()}catch(B){V=B}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var R=b.split(`
`),j=E.split(`
`);for(d=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(l===R.length||d===j.length)for(l=R.length-1,d=j.length-1;1<=l&&0<=d&&R[l]!==j[d];)d--;for(;1<=l&&0<=d;l--,d--)if(R[l]!==j[d]){if(l!==1||d!==1)do if(l--,d--,0>d||R[l]!==j[d]){var G=`
`+R[l].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=l&&0<=d);break}}}finally{vf=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?pr(a):""}function SC(i){switch(i.tag){case 26:case 27:case 5:return pr(i.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return _f(i.type,!1);case 11:return _f(i.type.render,!1);case 1:return _f(i.type,!0);case 31:return pr("Activity");default:return""}}function Kg(i){try{var s="";do s+=SC(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function EC(i){var s=Wg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),l=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Vl(i){i._valueTracker||(i._valueTracker=EC(i))}function $g(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Wg(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Bl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var TC=/[\n"\\]/g;function fn(i){return i.replace(TC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bf(i,s,a,l,d,m,b,E){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Sf(i,b,cn(s)):a!=null?Sf(i,b,cn(a)):l!=null&&i.removeAttribute("value"),d==null&&m!=null&&(i.defaultChecked=!!m),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+cn(E):i.removeAttribute("name")}function Xg(i,s,a,l,d,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,E||s===i.value||(i.value=s),i.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=E?i.checked:!!l,i.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Sf(i,s,a){s==="number"&&Bl(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function mr(i,s,a,l){if(i=i.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<i.length;a++)d=s.hasOwnProperty("$"+i[a].value),i[a].selected!==d&&(i[a].selected=d),d&&l&&(i[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,d=0;d<i.length;d++){if(i[d].value===a){i[d].selected=!0,l&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Qg(i,s,a){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+cn(a):""}function Zg(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ye(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function gr(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var wC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jg(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||wC.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function ey(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Jg(i,d,l)}else for(var m in s)s.hasOwnProperty(m)&&Jg(i,m,s[m])}function Ef(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(i){return CC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Tf=null;function wf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yr=null,vr=null;function ty(i){var s=fr(i);if(s&&(i=s.stateNode)){var a=i[Ft]||null;e:switch(i=s.stateNode,s.type){case"input":if(bf(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var d=l[Ft]||null;if(!d)throw Error(r(90));bf(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&$g(l)}break e;case"textarea":Qg(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&mr(i,!!a.multiple,s,!1)}}}var xf=!1;function ny(i,s,a){if(xf)return i(s,a);xf=!0;try{var l=i(s);return l}finally{if(xf=!1,(yr!==null||vr!==null)&&(Cu(),yr&&(s=yr,i=vr,vr=yr=null,ty(s),i)))for(s=0;s<i.length;s++)ty(i[s])}}function ka(i,s){var a=i.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=!1;if(Zn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Cf=!1}var Oi=null,Af=null,Hl=null;function iy(){if(Hl)return Hl;var i,s=Af,a=s.length,l,d="value"in Oi?Oi.value:Oi.textContent,m=d.length;for(i=0;i<a&&s[i]===d[i];i++);var b=a-i;for(l=1;l<=b&&s[a-l]===d[m-l];l++);return Hl=d.slice(i,1<l?1-l:void 0)}function Fl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Gl(){return!0}function sy(){return!1}function Gt(i){function s(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(a=i[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gl:sy,this.isPropagationStopped=sy,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),s}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Gt(Es),La=g({},Es,{view:0,detail:0}),AC=Gt(La),Rf,Nf,Ua,Yl=g({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ua&&(Ua&&i.type==="mousemove"?(Rf=i.screenX-Ua.screenX,Nf=i.screenY-Ua.screenY):Nf=Rf=0,Ua=i),Rf)},movementY:function(i){return"movementY"in i?i.movementY:Nf}}),ry=Gt(Yl),RC=g({},Yl,{dataTransfer:0}),NC=Gt(RC),DC=g({},La,{relatedTarget:0}),Df=Gt(DC),OC=g({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),MC=Gt(OC),IC=g({},Es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kC=Gt(IC),PC=g({},Es,{data:0}),ay=Gt(PC),LC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VC(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=jC[i])?!!s[i]:!1}function Of(){return VC}var BC=g({},La,{key:function(i){if(i.key){var s=LC[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Fl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?UC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(i){return i.type==="keypress"?Fl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zC=Gt(BC),HC=g({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=Gt(HC),FC=g({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),GC=Gt(FC),qC=g({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),YC=Gt(qC),KC=g({},Yl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),WC=Gt(KC),$C=g({},Es,{newState:0,oldState:0}),XC=Gt($C),QC=[9,13,27,32],Mf=Zn&&"CompositionEvent"in window,ja=null;Zn&&"documentMode"in document&&(ja=document.documentMode);var ZC=Zn&&"TextEvent"in window&&!ja,ly=Zn&&(!Mf||ja&&8<ja&&11>=ja),uy=" ",cy=!1;function fy(i,s){switch(i){case"keyup":return QC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _r=!1;function JC(i,s){switch(i){case"compositionend":return hy(s);case"keypress":return s.which!==32?null:(cy=!0,uy);case"textInput":return i=s.data,i===uy&&cy?null:i;default:return null}}function e1(i,s){if(_r)return i==="compositionend"||!Mf&&fy(i,s)?(i=iy(),Hl=Af=Oi=null,_r=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ly&&s.locale!=="ko"?null:s.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!t1[i.type]:s==="textarea"}function py(i,s,a,l){yr?vr?vr.push(l):vr=[l]:yr=l,s=Mu(s,"onChange"),0<s.length&&(a=new ql("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Va=null,Ba=null;function n1(i){W_(i,0)}function Kl(i){var s=Ia(i);if($g(s))return i}function my(i,s){if(i==="change")return s}var gy=!1;if(Zn){var If;if(Zn){var kf="oninput"in document;if(!kf){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),kf=typeof yy.oninput=="function"}If=kf}else If=!1;gy=If&&(!document.documentMode||9<document.documentMode)}function vy(){Va&&(Va.detachEvent("onpropertychange",_y),Ba=Va=null)}function _y(i){if(i.propertyName==="value"&&Kl(Ba)){var s=[];py(s,Ba,i,wf(i)),ny(n1,s)}}function i1(i,s,a){i==="focusin"?(vy(),Va=s,Ba=a,Va.attachEvent("onpropertychange",_y)):i==="focusout"&&vy()}function s1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kl(Ba)}function r1(i,s){if(i==="click")return Kl(s)}function a1(i,s){if(i==="input"||i==="change")return Kl(s)}function o1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Zt=typeof Object.is=="function"?Object.is:o1;function za(i,s){if(Zt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!ln.call(s,d)||!Zt(i[d],s[d]))return!1}return!0}function by(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sy(i,s){var a=by(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=by(a)}}function Ey(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ey(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ty(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bl(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Bl(i.document)}return s}function Pf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var l1=Zn&&"documentMode"in document&&11>=document.documentMode,br=null,Lf=null,Ha=null,Uf=!1;function wy(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uf||br==null||br!==Bl(l)||(l=br,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ha&&za(Ha,l)||(Ha=l,l=Mu(Lf,"onSelect"),0<l.length&&(s=new ql("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=br)))}function Ts(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Sr={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},jf={},xy={};Zn&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function ws(i){if(jf[i])return jf[i];if(!Sr[i])return i;var s=Sr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in xy)return jf[i]=s[a];return i}var Cy=ws("animationend"),Ay=ws("animationiteration"),Ry=ws("animationstart"),u1=ws("transitionrun"),c1=ws("transitionstart"),f1=ws("transitioncancel"),Ny=ws("transitionend"),Dy=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function xn(i,s){Dy.set(i,s),Ss(s,[i])}var Oy=new WeakMap;function hn(i,s){if(typeof i=="object"&&i!==null){var a=Oy.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Kg(s)},Oy.set(i,s),s)}return{value:i,source:s,stack:Kg(s)}}var dn=[],Er=0,Bf=0;function Wl(){for(var i=Er,s=Bf=Er=0;s<i;){var a=dn[s];dn[s++]=null;var l=dn[s];dn[s++]=null;var d=dn[s];dn[s++]=null;var m=dn[s];if(dn[s++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&My(a,d,m)}}function $l(i,s,a,l){dn[Er++]=i,dn[Er++]=s,dn[Er++]=a,dn[Er++]=l,Bf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function zf(i,s,a,l){return $l(i,s,a,l),Xl(i)}function Tr(i,s){return $l(i,null,null,s),Xl(i)}function My(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(d=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,d&&s!==null&&(d=31-et(a),i=m.hiddenUpdates,l=i[d],l===null?i[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function Xl(i){if(50<po)throw po=0,Kh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var wr={};function h1(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(i,s,a,l){return new h1(i,s,a,l)}function Hf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jn(i,s){var a=i.alternate;return a===null?(a=Jt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Iy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ql(i,s,a,l,d,m){var b=0;if(l=i,typeof i=="function")Hf(i)&&(b=1);else if(typeof i=="string")b=pA(i,a,P.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=Jt(31,a,s,d),i.elementType=J,i.lanes=m,i;case S:return xs(a.children,d,m,s);case w:b=8,d|=24;break;case C:return i=Jt(12,a,s,d|2),i.elementType=C,i.lanes=m,i;case M:return i=Jt(13,a,s,d),i.elementType=M,i.lanes=m,i;case z:return i=Jt(19,a,s,d),i.elementType=z,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case D:b=10;break e;case I:b=9;break e;case q:b=11;break e;case K:b=14;break e;case F:b=16,l=null;break e}b=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=Jt(b,a,s,d),s.elementType=i,s.type=l,s.lanes=m,s}function xs(i,s,a,l){return i=Jt(7,i,l,s),i.lanes=a,i}function Ff(i,s,a){return i=Jt(6,i,null,s),i.lanes=a,i}function Gf(i,s,a){return s=Jt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var xr=[],Cr=0,Zl=null,Jl=0,pn=[],mn=0,Cs=null,ei=1,ti="";function As(i,s){xr[Cr++]=Jl,xr[Cr++]=Zl,Zl=i,Jl=s}function ky(i,s,a){pn[mn++]=ei,pn[mn++]=ti,pn[mn++]=Cs,Cs=i;var l=ei;i=ti;var d=32-et(l)-1;l&=~(1<<d),a+=1;var m=32-et(s)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,ei=1<<32-et(s)+d|a<<d|l,ti=m+i}else ei=1<<m|a<<d|l,ti=i}function qf(i){i.return!==null&&(As(i,1),ky(i,1,0))}function Yf(i){for(;i===Zl;)Zl=xr[--Cr],xr[Cr]=null,Jl=xr[--Cr],xr[Cr]=null;for(;i===Cs;)Cs=pn[--mn],pn[mn]=null,ti=pn[--mn],pn[mn]=null,ei=pn[--mn],pn[mn]=null}var Ut=null,rt=null,Le=!1,Rs=null,Un=!1,Kf=Error(r(519));function Ns(i){var s=Error(r(418,""));throw qa(hn(s,i)),Kf}function Py(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Mt]=i,s[Ft]=l,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<go.length;a++)De(go[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),Xg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vl(s);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),Zg(s,l.value,l.defaultValue,l.children),Vl(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Z_(s.textContent,a)?(l.popover!=null&&(De("beforetoggle",s),De("toggle",s)),l.onScroll!=null&&De("scroll",s),l.onScrollEnd!=null&&De("scrollend",s),l.onClick!=null&&(s.onclick=Iu),s=!0):s=!1,s||Ns(i)}function Ly(i){for(Ut=i.return;Ut;)switch(Ut.tag){case 5:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ut=Ut.return}}function Fa(i){if(i!==Ut)return!1;if(!Le)return Ly(i),Le=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||ud(i.type,i.memoizedProps)),a=!a),a&&rt&&Ns(i),Ly(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){rt=An(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}rt=null}}else s===27?(s=rt,Ki(i.type)?(i=dd,dd=null,rt=i):rt=s):rt=Ut?An(i.stateNode.nextSibling):null;return!0}function Ga(){rt=Ut=null,Le=!1}function Uy(){var i=Rs;return i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i),Rs=null),i}function qa(i){Rs===null?Rs=[i]:Rs.push(i)}var Wf=H(null),Ds=null,ni=null;function Mi(i,s,a){ee(Wf,s._currentValue),s._currentValue=a}function ii(i){i._currentValue=Wf.current,W(Wf)}function $f(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Xf(i,s,a,l){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var R=0;R<s.length;R++)if(E.context===s[R]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),$f(m.return,a,i),l||(b=null);break e}m=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),$f(b,a,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ya(i,s,a,l){i=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var E=d.type;Zt(d.pendingProps.value,b.value)||(i!==null?i.push(E):i=[E])}}else if(d===te.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Eo):i=[Eo])}d=d.return}i!==null&&Xf(s,i,a,l),s.flags|=262144}function eu(i){for(i=i.firstContext;i!==null;){if(!Zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Os(i){Ds=i,ni=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function It(i){return jy(Ds,i)}function tu(i,s){return Ds===null&&Os(i),jy(i,s)}function jy(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ni===null){if(i===null)throw Error(r(308));ni=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ni=ni.next=s;return a}var d1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},p1=t.unstable_scheduleCallback,m1=t.unstable_NormalPriority,gt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new d1,data:new Map,refCount:0}}function Ka(i){i.refCount--,i.refCount===0&&p1(m1,function(){i.controller.abort()})}var Wa=null,Zf=0,Ar=0,Rr=null;function g1(i,s){if(Wa===null){var a=Wa=[];Zf=0,Ar=ed(),Rr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zf++,s.then(Vy,Vy),s}function Vy(){if(--Zf===0&&Wa!==null){Rr!==null&&(Rr.status="fulfilled");var i=Wa;Wa=null,Ar=0,Rr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function y1(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var By=L.S;L.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&g1(i,s),By!==null&&By(i,s)};var Ms=H(null);function Jf(){var i=Ms.current;return i!==null?i:We.pooledCache}function nu(i,s){s===null?ee(Ms,Ms.current):ee(Ms,s.pool)}function zy(){var i=Jf();return i===null?null:{parent:gt._currentValue,pool:i}}var $a=Error(r(460)),Hy=Error(r(474)),iu=Error(r(542)),eh={then:function(){}};function Fy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function su(){}function Gy(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(su,su),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Yy(i),i;default:if(typeof s.status=="string")s.then(su,su);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Yy(i),i}throw Xa=s,$a}}var Xa=null;function qy(){if(Xa===null)throw Error(r(459));var i=Xa;return Xa=null,i}function Yy(i){if(i===$a||i===iu)throw Error(r(483))}var Ii=!1;function th(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ki(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pi(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Xl(i),My(i,null,a),s}return $l(i,l,s,a),Xl(i)}function Qa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Vg(i,a)}}function ih(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var sh=!1;function Za(){if(sh){var i=Rr;if(i!==null)throw i}}function Ja(i,s,a,l){sh=!1;var d=i.updateQueue;Ii=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var R=E,j=R.next;R.next=null,b===null?m=j:b.next=j,b=R;var G=i.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==b&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=R))}if(m!==null){var $=d.baseState;b=0,G=j=R=null,E=m;do{var V=E.lane&-536870913,B=V!==E.lane;if(B?(Ie&V)===V:(l&V)===V){V!==0&&V===Ar&&(sh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=i,ce=E;V=s;var Fe=a;switch(ce.tag){case 1:if(pe=ce.payload,typeof pe=="function"){$=pe.call(Fe,$,V);break e}$=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ce.payload,V=typeof pe=="function"?pe.call(Fe,$,V):pe,V==null)break e;$=g({},$,V);break e;case 2:Ii=!0}}V=E.callback,V!==null&&(i.flags|=64,B&&(i.flags|=8192),B=d.callbacks,B===null?d.callbacks=[V]:B.push(V))}else B={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=B,R=$):G=G.next=B,b|=V;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;B=E,E=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);G===null&&(R=$),d.baseState=R,d.firstBaseUpdate=j,d.lastBaseUpdate=G,m===null&&(d.shared.lanes=0),Fi|=b,i.lanes=b,i.memoizedState=$}}function Ky(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Wy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Ky(a[i],s)}var Nr=H(null),ru=H(0);function $y(i,s){i=ci,ee(ru,i),ee(Nr,s),ci=i|s.baseLanes}function rh(){ee(ru,ci),ee(Nr,Nr.current)}function ah(){ci=ru.current,W(Nr),W(ru)}var Li=0,Te=null,ze=null,dt=null,au=!1,Dr=!1,Is=!1,ou=0,eo=0,Or=null,v1=0;function ct(){throw Error(r(321))}function oh(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Zt(i[a],s[a]))return!1;return!0}function lh(i,s,a,l,d,m){return Li=m,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?Mv:Iv,Is=!1,m=a(l,d),Is=!1,Dr&&(m=Qy(s,a,l,d)),Xy(i),m}function Xy(i){L.H=du;var s=ze!==null&&ze.next!==null;if(Li=0,dt=ze=Te=null,au=!1,eo=0,Or=null,s)throw Error(r(300));i===null||_t||(i=i.dependencies,i!==null&&eu(i)&&(_t=!0))}function Qy(i,s,a,l){Te=i;var d=0;do{if(Dr&&(Or=null),eo=0,Dr=!1,25<=d)throw Error(r(301));if(d+=1,dt=ze=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=x1,m=s(a,l)}while(Dr);return m}function _1(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?to(s):s,i=i.useState()[0],(ze!==null?ze.memoizedState:null)!==i&&(Te.flags|=1024),s}function uh(){var i=ou!==0;return ou=0,i}function ch(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function fh(i){if(au){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}au=!1}Li=0,dt=ze=Te=null,Dr=!1,eo=ou=0,Or=null}function qt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Te.memoizedState=dt=i:dt=dt.next=i,dt}function pt(){if(ze===null){var i=Te.alternate;i=i!==null?i.memoizedState:null}else i=ze.next;var s=dt===null?Te.memoizedState:dt.next;if(s!==null)dt=s,ze=i;else{if(i===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ze=i,i={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},dt===null?Te.memoizedState=dt=i:dt=dt.next=i}return dt}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function to(i){var s=eo;return eo+=1,Or===null&&(Or=[]),i=Gy(Or,i,s),s=Te,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Mv:Iv),i}function lu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return to(i);if(i.$$typeof===D)return It(i)}throw Error(r(438,String(i)))}function dh(i){var s=null,a=Te.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=hh(),Te.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=ie;return s.index++,a}function si(i,s){return typeof s=="function"?s(i):s}function uu(i){var s=pt();return ph(s,ze,i)}function ph(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=i.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}s.baseQueue=d=m,l.pending=null}if(m=i.baseState,d===null)i.memoizedState=m;else{s=d.next;var E=b=null,R=null,j=s,G=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Ie&$)===$:(Li&$)===$){var V=j.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ar&&(G=!0);else if((Li&V)===V){j=j.next,V===Ar&&(G=!0);continue}else $={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=$,b=m):R=R.next=$,Te.lanes|=V,Fi|=V;$=j.action,Is&&a(m,$),m=j.hasEagerState?j.eagerState:a(m,$)}else V={lane:$,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=V,b=m):R=R.next=V,Te.lanes|=$,Fi|=$;j=j.next}while(j!==null&&j!==s);if(R===null?b=m:R.next=E,!Zt(m,i.memoizedState)&&(_t=!0,G&&(a=Rr,a!==null)))throw a;i.memoizedState=m,i.baseState=b,i.baseQueue=R,l.lastRenderedState=m}return d===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function mh(i){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=i(m,b.action),b=b.next;while(b!==d);Zt(m,s.memoizedState)||(_t=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Zy(i,s,a){var l=Te,d=pt(),m=Le;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var b=!Zt((ze||d).memoizedState,a);b&&(d.memoizedState=a,_t=!0),d=d.queue;var E=tv.bind(null,l,d,i);if(no(2048,8,E,[i]),d.getSnapshot!==s||b||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Mr(9,cu(),ev.bind(null,l,d,a,s),null),We===null)throw Error(r(349));m||(Li&124)!==0||Jy(l,s,a)}return a}function Jy(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Te.updateQueue,s===null?(s=hh(),Te.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ev(i,s,a,l){s.value=a,s.getSnapshot=l,nv(s)&&iv(i)}function tv(i,s,a){return a(function(){nv(s)&&iv(i)})}function nv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Zt(i,a)}catch{return!0}}function iv(i){var s=Tr(i,2);s!==null&&rn(s,i,2)}function gh(i){var s=qt();if(typeof i=="function"){var a=i;if(i=a(),Is){st(!0);try{a()}finally{st(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:i},s}function sv(i,s,a,l){return i.baseState=a,ph(i,ze,typeof l=="function"?l:si)}function b1(i,s,a,l,d){if(hu(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};L.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,rv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function rv(i,s){var a=s.action,l=s.payload,d=i.state;if(s.isTransition){var m=L.T,b={};L.T=b;try{var E=a(d,l),R=L.S;R!==null&&R(b,E),av(i,s,E)}catch(j){yh(i,s,j)}finally{L.T=m}}else try{m=a(d,l),av(i,s,m)}catch(j){yh(i,s,j)}}function av(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ov(i,s,l)},function(l){return yh(i,s,l)}):ov(i,s,a)}function ov(i,s,a){s.status="fulfilled",s.value=a,lv(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,rv(i,a)))}function yh(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,lv(s),s=s.next;while(s!==l)}i.action=null}function lv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function uv(i,s){return s}function cv(i,s){if(Le){var a=We.formState;if(a!==null){e:{var l=Te;if(Le){if(rt){t:{for(var d=rt,m=Un;d.nodeType!==8;){if(!m){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){rt=An(d.nextSibling),l=d.data==="F!";break e}}Ns(l)}l=!1}l&&(s=a[0])}}return a=qt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:s},a.queue=l,a=Nv.bind(null,Te,l),l.dispatch=a,l=gh(!1),m=Eh.bind(null,Te,!1,l.queue),l=qt(),d={state:s,dispatch:null,action:i,pending:null},l.queue=d,a=b1.bind(null,Te,d,m,a),d.dispatch=a,l.memoizedState=i,[s,a,!1]}function fv(i){var s=pt();return hv(s,ze,i)}function hv(i,s,a){if(s=ph(i,s,uv)[0],i=uu(si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=to(s)}catch(b){throw b===$a?iu:b}else l=s;s=pt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Te.flags|=2048,Mr(9,cu(),S1.bind(null,d,a),null)),[l,m,i]}function S1(i,s){i.action=s}function dv(i){var s=pt(),a=ze;if(a!==null)return hv(s,a,i);pt(),s=s.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function Mr(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Te.updateQueue,s===null&&(s=hh(),Te.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function cu(){return{destroy:void 0,resource:void 0}}function pv(){return pt().memoizedState}function fu(i,s,a,l){var d=qt();l=l===void 0?null:l,Te.flags|=i,d.memoizedState=Mr(1|s,cu(),a,l)}function no(i,s,a,l){var d=pt();l=l===void 0?null:l;var m=d.memoizedState.inst;ze!==null&&l!==null&&oh(l,ze.memoizedState.deps)?d.memoizedState=Mr(s,m,a,l):(Te.flags|=i,d.memoizedState=Mr(1|s,m,a,l))}function mv(i,s){fu(8390656,8,i,s)}function gv(i,s){no(2048,8,i,s)}function yv(i,s){return no(4,2,i,s)}function vv(i,s){return no(4,4,i,s)}function _v(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function bv(i,s,a){a=a!=null?a.concat([i]):null,no(4,4,_v.bind(null,s,i),a)}function vh(){}function Sv(i,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&oh(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function Ev(i,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&oh(s,l[1]))return l[0];if(l=i(),Is){st(!0);try{i()}finally{st(!1)}}return a.memoizedState=[l,s],l}function _h(i,s,a){return a===void 0||(Li&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=x_(),Te.lanes|=i,Fi|=i,a)}function Tv(i,s,a,l){return Zt(a,s)?a:Nr.current!==null?(i=_h(i,a,l),Zt(i,s)||(_t=!0),i):(Li&42)===0?(_t=!0,i.memoizedState=a):(i=x_(),Te.lanes|=i,Fi|=i,s)}function wv(i,s,a,l,d){var m=Z.p;Z.p=m!==0&&8>m?m:8;var b=L.T,E={};L.T=E,Eh(i,!1,s,a);try{var R=d(),j=L.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=y1(R,l);io(i,s,G,sn(i))}else io(i,s,l,sn(i))}catch($){io(i,s,{then:function(){},status:"rejected",reason:$},sn())}finally{Z.p=m,L.T=b}}function E1(){}function bh(i,s,a,l){if(i.tag!==5)throw Error(r(476));var d=xv(i).queue;wv(i,d,s,ae,a===null?E1:function(){return Cv(i),a(l)})}function xv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Cv(i){var s=xv(i).next.queue;io(i,s,{},sn())}function Sh(){return It(Eo)}function Av(){return pt().memoizedState}function Rv(){return pt().memoizedState}function T1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=sn();i=ki(a);var l=Pi(s,i,a);l!==null&&(rn(l,s,a),Qa(l,s,a)),s={cache:Qf()},i.payload=s;return}s=s.return}}function w1(i,s,a){var l=sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hu(i)?Dv(s,a):(a=zf(i,s,a,l),a!==null&&(rn(a,i,l),Ov(a,s,l)))}function Nv(i,s,a){var l=sn();io(i,s,a,l)}function io(i,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(i))Dv(s,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,E=m(b,a);if(d.hasEagerState=!0,d.eagerState=E,Zt(E,b))return $l(i,s,d,0),We===null&&Wl(),!1}catch{}finally{}if(a=zf(i,s,d,l),a!==null)return rn(a,i,l),Ov(a,s,l),!0}return!1}function Eh(i,s,a,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},hu(i)){if(s)throw Error(r(479))}else s=zf(i,a,l,2),s!==null&&rn(s,i,2)}function hu(i){var s=i.alternate;return i===Te||s!==null&&s===Te}function Dv(i,s){Dr=au=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Ov(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,Vg(i,a)}}var du={readContext:It,use:lu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Mv={readContext:It,use:lu,useCallback:function(i,s){return qt().memoizedState=[i,s===void 0?null:s],i},useContext:It,useEffect:mv,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,fu(4194308,4,_v.bind(null,s,i),a)},useLayoutEffect:function(i,s){return fu(4194308,4,i,s)},useInsertionEffect:function(i,s){fu(4,2,i,s)},useMemo:function(i,s){var a=qt();s=s===void 0?null:s;var l=i();if(Is){st(!0);try{i()}finally{st(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=qt();if(a!==void 0){var d=a(s);if(Is){st(!0);try{a(s)}finally{st(!1)}}}else d=s;return l.memoizedState=l.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},l.queue=i,i=i.dispatch=w1.bind(null,Te,i),[l.memoizedState,i]},useRef:function(i){var s=qt();return i={current:i},s.memoizedState=i},useState:function(i){i=gh(i);var s=i.queue,a=Nv.bind(null,Te,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(i,s){var a=qt();return _h(a,i,s)},useTransition:function(){var i=gh(!1);return i=wv.bind(null,Te,i.queue,!0,!1),qt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Te,d=qt();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),We===null)throw Error(r(349));(Ie&124)!==0||Jy(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,mv(tv.bind(null,l,m,i),[i]),l.flags|=2048,Mr(9,cu(),ev.bind(null,l,m,a,s),null),a},useId:function(){var i=qt(),s=We.identifierPrefix;if(Le){var a=ti,l=ei;a=(l&~(1<<32-et(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=ou++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=v1++,s="«"+s+"r"+a.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Sh,useFormState:cv,useActionState:cv,useOptimistic:function(i){var s=qt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Eh.bind(null,Te,!0,a),a.dispatch=s,[i,s]},useMemoCache:dh,useCacheRefresh:function(){return qt().memoizedState=T1.bind(null,Te)}},Iv={readContext:It,use:lu,useCallback:Sv,useContext:It,useEffect:gv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:uu,useRef:pv,useState:function(){return uu(si)},useDebugValue:vh,useDeferredValue:function(i,s){var a=pt();return Tv(a,ze.memoizedState,i,s)},useTransition:function(){var i=uu(si)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:to(i),s]},useSyncExternalStore:Zy,useId:Av,useHostTransitionStatus:Sh,useFormState:fv,useActionState:fv,useOptimistic:function(i,s){var a=pt();return sv(a,ze,i,s)},useMemoCache:dh,useCacheRefresh:Rv},x1={readContext:It,use:lu,useCallback:Sv,useContext:It,useEffect:gv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:mh,useRef:pv,useState:function(){return mh(si)},useDebugValue:vh,useDeferredValue:function(i,s){var a=pt();return ze===null?_h(a,i,s):Tv(a,ze.memoizedState,i,s)},useTransition:function(){var i=mh(si)[0],s=pt().memoizedState;return[typeof i=="boolean"?i:to(i),s]},useSyncExternalStore:Zy,useId:Av,useHostTransitionStatus:Sh,useFormState:dv,useActionState:dv,useOptimistic:function(i,s){var a=pt();return ze!==null?sv(a,ze,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:Rv},Ir=null,so=0;function pu(i){var s=so;return so+=1,Ir===null&&(Ir=[]),Gy(Ir,i,s)}function ro(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function mu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function kv(i){var s=i._init;return s(i._payload)}function Pv(i){function s(k,O){if(i){var U=k.deletions;U===null?(k.deletions=[O],k.flags|=16):U.push(O)}}function a(k,O){if(!i)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function d(k,O){return k=Jn(k,O),k.index=0,k.sibling=null,k}function m(k,O,U){return k.index=U,i?(U=k.alternate,U!==null?(U=U.index,U<O?(k.flags|=67108866,O):U):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function b(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,U,Y){return O===null||O.tag!==6?(O=Ff(U,k.mode,Y),O.return=k,O):(O=d(O,U),O.return=k,O)}function R(k,O,U,Y){var oe=U.type;return oe===S?G(k,O,U.props.children,Y,U.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===F&&kv(oe)===O.type)?(O=d(O,U.props),ro(O,U),O.return=k,O):(O=Ql(U.type,U.key,U.props,null,k.mode,Y),ro(O,U),O.return=k,O)}function j(k,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Gf(U,k.mode,Y),O.return=k,O):(O=d(O,U.children||[]),O.return=k,O)}function G(k,O,U,Y,oe){return O===null||O.tag!==7?(O=xs(U,k.mode,Y,oe),O.return=k,O):(O=d(O,U),O.return=k,O)}function $(k,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ff(""+O,k.mode,U),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return U=Ql(O.type,O.key,O.props,null,k.mode,U),ro(U,O),U.return=k,U;case _:return O=Gf(O,k.mode,U),O.return=k,O;case F:var Y=O._init;return O=Y(O._payload),$(k,O,U)}if(ye(O)||le(O))return O=xs(O,k.mode,U,null),O.return=k,O;if(typeof O.then=="function")return $(k,pu(O),U);if(O.$$typeof===D)return $(k,tu(k,O),U);mu(k,O)}return null}function V(k,O,U,Y){var oe=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return oe!==null?null:E(k,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===oe?R(k,O,U,Y):null;case _:return U.key===oe?j(k,O,U,Y):null;case F:return oe=U._init,U=oe(U._payload),V(k,O,U,Y)}if(ye(U)||le(U))return oe!==null?null:G(k,O,U,Y,null);if(typeof U.then=="function")return V(k,O,pu(U),Y);if(U.$$typeof===D)return V(k,O,tu(k,U),Y);mu(k,U)}return null}function B(k,O,U,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(U)||null,E(O,k,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return k=k.get(Y.key===null?U:Y.key)||null,R(O,k,Y,oe);case _:return k=k.get(Y.key===null?U:Y.key)||null,j(O,k,Y,oe);case F:var we=Y._init;return Y=we(Y._payload),B(k,O,U,Y,oe)}if(ye(Y)||le(Y))return k=k.get(U)||null,G(O,k,Y,oe,null);if(typeof Y.then=="function")return B(k,O,U,pu(Y),oe);if(Y.$$typeof===D)return B(k,O,U,tu(O,Y),oe);mu(O,Y)}return null}function pe(k,O,U,Y){for(var oe=null,we=null,ue=O,he=O=0,St=null;ue!==null&&he<U.length;he++){ue.index>he?(St=ue,ue=null):St=ue.sibling;var Pe=V(k,ue,U[he],Y);if(Pe===null){ue===null&&(ue=St);break}i&&ue&&Pe.alternate===null&&s(k,ue),O=m(Pe,O,he),we===null?oe=Pe:we.sibling=Pe,we=Pe,ue=St}if(he===U.length)return a(k,ue),Le&&As(k,he),oe;if(ue===null){for(;he<U.length;he++)ue=$(k,U[he],Y),ue!==null&&(O=m(ue,O,he),we===null?oe=ue:we.sibling=ue,we=ue);return Le&&As(k,he),oe}for(ue=l(ue);he<U.length;he++)St=B(ue,k,he,U[he],Y),St!==null&&(i&&St.alternate!==null&&ue.delete(St.key===null?he:St.key),O=m(St,O,he),we===null?oe=St:we.sibling=St,we=St);return i&&ue.forEach(function(Zi){return s(k,Zi)}),Le&&As(k,he),oe}function ce(k,O,U,Y){if(U==null)throw Error(r(151));for(var oe=null,we=null,ue=O,he=O=0,St=null,Pe=U.next();ue!==null&&!Pe.done;he++,Pe=U.next()){ue.index>he?(St=ue,ue=null):St=ue.sibling;var Zi=V(k,ue,Pe.value,Y);if(Zi===null){ue===null&&(ue=St);break}i&&ue&&Zi.alternate===null&&s(k,ue),O=m(Zi,O,he),we===null?oe=Zi:we.sibling=Zi,we=Zi,ue=St}if(Pe.done)return a(k,ue),Le&&As(k,he),oe;if(ue===null){for(;!Pe.done;he++,Pe=U.next())Pe=$(k,Pe.value,Y),Pe!==null&&(O=m(Pe,O,he),we===null?oe=Pe:we.sibling=Pe,we=Pe);return Le&&As(k,he),oe}for(ue=l(ue);!Pe.done;he++,Pe=U.next())Pe=B(ue,k,he,Pe.value,Y),Pe!==null&&(i&&Pe.alternate!==null&&ue.delete(Pe.key===null?he:Pe.key),O=m(Pe,O,he),we===null?oe=Pe:we.sibling=Pe,we=Pe);return i&&ue.forEach(function(CA){return s(k,CA)}),Le&&As(k,he),oe}function Fe(k,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:e:{for(var oe=U.key;O!==null;){if(O.key===oe){if(oe=U.type,oe===S){if(O.tag===7){a(k,O.sibling),Y=d(O,U.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===F&&kv(oe)===O.type){a(k,O.sibling),Y=d(O,U.props),ro(Y,U),Y.return=k,k=Y;break e}a(k,O);break}else s(k,O);O=O.sibling}U.type===S?(Y=xs(U.props.children,k.mode,Y,U.key),Y.return=k,k=Y):(Y=Ql(U.type,U.key,U.props,null,k.mode,Y),ro(Y,U),Y.return=k,k=Y)}return b(k);case _:e:{for(oe=U.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(k,O.sibling),Y=d(O,U.children||[]),Y.return=k,k=Y;break e}else{a(k,O);break}else s(k,O);O=O.sibling}Y=Gf(U,k.mode,Y),Y.return=k,k=Y}return b(k);case F:return oe=U._init,U=oe(U._payload),Fe(k,O,U,Y)}if(ye(U))return pe(k,O,U,Y);if(le(U)){if(oe=le(U),typeof oe!="function")throw Error(r(150));return U=oe.call(U),ce(k,O,U,Y)}if(typeof U.then=="function")return Fe(k,O,pu(U),Y);if(U.$$typeof===D)return Fe(k,O,tu(k,U),Y);mu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(k,O.sibling),Y=d(O,U),Y.return=k,k=Y):(a(k,O),Y=Ff(U,k.mode,Y),Y.return=k,k=Y),b(k)):a(k,O)}return function(k,O,U,Y){try{so=0;var oe=Fe(k,O,U,Y);return Ir=null,oe}catch(ue){if(ue===$a||ue===iu)throw ue;var we=Jt(29,ue,null,k.mode);return we.lanes=Y,we.return=k,we}finally{}}}var kr=Pv(!0),Lv=Pv(!1),gn=H(null),jn=null;function Ui(i){var s=i.alternate;ee(yt,yt.current&1),ee(gn,i),jn===null&&(s===null||Nr.current!==null||s.memoizedState!==null)&&(jn=i)}function Uv(i){if(i.tag===22){if(ee(yt,yt.current),ee(gn,i),jn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(jn=i)}}else ji()}function ji(){ee(yt,yt.current),ee(gn,gn.current)}function ri(i){W(gn),jn===i&&(jn=null),W(yt)}var yt=H(0);function gu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Th(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:g({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var wh={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=sn(),d=ki(l);d.payload=s,a!=null&&(d.callback=a),s=Pi(i,d,l),s!==null&&(rn(s,i,l),Qa(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=sn(),d=ki(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Pi(i,d,l),s!==null&&(rn(s,i,l),Qa(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=sn(),l=ki(a);l.tag=2,s!=null&&(l.callback=s),s=Pi(i,l,a),s!==null&&(rn(s,i,a),Qa(s,i,a))}};function jv(i,s,a,l,d,m,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!za(a,l)||!za(d,m):!0}function Vv(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&wh.enqueueReplaceState(s,s.state,null)}function ks(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=g({},a));for(var d in i)a[d]===void 0&&(a[d]=i[d])}return a}var yu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Bv(i){yu(i)}function zv(i){console.error(i)}function Hv(i){yu(i)}function vu(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Fv(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xh(i,s,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){vu(i,s)},a}function Gv(i){return i=ki(i),i.tag=3,i}function qv(i,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;i.payload=function(){return d(m)},i.callback=function(){Fv(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Fv(s,a,l),typeof d!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function C1(i,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ya(s,a,d,!0),a=gn.current,a!==null){switch(a.tag){case 13:return jn===null?$h():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===eh?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Qh(i,l,d)),!1;case 22:return a.flags|=65536,l===eh?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Qh(i,l,d)),!1}throw Error(r(435,a.tag))}return Qh(i,l,d),$h(),!1}if(Le)return s=gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Kf&&(i=Error(r(422),{cause:l}),qa(hn(i,a)))):(l!==Kf&&(s=Error(r(423),{cause:l}),qa(hn(s,a))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,l=hn(l,a),d=xh(i.stateNode,l,d),ih(i,d),at!==4&&(at=2)),!1;var m=Error(r(520),{cause:l});if(m=hn(m,a),ho===null?ho=[m]:ho.push(m),at!==4&&(at=2),s===null)return!0;l=hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=d&-d,a.lanes|=i,i=xh(a.stateNode,l,i),ih(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gv(d),qv(d,i,a,l),ih(a,d),!1}a=a.return}while(a!==null);return!1}var Yv=Error(r(461)),_t=!1;function Ct(i,s,a,l){s.child=i===null?Lv(s,null,a,l):kr(s,i.child,a,l)}function Kv(i,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return Os(s),l=lh(i,s,a,b,m,d),E=uh(),i!==null&&!_t?(ch(i,s,d),ai(i,s,d)):(Le&&E&&qf(s),s.flags|=1,Ct(i,s,l,d),s.child)}function Wv(i,s,a,l,d){if(i===null){var m=a.type;return typeof m=="function"&&!Hf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,$v(i,s,m,l,d)):(i=Ql(a.type,null,l,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Ih(i,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:za,a(b,l)&&i.ref===s.ref)return ai(i,s,d)}return s.flags|=1,i=Jn(m,l),i.ref=s.ref,i.return=s,s.child=i}function $v(i,s,a,l,d){if(i!==null){var m=i.memoizedProps;if(za(m,l)&&i.ref===s.ref)if(_t=!1,s.pendingProps=l=m,Ih(i,d))(i.flags&131072)!==0&&(_t=!0);else return s.lanes=i.lanes,ai(i,s,d)}return Ch(i,s,a,l,d)}function Xv(i,s,a){var l=s.pendingProps,d=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(d=s.child=i.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Qv(i,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&nu(s,m!==null?m.cachePool:null),m!==null?$y(s,m):rh(),Uv(s);else return s.lanes=s.childLanes=536870912,Qv(i,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(nu(s,m.cachePool),$y(s,m),ji(),s.memoizedState=null):(i!==null&&nu(s,null),rh(),ji());return Ct(i,s,d,a),s.child}function Qv(i,s,a,l){var d=Jf();return d=d===null?null:{parent:gt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&nu(s,null),rh(),Uv(s),i!==null&&Ya(i,s,l,!0),null}function _u(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Ch(i,s,a,l,d){return Os(s),a=lh(i,s,a,l,void 0,d),l=uh(),i!==null&&!_t?(ch(i,s,d),ai(i,s,d)):(Le&&l&&qf(s),s.flags|=1,Ct(i,s,a,d),s.child)}function Zv(i,s,a,l,d,m){return Os(s),s.updateQueue=null,a=Qy(s,l,a,d),Xy(i),l=uh(),i!==null&&!_t?(ch(i,s,m),ai(i,s,m)):(Le&&l&&qf(s),s.flags|=1,Ct(i,s,a,m),s.child)}function Jv(i,s,a,l,d){if(Os(s),s.stateNode===null){var m=wr,b=a.contextType;typeof b=="object"&&b!==null&&(m=It(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wh,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},th(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?It(b):wr,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Th(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&wh.enqueueReplaceState(m,m.state,null),Ja(s,l,m,d),Za(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,R=ks(a,E);m.props=R;var j=m.context,G=a.contextType;b=wr,typeof G=="object"&&G!==null&&(b=It(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||j!==b)&&Vv(s,m,l,b),Ii=!1;var V=s.memoizedState;m.state=V,Ja(s,l,m,d),Za(),j=s.memoizedState,E||V!==j||Ii?(typeof $=="function"&&(Th(s,a,$,l),j=s.memoizedState),(R=Ii||jv(s,a,R,l,V,j,b))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=j),m.props=l,m.state=j,m.context=b,l=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,nh(i,s),b=s.memoizedProps,G=ks(a,b),m.props=G,$=s.pendingProps,V=m.context,j=a.contextType,R=wr,typeof j=="object"&&j!==null&&(R=It(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==$||V!==R)&&Vv(s,m,l,R),Ii=!1,V=s.memoizedState,m.state=V,Ja(s,l,m,d),Za();var B=s.memoizedState;b!==$||V!==B||Ii||i!==null&&i.dependencies!==null&&eu(i.dependencies)?(typeof E=="function"&&(Th(s,a,E,l),B=s.memoizedState),(G=Ii||jv(s,a,G,l,V,B,R)||i!==null&&i.dependencies!==null&&eu(i.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,B,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,B,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=B),m.props=l,m.state=B,m.context=R,l=G):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,_u(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=kr(s,i.child,null,d),s.child=kr(s,null,a,d)):Ct(i,s,a,d),s.memoizedState=m.state,i=s.child):i=ai(i,s,d),i}function e_(i,s,a,l){return Ga(),s.flags|=256,Ct(i,s,a,l),s.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(i){return{baseLanes:i,cachePool:zy()}}function Nh(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=yn),i}function t_(i,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=i!==null&&i.memoizedState===null?!1:(yt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Le){if(d?Ui(s):ji(),Le){var E=rt,R;if(R=E){e:{for(R=E,E=Un;R.nodeType!==8;){if(!E){E=null;break e}if(R=An(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(s.memoizedState={dehydrated:E,treeContext:Cs!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},R=Jt(18,null,null,0),R.stateNode=E,R.return=s,s.child=R,Ut=s,rt=null,R=!0):R=!1}R||Ns(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hd(E)?s.lanes=32:s.lanes=536870912,null;ri(s)}return E=l.children,l=l.fallback,d?(ji(),d=s.mode,E=bu({mode:"hidden",children:E},d),l=xs(l,d,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,d=s.child,d.memoizedState=Rh(a),d.childLanes=Nh(i,b,a),s.memoizedState=Ah,l):(Ui(s),Dh(s,E))}if(R=i.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(m)s.flags&256?(Ui(s),s.flags&=-257,s=Oh(i,s,a)):s.memoizedState!==null?(ji(),s.child=i.child,s.flags|=128,s=null):(ji(),d=l.fallback,E=s.mode,l=bu({mode:"visible",children:l.children},E),d=xs(d,E,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,kr(s,i.child,null,a),l=s.child,l.memoizedState=Rh(a),l.childLanes=Nh(i,b,a),s.memoizedState=Ah,s=d);else if(Ui(s),hd(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var j=b.dgst;b=j,l=Error(r(419)),l.stack="",l.digest=b,qa({value:l,source:null,stack:null}),s=Oh(i,s,a)}else if(_t||Ya(i,s,a,!1),b=(a&i.childLanes)!==0,_t||b){if(b=We,b!==null&&(l=a&-a,l=(l&42)!==0?1:df(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Tr(i,l),rn(b,i,l),Yv;E.data==="$?"||$h(),s=Oh(i,s,a)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=R.treeContext,rt=An(E.nextSibling),Ut=s,Le=!0,Rs=null,Un=!1,i!==null&&(pn[mn++]=ei,pn[mn++]=ti,pn[mn++]=Cs,ei=i.id,ti=i.overflow,Cs=s),s=Dh(s,l.children),s.flags|=4096);return s}return d?(ji(),d=l.fallback,E=s.mode,R=i.child,j=R.sibling,l=Jn(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?d=Jn(j,d):(d=xs(d,E,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,E=i.child.memoizedState,E===null?E=Rh(a):(R=E.cachePool,R!==null?(j=gt._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=zy(),E={baseLanes:E.baseLanes|a,cachePool:R}),d.memoizedState=E,d.childLanes=Nh(i,b,a),s.memoizedState=Ah,l):(Ui(s),a=i.child,i=a.sibling,a=Jn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=a,s.memoizedState=null,a)}function Dh(i,s){return s=bu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function bu(i,s){return i=Jt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Oh(i,s,a){return kr(s,i.child,null,a),i=Dh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function n_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),$f(i.return,s,a)}function Mh(i,s,a,l,d){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function i_(i,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(Ct(i,s,l.children,a),l=yt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&n_(i,a,s);else if(i.tag===19)n_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(ee(yt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)i=a.alternate,i!==null&&gu(i)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Mh(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&gu(i)===null){s.child=d;break}i=d.sibling,d.sibling=a,a=d,d=i}Mh(s,!0,a,null,m);break;case"together":Mh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ai(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Fi|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ya(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Jn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Jn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Ih(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&eu(i)))}function A1(i,s,a){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Mi(s,gt,i.memoizedState.cache),Ga();break;case 27:case 5:je(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Mi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ui(s),s.flags|=128,null):(a&s.child.childLanes)!==0?t_(i,s,a):(Ui(s),i=ai(i,s,a),i!==null?i.sibling:null);Ui(s);break;case 19:var d=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ya(i,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return i_(i,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ee(yt,yt.current),l)break;return null;case 22:case 23:return s.lanes=0,Xv(i,s,a);case 24:Mi(s,gt,i.memoizedState.cache)}return ai(i,s,a)}function s_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)_t=!0;else{if(!Ih(i,a)&&(s.flags&128)===0)return _t=!1,A1(i,s,a);_t=(i.flags&131072)!==0}else _t=!1,Le&&(s.flags&1048576)!==0&&ky(s,Jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")Hf(l)?(i=ks(l,i),s.tag=1,s=Jv(null,s,l,i,a)):(s.tag=0,s=Ch(null,s,l,i,a));else{if(l!=null){if(d=l.$$typeof,d===q){s.tag=11,s=Kv(null,s,l,i,a);break e}else if(d===K){s.tag=14,s=Wv(null,s,l,i,a);break e}}throw s=Se(l)||l,Error(r(306,s,""))}}return s;case 0:return Ch(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ks(l,s.pendingProps),Jv(i,s,l,d,a);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,nh(i,s),Ja(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Mi(s,gt,l),l!==m.cache&&Xf(s,[gt],a,!0),Za(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=e_(i,s,l,a);break e}else if(l!==d){d=hn(Error(r(424)),s),qa(d),s=e_(i,s,l,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=An(i.firstChild),Ut=s,Le=!0,Rs=null,Un=!0,a=Lv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ga(),l===d){s=ai(i,s,a);break e}Ct(i,s,l,a)}s=s.child}return s;case 26:return _u(i,s),i===null?(a=l0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Le||(a=s.type,i=s.pendingProps,l=ku(Q.current).createElement(a),l[Mt]=s,l[Ft]=i,Rt(l,a,i),vt(l),s.stateNode=l):s.memoizedState=l0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return je(s),i===null&&Le&&(l=s.stateNode=r0(s.type,s.pendingProps,Q.current),Ut=s,Un=!0,d=rt,Ki(s.type)?(dd=d,rt=An(l.firstChild)):rt=d),Ct(i,s,s.pendingProps.children,a),_u(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Le&&((d=l=rt)&&(l=tA(l,s.type,s.pendingProps,Un),l!==null?(s.stateNode=l,Ut=s,rt=An(l.firstChild),Un=!1,d=!0):d=!1),d||Ns(s)),je(s),d=s.type,m=s.pendingProps,b=i!==null?i.memoizedProps:null,l=m.children,ud(d,m)?l=null:b!==null&&ud(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=lh(i,s,_1,null,null,a),Eo._currentValue=d),_u(i,s),Ct(i,s,l,a),s.child;case 6:return i===null&&Le&&((i=a=rt)&&(a=nA(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Ut=s,rt=null,i=!0):i=!1),i||Ns(s)),null;case 13:return t_(i,s,a);case 4:return ve(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=kr(s,null,l,a):Ct(i,s,l,a),s.child;case 11:return Kv(i,s,s.type,s.pendingProps,a);case 7:return Ct(i,s,s.pendingProps,a),s.child;case 8:return Ct(i,s,s.pendingProps.children,a),s.child;case 12:return Ct(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Mi(s,s.type,l.value),Ct(i,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Os(s),d=It(d),l=l(d),s.flags|=1,Ct(i,s,l,a),s.child;case 14:return Wv(i,s,s.type,s.pendingProps,a);case 15:return $v(i,s,s.type,s.pendingProps,a);case 19:return i_(i,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},i===null?(a=bu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Jn(i.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Xv(i,s,a);case 24:return Os(s),l=It(gt),i===null?(d=Jf(),d===null&&(d=We,m=Qf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},th(s),Mi(s,gt,d)):((i.lanes&a)!==0&&(nh(i,s),Ja(s,null,null,a),Za()),d=i.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Mi(s,gt,l)):(l=m.cache,Mi(s,gt,l),l!==d.cache&&Xf(s,[gt],a,!0))),Ct(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function oi(i){i.flags|=4}function r_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!d0(s)){if(s=gn.current,s!==null&&((Ie&4194048)===Ie?jn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||s!==jn))throw Xa=eh,Hy;i.flags|=8192}}function Su(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ug():536870912,i.lanes|=s,jr|=s)}function ao(i,s){if(!Le)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function tt(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function R1(i,s,a){var l=s.pendingProps;switch(Yf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ii(gt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Fa(s)?oi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uy())),tt(s),null;case 26:return a=s.memoizedState,i===null?(oi(s),a!==null?(tt(s),r_(s,a)):(tt(s),s.flags&=-16777217)):a?a!==i.memoizedState?(oi(s),tt(s),r_(s,a)):(tt(s),s.flags&=-16777217):(i.memoizedProps!==l&&oi(s),tt(s),s.flags&=-16777217),null;case 27:mt(s),a=Q.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return tt(s),null}i=P.current,Fa(s)?Py(s):(i=r0(d,l,a),s.stateNode=i,oi(s))}return tt(s),null;case 5:if(mt(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return tt(s),null}if(i=P.current,Fa(s))Py(s);else{switch(d=ku(Q.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}i[Mt]=s,i[Ft]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(Rt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&oi(s)}}return tt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&oi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Q.current,Fa(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,d=Ut,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}i[Mt]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z_(i.nodeValue,a)),i||Ns(s)}else i=ku(i).createTextNode(l),i[Mt]=s,s.stateNode=i}return tt(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Fa(s),l!==null&&l.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mt]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=Uy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ri(s),s):(ri(s),null)}if(ri(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),Su(s,s.updateQueue),tt(s),null;case 4:return Ye(),i===null&&sd(s.stateNode.containerInfo),tt(s),null;case 10:return ii(s.type),tt(s),null;case 19:if(W(yt),d=s.memoizedState,d===null)return tt(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)ao(d,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=gu(i),m!==null){for(s.flags|=128,ao(d,!1),i=m.updateQueue,s.updateQueue=i,Su(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Iy(a,i),a=a.sibling;return ee(yt,yt.current&1|2),s.child}i=i.sibling}d.tail!==null&&zt()>wu&&(s.flags|=128,l=!0,ao(d,!1),s.lanes=4194304)}else{if(!l)if(i=gu(m),i!==null){if(s.flags|=128,l=!0,i=i.updateQueue,s.updateQueue=i,Su(s,i),ao(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Le)return tt(s),null}else 2*zt()-d.renderingStartTime>wu&&a!==536870912&&(s.flags|=128,l=!0,ao(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(i=d.last,i!==null?i.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=zt(),s.sibling=null,i=yt.current,ee(yt,l?i&1|2:i&1),s):(tt(s),null);case 22:case 23:return ri(s),ah(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),a=s.updateQueue,a!==null&&Su(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&W(Ms),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ii(gt),tt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function N1(i,s){switch(Yf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ii(gt),Ye(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return mt(s),null;case 13:if(ri(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ga()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return W(yt),null;case 4:return Ye(),null;case 10:return ii(s.type),null;case 22:case 23:return ri(s),ah(),i!==null&&W(Ms),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ii(gt),null;case 25:return null;default:return null}}function a_(i,s){switch(Yf(s),s.tag){case 3:ii(gt),Ye();break;case 26:case 27:case 5:mt(s);break;case 4:Ye();break;case 13:ri(s);break;case 19:W(yt);break;case 10:ii(s.type);break;case 22:case 23:ri(s),ah(),i!==null&&W(Ms);break;case 24:ii(gt)}}function oo(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&i)===i){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(E){Ke(s,s.return,E)}}function Vi(i,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&i)===i){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=s;var R=a,j=E;try{j()}catch(G){Ke(d,R,G)}}}l=l.next}while(l!==m)}}catch(G){Ke(s,s.return,G)}}function o_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Wy(s,a)}catch(l){Ke(i,i.return,l)}}}function l_(i,s,a){a.props=ks(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(i,s,l)}}function lo(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(d){Ke(i,s,d)}}function Vn(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Ke(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ke(i,s,d)}else a.current=null}function u_(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Ke(i,i.return,d)}}function kh(i,s,a){try{var l=i.stateNode;X1(l,i.type,a,s),l[Ft]=s}catch(d){Ke(i,i.return,d)}}function c_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ki(i.type)||i.tag===4}function Ph(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ki(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lh(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Iu));else if(l!==4&&(l===27&&Ki(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Lh(i,s,a),i=i.sibling;i!==null;)Lh(i,s,a),i=i.sibling}function Eu(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&Ki(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Eu(i,s,a),i=i.sibling;i!==null;)Eu(i,s,a),i=i.sibling}function f_(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Rt(s,l,a),s[Mt]=i,s[Ft]=a}catch(m){Ke(i,i.return,m)}}var li=!1,ft=!1,Uh=!1,h_=typeof WeakSet=="function"?WeakSet:Set,bt=null;function D1(i,s){if(i=i.containerInfo,od=Bu,i=Ty(i),Pf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,E=-1,R=-1,j=0,G=0,$=i,V=null;t:for(;;){for(var B;$!==a||d!==0&&$.nodeType!==3||(E=b+d),$!==m||l!==0&&$.nodeType!==3||(R=b+l),$.nodeType===3&&(b+=$.nodeValue.length),(B=$.firstChild)!==null;)V=$,$=B;for(;;){if($===i)break t;if(V===a&&++j===d&&(E=b),V===m&&++G===l&&(R=b),(B=$.nextSibling)!==null)break;$=V,V=$.parentNode}$=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:i,selectionRange:a},Bu=!1,bt=s;bt!==null;)if(s=bt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,bt=i;else for(;bt!==null;){switch(s=bt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=ks(a.type,d,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(ce){Ke(a,a.return,ce)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)fd(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,bt=i;break}bt=s.return}}function d_(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(i,a),l&4&&oo(5,a);break;case 1:if(Bi(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(b){Ke(a,a.return,b)}else{var d=ks(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Ke(a,a.return,b)}}l&64&&o_(a),l&512&&lo(a,a.return);break;case 3:if(Bi(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Wy(i,s)}catch(b){Ke(a,a.return,b)}}break;case 27:s===null&&l&4&&f_(a);case 26:case 5:Bi(i,a),s===null&&l&4&&u_(a),l&512&&lo(a,a.return);break;case 12:Bi(i,a);break;case 13:Bi(i,a),l&4&&g_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=V1.bind(null,a),iA(i,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){s=s!==null&&s.memoizedState!==null||ft,d=li;var m=ft;li=l,(ft=s)&&!m?zi(i,a,(a.subtreeFlags&8772)!==0):Bi(i,a),li=d,ft=m}break;case 30:break;default:Bi(i,a)}}function p_(i){var s=i.alternate;s!==null&&(i.alternate=null,p_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&gf(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ze=null,Yt=!1;function ui(i,s,a){for(a=a.child;a!==null;)m_(i,s,a),a=a.sibling}function m_(i,s,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(ke,a)}catch{}switch(a.tag){case 26:ft||Vn(a,s),ui(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Vn(a,s);var l=Ze,d=Yt;Ki(a.type)&&(Ze=a.stateNode,Yt=!1),ui(i,s,a),vo(a.stateNode),Ze=l,Yt=d;break;case 5:ft||Vn(a,s);case 6:if(l=Ze,d=Yt,Ze=null,ui(i,s,a),Ze=l,Yt=d,Ze!==null)if(Yt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(m){Ke(a,s,m)}else try{Ze.removeChild(a.stateNode)}catch(m){Ke(a,s,m)}break;case 18:Ze!==null&&(Yt?(i=Ze,i0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Co(i)):i0(Ze,a.stateNode));break;case 4:l=Ze,d=Yt,Ze=a.stateNode.containerInfo,Yt=!0,ui(i,s,a),Ze=l,Yt=d;break;case 0:case 11:case 14:case 15:ft||Vi(2,a,s),ft||Vi(4,a,s),ui(i,s,a);break;case 1:ft||(Vn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,s,l)),ui(i,s,a);break;case 21:ui(i,s,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,ui(i,s,a),ft=l;break;default:ui(i,s,a)}}function g_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Co(i)}catch(a){Ke(s,s.return,a)}}function O1(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new h_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new h_),s;default:throw Error(r(435,i.tag))}}function jh(i,s){var a=O1(i);s.forEach(function(l){var d=B1.bind(null,i,l);a.has(l)||(a.add(l),l.then(d,d))})}function en(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=i,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Ki(E.type)){Ze=E.stateNode,Yt=!1;break e}break;case 5:Ze=E.stateNode,Yt=!1;break e;case 3:case 4:Ze=E.stateNode.containerInfo,Yt=!0;break e}E=E.return}if(Ze===null)throw Error(r(160));m_(m,b,d),Ze=null,Yt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)y_(s,i),s=s.sibling}var Cn=null;function y_(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:en(s,i),tn(i),l&4&&(Vi(3,i,i.return),oo(3,i),Vi(5,i,i.return));break;case 1:en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),l&64&&li&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Cn;if(en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ma]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Rt(m,l,a),m[Mt]=i,vt(m),l=m;break e;case"link":var b=f0("link","href",d).get(l+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}m=d.createElement(l),Rt(m,l,a),d.head.appendChild(m);break;case"meta":if(b=f0("meta","content",d).get(l+(a.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}m=d.createElement(l),Rt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Mt]=i,vt(m),l=m}i.stateNode=l}else h0(d,i.type,i.stateNode);else i.stateNode=c0(d,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?h0(d,i.type,i.stateNode):c0(d,l,i.memoizedProps)):l===null&&i.stateNode!==null&&kh(i,i.memoizedProps,a.memoizedProps)}break;case 27:en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),a!==null&&l&4&&kh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(en(s,i),tn(i),l&512&&(ft||a===null||Vn(a,a.return)),i.flags&32){d=i.stateNode;try{gr(d,"")}catch(B){Ke(i,i.return,B)}}l&4&&i.stateNode!=null&&(d=i.memoizedProps,kh(i,d,a!==null?a.memoizedProps:d)),l&1024&&(Uh=!0);break;case 6:if(en(s,i),tn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(B){Ke(i,i.return,B)}}break;case 3:if(Uu=null,d=Cn,Cn=Pu(s.containerInfo),en(s,i),Cn=d,tn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(B){Ke(i,i.return,B)}Uh&&(Uh=!1,v_(i));break;case 4:l=Cn,Cn=Pu(i.stateNode.containerInfo),en(s,i),tn(i),Cn=l;break;case 12:en(s,i),tn(i);break;case 13:en(s,i),tn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gh=zt()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,jh(i,l)));break;case 22:d=i.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=li,G=ft;if(li=j||d,ft=G||R,en(s,i),ft=G,li=j,tn(i),l&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||R||li||ft||Ps(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(m=R.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,V=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(B){Ke(R,R.return,B)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(B){Ke(R,R.return,B)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jh(i,a))));break;case 19:en(s,i),tn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,jh(i,l)));break;case 30:break;case 21:break;default:en(s,i),tn(i)}}function tn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=Ph(i);Eu(i,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(gr(b,""),a.flags&=-33);var E=Ph(i);Eu(i,E,b);break;case 3:case 4:var R=a.stateNode.containerInfo,j=Ph(i);Lh(i,j,R);break;default:throw Error(r(161))}}catch(G){Ke(i,i.return,G)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function v_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;v_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)d_(i,s.alternate,s),s=s.sibling}function Ps(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Vi(4,s,s.return),Ps(s);break;case 1:Vn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&l_(s,s.return,a),Ps(s);break;case 27:vo(s.stateNode);case 26:case 5:Vn(s,s.return),Ps(s);break;case 22:s.memoizedState===null&&Ps(s);break;case 30:Ps(s);break;default:Ps(s)}i=i.sibling}}function zi(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=i,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:zi(d,m,a),oo(4,m);break;case 1:if(zi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){Ke(l,l.return,j)}if(l=m,d=l.updateQueue,d!==null){var E=l.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Ky(R[d],E)}catch(j){Ke(l,l.return,j)}}a&&b&64&&o_(m),lo(m,m.return);break;case 27:f_(m);case 26:case 5:zi(d,m,a),a&&l===null&&b&4&&u_(m),lo(m,m.return);break;case 12:zi(d,m,a);break;case 13:zi(d,m,a),a&&b&4&&g_(d,m);break;case 22:m.memoizedState===null&&zi(d,m,a),lo(m,m.return);break;case 30:break;default:zi(d,m,a)}s=s.sibling}}function Vh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ka(a))}function Bh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ka(i))}function Bn(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)__(i,s,a,l),s=s.sibling}function __(i,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(i,s,a,l),d&2048&&oo(9,s);break;case 1:Bn(i,s,a,l);break;case 3:Bn(i,s,a,l),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ka(i)));break;case 12:if(d&2048){Bn(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){Ke(s,s.return,R)}}else Bn(i,s,a,l);break;case 13:Bn(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Bn(i,s,a,l):uo(i,s):m._visibility&2?Bn(i,s,a,l):(m._visibility|=2,Pr(i,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&Vh(b,s);break;case 24:Bn(i,s,a,l),d&2048&&Bh(s.alternate,s);break;default:Bn(i,s,a,l)}}function Pr(i,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,b=s,E=a,R=l,j=b.flags;switch(b.tag){case 0:case 11:case 15:Pr(m,b,E,R,d),oo(8,b);break;case 23:break;case 22:var G=b.stateNode;b.memoizedState!==null?G._visibility&2?Pr(m,b,E,R,d):uo(m,b):(G._visibility|=2,Pr(m,b,E,R,d)),d&&j&2048&&Vh(b.alternate,b);break;case 24:Pr(m,b,E,R,d),d&&j&2048&&Bh(b.alternate,b);break;default:Pr(m,b,E,R,d)}s=s.sibling}}function uo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,d=l.flags;switch(l.tag){case 22:uo(a,l),d&2048&&Vh(l.alternate,l);break;case 24:uo(a,l),d&2048&&Bh(l.alternate,l);break;default:uo(a,l)}s=s.sibling}}var co=8192;function Lr(i){if(i.subtreeFlags&co)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 26:Lr(i),i.flags&co&&i.memoizedState!==null&&gA(Cn,i.memoizedState,i.memoizedProps);break;case 5:Lr(i);break;case 3:case 4:var s=Cn;Cn=Pu(i.stateNode.containerInfo),Lr(i),Cn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=co,co=16777216,Lr(i),co=s):Lr(i));break;default:Lr(i)}}function S_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function fo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];bt=l,T_(l,i)}S_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(i),i=i.sibling}function E_(i){switch(i.tag){case 0:case 11:case 15:fo(i),i.flags&2048&&Vi(9,i,i.return);break;case 3:fo(i);break;case 12:fo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Tu(i)):fo(i);break;default:fo(i)}}function Tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];bt=l,T_(l,i)}S_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Vi(8,s,s.return),Tu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(s));break;default:Tu(s)}i=i.sibling}}function T_(i,s){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:Vi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ka(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,bt=l;else e:for(a=i;bt!==null;){l=bt;var d=l.sibling,m=l.return;if(p_(l),l===a){bt=null;break e}if(d!==null){d.return=m,bt=d;break e}bt=m}}}var M1={getCacheForType:function(i){var s=It(gt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},I1=typeof WeakMap=="function"?WeakMap:Map,Ve=0,We=null,Ne=null,Ie=0,Be=0,nn=null,Hi=!1,Ur=!1,zh=!1,ci=0,at=0,Fi=0,Ls=0,Hh=0,yn=0,jr=0,ho=null,Kt=null,Fh=!1,Gh=0,wu=1/0,xu=null,Gi=null,At=0,qi=null,Vr=null,Br=0,qh=0,Yh=null,w_=null,po=0,Kh=null;function sn(){if((Ve&2)!==0&&Ie!==0)return Ie&-Ie;if(L.T!==null){var i=Ar;return i!==0?i:ed()}return Bg()}function x_(){yn===0&&(yn=(Ie&536870912)===0||Le?Lg():536870912);var i=gn.current;return i!==null&&(i.flags|=32),yn}function rn(i,s,a){(i===We&&(Be===2||Be===9)||i.cancelPendingCommit!==null)&&(zr(i,0),Yi(i,Ie,yn,!1)),Oa(i,a),((Ve&2)===0||i!==We)&&(i===We&&((Ve&2)===0&&(Ls|=a),at===4&&Yi(i,Ie,yn,!1)),zn(i))}function C_(i,s,a){if((Ve&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&i.expiredLanes)===0||Da(i,s),d=l?L1(i,s):Xh(i,s,!0),m=l;do{if(d===0){Ur&&!l&&Yi(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!k1(a)){d=Xh(i,s,!1),m=!1;continue}if(d===2){if(m=s,i.errorRecoveryDisabledLanes&m)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var E=i;d=ho;var R=E.current.memoizedState.isDehydrated;if(R&&(zr(E,b).flags|=256),b=Xh(E,b,!1),b!==2){if(zh&&!R){E.errorRecoveryDisabledLanes|=m,Ls|=m,d=4;break e}m=Kt,Kt=d,m!==null&&(Kt===null?Kt=m:Kt.push.apply(Kt,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){zr(i,0),Yi(i,s,0,!0);break}e:{switch(l=i,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yi(l,s,yn,!Hi);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Gh+300-zt(),10<d)){if(Yi(l,s,yn,!Hi),Ll(l,0,!0)!==0)break e;l.timeoutHandle=t0(A_.bind(null,l,a,Kt,xu,Fh,s,yn,Ls,jr,Hi,m,2,-0,0),d);break e}A_(l,a,Kt,xu,Fh,s,yn,Ls,jr,Hi,m,0,-0,0)}}break}while(!0);zn(i)}function A_(i,s,a,l,d,m,b,E,R,j,G,$,V,B){if(i.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(So={stylesheets:null,count:0,unsuspend:mA},b_(s),$=yA(),$!==null)){i.cancelPendingCommit=$(k_.bind(null,i,s,m,a,l,d,b,E,R,G,1,V,B)),Yi(i,m,b,!j);return}k_(i,s,m,a,l,d,b,E,R)}function k1(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Zt(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(i,s,a,l){s&=~Hh,s&=~Ls,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var d=s;0<d;){var m=31-et(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&jg(i,a,s)}function Cu(){return(Ve&6)===0?(mo(0),!1):!0}function Wh(){if(Ne!==null){if(Be===0)var i=Ne.return;else i=Ne,ni=Ds=null,fh(i),Ir=null,so=0,i=Ne;for(;i!==null;)a_(i.alternate,i),i=i.return;Ne=null}}function zr(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,Z1(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Wh(),We=i,Ne=a=Jn(i.current,null),Ie=s,Be=0,nn=null,Hi=!1,Ur=Da(i,s),zh=!1,jr=yn=Hh=Ls=Fi=at=0,Kt=ho=null,Fh=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var d=31-et(l),m=1<<d;s|=i[d],l&=~m}return ci=s,Wl(),a}function R_(i,s){Te=null,L.H=du,s===$a||s===iu?(s=qy(),Be=3):s===Hy?(s=qy(),Be=4):Be=s===Yv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nn=s,Ne===null&&(at=1,vu(i,hn(s,i.current)))}function N_(){var i=L.H;return L.H=du,i===null?du:i}function D_(){var i=L.A;return L.A=M1,i}function $h(){at=4,Hi||(Ie&4194048)!==Ie&&gn.current!==null||(Ur=!0),(Fi&134217727)===0&&(Ls&134217727)===0||We===null||Yi(We,Ie,yn,!1)}function Xh(i,s,a){var l=Ve;Ve|=2;var d=N_(),m=D_();(We!==i||Ie!==s)&&(xu=null,zr(i,s)),s=!1;var b=at;e:do try{if(Be!==0&&Ne!==null){var E=Ne,R=nn;switch(Be){case 8:Wh(),b=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(s=!0);var j=Be;if(Be=0,nn=null,Hr(i,E,R,j),a&&Ur){b=0;break e}break;default:j=Be,Be=0,nn=null,Hr(i,E,R,j)}}P1(),b=at;break}catch(G){R_(i,G)}while(!0);return s&&i.shellSuspendCounter++,ni=Ds=null,Ve=l,L.H=d,L.A=m,Ne===null&&(We=null,Ie=0,Wl()),b}function P1(){for(;Ne!==null;)O_(Ne)}function L1(i,s){var a=Ve;Ve|=2;var l=N_(),d=D_();We!==i||Ie!==s?(xu=null,wu=zt()+500,zr(i,s)):Ur=Da(i,s);e:do try{if(Be!==0&&Ne!==null){s=Ne;var m=nn;t:switch(Be){case 1:Be=0,nn=null,Hr(i,s,m,1);break;case 2:case 9:if(Fy(m)){Be=0,nn=null,M_(s);break}s=function(){Be!==2&&Be!==9||We!==i||(Be=7),zn(i)},m.then(s,s);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Fy(m)?(Be=0,nn=null,M_(s)):(Be=0,nn=null,Hr(i,s,m,7));break;case 5:var b=null;switch(Ne.tag){case 26:b=Ne.memoizedState;case 5:case 27:var E=Ne;if(!b||d0(b)){Be=0,nn=null;var R=E.sibling;if(R!==null)Ne=R;else{var j=E.return;j!==null?(Ne=j,Au(j)):Ne=null}break t}}Be=0,nn=null,Hr(i,s,m,5);break;case 6:Be=0,nn=null,Hr(i,s,m,6);break;case 8:Wh(),at=6;break e;default:throw Error(r(462))}}U1();break}catch(G){R_(i,G)}while(!0);return ni=Ds=null,L.H=l,L.A=d,Ve=a,Ne!==null?0:(We=null,Ie=0,Wl(),at)}function U1(){for(;Ne!==null&&!rr();)O_(Ne)}function O_(i){var s=s_(i.alternate,i,ci);i.memoizedProps=i.pendingProps,s===null?Au(i):Ne=s}function M_(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Zv(a,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=Zv(a,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:fh(s);default:a_(a,s),s=Ne=Iy(s,ci),s=s_(a,s,ci)}i.memoizedProps=i.pendingProps,s===null?Au(i):Ne=s}function Hr(i,s,a,l){ni=Ds=null,fh(s),Ir=null,so=0;var d=s.return;try{if(C1(i,d,s,a,Ie)){at=1,vu(i,hn(a,i.current)),Ne=null;return}}catch(m){if(d!==null)throw Ne=d,m;at=1,vu(i,hn(a,i.current)),Ne=null;return}s.flags&32768?(Le||l===1?i=!0:Ur||(Ie&536870912)!==0?i=!1:(Hi=i=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(s,i)):Au(s)}function Au(i){var s=i;do{if((s.flags&32768)!==0){I_(s,Hi);return}i=s.return;var a=R1(s.alternate,s,ci);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);at===0&&(at=5)}function I_(i,s){do{var a=N1(i.alternate,i);if(a!==null){a.flags&=32767,Ne=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=a}while(i!==null);at=6,Ne=null}function k_(i,s,a,l,d,m,b,E,R){i.cancelPendingCommit=null;do Ru();while(At!==0);if((Ve&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Bf,mC(i,a,m,b,E,R),i===We&&(Ne=We=null,Ie=0),Vr=s,qi=i,Br=a,qh=m,Yh=d,w_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,z1(Xn,function(){return V_(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,d=Z.p,Z.p=2,b=Ve,Ve|=4;try{D1(i,s,a)}finally{Ve=b,Z.p=d,L.T=l}}At=1,P_(),L_(),U_()}}function P_(){if(At===1){At=0;var i=qi,s=Vr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=Z.p;Z.p=2;var d=Ve;Ve|=4;try{y_(s,i);var m=ld,b=Ty(i.containerInfo),E=m.focusedElem,R=m.selectionRange;if(b!==E&&E&&E.ownerDocument&&Ey(E.ownerDocument.documentElement,E)){if(R!==null&&Pf(E)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,V=$&&$.defaultView||window;if(V.getSelection){var B=V.getSelection(),pe=E.textContent.length,ce=Math.min(R.start,pe),Fe=R.end===void 0?ce:Math.min(R.end,pe);!B.extend&&ce>Fe&&(b=Fe,Fe=ce,ce=b);var k=Sy(E,ce),O=Sy(E,Fe);if(k&&O&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=$.createRange();U.setStart(k.node,k.offset),B.removeAllRanges(),ce>Fe?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for($=[],B=E;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Bu=!!od,ld=od=null}finally{Ve=d,Z.p=l,L.T=a}}i.current=s,At=2}}function L_(){if(At===2){At=0;var i=qi,s=Vr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=Z.p;Z.p=2;var d=Ve;Ve|=4;try{d_(i,s.alternate,s)}finally{Ve=d,Z.p=l,L.T=a}}At=3}}function U_(){if(At===4||At===3){At=0,$n();var i=qi,s=Vr,a=Br,l=w_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?At=5:(At=0,Vr=qi=null,j_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Gi=null),pf(a),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(ke,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=L.T,d=Z.p,Z.p=2,L.T=null;try{for(var m=i.onRecoverableError,b=0;b<l.length;b++){var E=l[b];m(E.value,{componentStack:E.stack})}}finally{L.T=s,Z.p=d}}(Br&3)!==0&&Ru(),zn(i),d=i.pendingLanes,(a&4194090)!==0&&(d&42)!==0?i===Kh?po++:(po=0,Kh=i):po=0,mo(0)}}function j_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ka(s)))}function Ru(i){return P_(),L_(),U_(),V_()}function V_(){if(At!==5)return!1;var i=qi,s=qh;qh=0;var a=pf(Br),l=L.T,d=Z.p;try{Z.p=32>a?32:a,L.T=null,a=Yh,Yh=null;var m=qi,b=Br;if(At=0,Vr=qi=null,Br=0,(Ve&6)!==0)throw Error(r(331));var E=Ve;if(Ve|=4,E_(m.current),__(m,m.current,b,a),Ve=E,mo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(ke,m)}catch{}return!0}finally{Z.p=d,L.T=l,j_(i,s)}}function B_(i,s,a){s=hn(a,s),s=xh(i.stateNode,s,2),i=Pi(i,s,2),i!==null&&(Oa(i,2),zn(i))}function Ke(i,s,a){if(i.tag===3)B_(i,i,a);else for(;s!==null;){if(s.tag===3){B_(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){i=hn(a,i),a=Gv(2),l=Pi(s,a,2),l!==null&&(qv(a,l,s,i),Oa(l,2),zn(l));break}}s=s.return}}function Qh(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new I1;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(zh=!0,d.add(a),i=j1.bind(null,i,s,a),s.then(i,i))}function j1(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,We===i&&(Ie&a)===a&&(at===4||at===3&&(Ie&62914560)===Ie&&300>zt()-Gh?(Ve&2)===0&&zr(i,0):Hh|=a,jr===Ie&&(jr=0)),zn(i)}function z_(i,s){s===0&&(s=Ug()),i=Tr(i,s),i!==null&&(Oa(i,s),zn(i))}function V1(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),z_(i,a)}function B1(i,s){var a=0;switch(i.tag){case 13:var l=i.stateNode,d=i.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),z_(i,a)}function z1(i,s){return wn(i,s)}var Nu=null,Fr=null,Zh=!1,Du=!1,Jh=!1,Us=0;function zn(i){i!==Fr&&i.next===null&&(Fr===null?Nu=Fr=i:Fr=Fr.next=i),Du=!0,Zh||(Zh=!0,F1())}function mo(i,s){if(!Jh&&Du){Jh=!0;do for(var a=!1,l=Nu;l!==null;){if(i!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-et(42|i)+1)-1,m&=d&~(b&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,q_(l,m))}else m=Ie,m=Ll(l,l===We?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Da(l,m)||(a=!0,q_(l,m));l=l.next}while(a);Jh=!1}}function H1(){H_()}function H_(){Du=Zh=!1;var i=0;Us!==0&&(Q1()&&(i=Us),Us=0);for(var s=zt(),a=null,l=Nu;l!==null;){var d=l.next,m=F_(l,s);m===0?(l.next=null,a===null?Nu=d:a.next=d,d===null&&(Fr=a)):(a=l,(i!==0||(m&3)!==0)&&(Du=!0)),l=d}mo(i)}function F_(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var b=31-et(m),E=1<<b,R=d[b];R===-1?((E&a)===0||(E&l)!==0)&&(d[b]=pC(E,s)):R<=s&&(i.expiredLanes|=E),m&=~E}if(s=We,a=Ie,a=Ll(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Be===2||Be===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Da(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&un(l),pf(a)){case 2:case 8:a=lr;break;case 32:a=Xn;break;case 268435456:a=fe;break;default:a=Xn}return l=G_.bind(null,i),a=wn(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&un(l),i.callbackPriority=2,i.callbackNode=null,2}function G_(i,s){if(At!==0&&At!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ru()&&i.callbackNode!==a)return null;var l=Ie;return l=Ll(i,i===We?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(C_(i,l,s),F_(i,zt()),i.callbackNode!=null&&i.callbackNode===a?G_.bind(null,i):null)}function q_(i,s){if(Ru())return null;C_(i,s,!0)}function F1(){J1(function(){(Ve&6)!==0?wn(or,H1):H_()})}function ed(){return Us===0&&(Us=Lg()),Us}function Y_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zl(""+i)}function K_(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function G1(i,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=Y_((d[Ft]||null).action),b=l.submitter;b&&(s=(s=b[Ft]||null)?Y_(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var E=new ql("action","action",null,l,d);i.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var R=b?K_(d,b):new FormData(d);bh(a,{pending:!0,data:R,method:d.method,action:m},null,R)}}else typeof m=="function"&&(E.preventDefault(),R=b?K_(d,b):new FormData(d),bh(a,{pending:!0,data:R,method:d.method,action:m},m,R))},currentTarget:d}]})}}for(var td=0;td<Vf.length;td++){var nd=Vf[td],q1=nd.toLowerCase(),Y1=nd[0].toUpperCase()+nd.slice(1);xn(q1,"on"+Y1)}xn(Cy,"onAnimationEnd"),xn(Ay,"onAnimationIteration"),xn(Ry,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(u1,"onTransitionRun"),xn(c1,"onTransitionStart"),xn(f1,"onTransitionCancel"),xn(Ny,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function W_(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var E=l[b],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=j;try{m(d)}catch(G){yu(G)}d.currentTarget=null,m=R}else for(b=0;b<l.length;b++){if(E=l[b],R=E.instance,j=E.currentTarget,E=E.listener,R!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=j;try{m(d)}catch(G){yu(G)}d.currentTarget=null,m=R}}}}function De(i,s){var a=s[mf];a===void 0&&(a=s[mf]=new Set);var l=i+"__bubble";a.has(l)||($_(s,i,2,!1),a.add(l))}function id(i,s,a){var l=0;s&&(l|=4),$_(a,i,l,s)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function sd(i){if(!i[Ou]){i[Ou]=!0,Hg.forEach(function(a){a!=="selectionchange"&&(K1.has(a)||id(a,!1,i),id(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ou]||(s[Ou]=!0,id("selectionchange",!1,s))}}function $_(i,s,a,l){switch(_0(s)){case 2:var d=bA;break;case 8:d=SA;break;default:d=vd}a=d.bind(null,s,a,i),d=void 0,!Cf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?i.addEventListener(s,a,{capture:!0,passive:d}):i.addEventListener(s,a,!0):d!==void 0?i.addEventListener(s,a,{passive:d}):i.addEventListener(s,a,!1)}function rd(i,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===d)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;E!==null;){if(b=cr(E),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=m=b;continue e}E=E.parentNode}}l=l.return}ny(function(){var j=m,G=wf(a),$=[];e:{var V=Dy.get(i);if(V!==void 0){var B=ql,pe=i;switch(i){case"keypress":if(Fl(a)===0)break e;case"keydown":case"keyup":B=zC;break;case"focusin":pe="focus",B=Df;break;case"focusout":pe="blur",B=Df;break;case"beforeblur":case"afterblur":B=Df;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=GC;break;case Cy:case Ay:case Ry:B=MC;break;case Ny:B=YC;break;case"scroll":case"scrollend":B=AC;break;case"wheel":B=WC;break;case"copy":case"cut":case"paste":B=kC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=oy;break;case"toggle":case"beforetoggle":B=XC}var ce=(s&4)!==0,Fe=!ce&&(i==="scroll"||i==="scrollend"),k=ce?V!==null?V+"Capture":null:V;ce=[];for(var O=j,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||k===null||(Y=ka(O,k),Y!=null&&ce.push(yo(O,Y,U))),Fe)break;O=O.return}0<ce.length&&(V=new B(V,pe,null,a,G),$.push({event:V,listeners:ce}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",B=i==="mouseout"||i==="pointerout",V&&a!==Tf&&(pe=a.relatedTarget||a.fromElement)&&(cr(pe)||pe[ur]))break e;if((B||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,B?(pe=a.relatedTarget||a.toElement,B=j,pe=pe?cr(pe):null,pe!==null&&(Fe=u(pe),ce=pe.tag,pe!==Fe||ce!==5&&ce!==27&&ce!==6)&&(pe=null)):(B=null,pe=j),B!==pe)){if(ce=ry,Y="onMouseLeave",k="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(ce=oy,Y="onPointerLeave",k="onPointerEnter",O="pointer"),Fe=B==null?V:Ia(B),U=pe==null?V:Ia(pe),V=new ce(Y,O+"leave",B,a,G),V.target=Fe,V.relatedTarget=U,Y=null,cr(G)===j&&(ce=new ce(k,O+"enter",pe,a,G),ce.target=U,ce.relatedTarget=Fe,Y=ce),Fe=Y,B&&pe)t:{for(ce=B,k=pe,O=0,U=ce;U;U=Gr(U))O++;for(U=0,Y=k;Y;Y=Gr(Y))U++;for(;0<O-U;)ce=Gr(ce),O--;for(;0<U-O;)k=Gr(k),U--;for(;O--;){if(ce===k||k!==null&&ce===k.alternate)break t;ce=Gr(ce),k=Gr(k)}ce=null}else ce=null;B!==null&&X_($,V,B,ce,!1),pe!==null&&Fe!==null&&X_($,Fe,pe,ce,!0)}}e:{if(V=j?Ia(j):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var oe=my;else if(dy(V))if(gy)oe=a1;else{oe=s1;var we=i1}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?j&&Ef(j.elementType)&&(oe=my):oe=r1;if(oe&&(oe=oe(i,j))){py($,oe,a,G);break e}we&&we(i,V,j),i==="focusout"&&j&&V.type==="number"&&j.memoizedProps.value!=null&&Sf(V,"number",V.value)}switch(we=j?Ia(j):window,i){case"focusin":(dy(we)||we.contentEditable==="true")&&(br=we,Lf=j,Ha=null);break;case"focusout":Ha=Lf=br=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,wy($,a,G);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":wy($,a,G)}var ue;if(Mf)e:{switch(i){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else _r?fy(i,a)&&(he="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(ly&&a.locale!=="ko"&&(_r||he!=="onCompositionStart"?he==="onCompositionEnd"&&_r&&(ue=iy()):(Oi=G,Af="value"in Oi?Oi.value:Oi.textContent,_r=!0)),we=Mu(j,he),0<we.length&&(he=new ay(he,i,null,a,G),$.push({event:he,listeners:we}),ue?he.data=ue:(ue=hy(a),ue!==null&&(he.data=ue)))),(ue=ZC?JC(i,a):e1(i,a))&&(he=Mu(j,"onBeforeInput"),0<he.length&&(we=new ay("onBeforeInput","beforeinput",null,a,G),$.push({event:we,listeners:he}),we.data=ue)),G1($,i,j,a,G)}W_($,s)})}function yo(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Mu(i,s){for(var a=s+"Capture",l=[];i!==null;){var d=i,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ka(i,a),d!=null&&l.unshift(yo(i,d,m)),d=ka(i,s),d!=null&&l.push(yo(i,d,m))),i.tag===3)return l;i=i.return}return[]}function Gr(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X_(i,s,a,l,d){for(var m=s._reactName,b=[];a!==null&&a!==l;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||j===null||(R=j,d?(j=ka(a,m),j!=null&&b.unshift(yo(a,j,R))):d||(j=ka(a,m),j!=null&&b.push(yo(a,j,R)))),a=a.return}b.length!==0&&i.push({event:s,listeners:b})}var W1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function Q_(i){return(typeof i=="string"?i:""+i).replace(W1,`
`).replace($1,"")}function Z_(i,s){return s=Q_(s),Q_(i)===s}function Iu(){}function He(i,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||gr(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&gr(i,""+l);break;case"className":jl(i,"class",l);break;case"tabIndex":jl(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(i,a,l);break;case"style":ey(i,l,m);break;case"data":if(s!=="object"){jl(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=zl(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&He(i,s,"name",d.name,d,null),He(i,s,"formEncType",d.formEncType,d,null),He(i,s,"formMethod",d.formMethod,d,null),He(i,s,"formTarget",d.formTarget,d,null)):(He(i,s,"encType",d.encType,d,null),He(i,s,"method",d.method,d,null),He(i,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=zl(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Iu);break;case"onScroll":l!=null&&De("scroll",i);break;case"onScrollEnd":l!=null&&De("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=zl(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":De("beforetoggle",i),De("toggle",i),Ul(i,"popover",l);break;case"xlinkActuate":Qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ul(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xC.get(a)||a,Ul(i,a,l))}}function ad(i,s,a,l,d,m){switch(a){case"style":ey(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?gr(i,l):(typeof l=="number"||typeof l=="bigint")&&gr(i,""+l);break;case"onScroll":l!=null&&De("scroll",i);break;case"onScrollEnd":l!=null&&De("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=i[Ft]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,d);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ul(i,a,l)}}}function Rt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",i),De("load",i);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,m,b,a,null)}}d&&He(i,s,"srcSet",a.srcSet,a,null),l&&He(i,s,"src",a.src,a,null);return;case"input":De("invalid",i);var E=m=b=d=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":d=G;break;case"type":b=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":m=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:He(i,s,l,G,a,null)}}Xg(i,m,E,R,j,b,d,!1),Vl(i);return;case"select":De("invalid",i),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:He(i,s,d,E,a,null)}s=m,a=b,i.multiple=!!l,s!=null?mr(i,!!l,s,!1):a!=null&&mr(i,!!l,a,!0);return;case"textarea":De("invalid",i),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:He(i,s,b,E,a,null)}Zg(i,l,d,m),Vl(i);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:He(i,s,R,l,a,null)}return;case"dialog":De("beforetoggle",i),De("toggle",i),De("cancel",i),De("close",i);break;case"iframe":case"object":De("load",i);break;case"video":case"audio":for(l=0;l<go.length;l++)De(go[l],i);break;case"image":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"embed":case"source":case"link":De("error",i),De("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(i,s,j,l,a,null)}return;default:if(Ef(s)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&ad(i,s,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&He(i,s,E,l,a,null))}function X1(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,E=null,R=null,j=null,G=null;for(B in a){var $=a[B];if(a.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(B)||He(i,s,B,null,l,$)}}for(var V in l){var B=l[V];if($=a[V],l.hasOwnProperty(V)&&(B!=null||$!=null))switch(V){case"type":m=B;break;case"name":d=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":b=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:B!==$&&He(i,s,V,B,l,$)}}bf(i,b,E,R,j,G,m,d);return;case"select":B=b=E=V=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(m)||He(i,s,m,null,l,R)}for(d in l)if(m=l[d],R=a[d],l.hasOwnProperty(d)&&(m!=null||R!=null))switch(d){case"value":V=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==R&&He(i,s,d,m,l,R)}s=E,a=b,l=B,V!=null?mr(i,!!a,V,!1):!!l!=!!a&&(s!=null?mr(i,!!a,s,!0):mr(i,!!a,a?[]:"",!1));return;case"textarea":B=V=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:He(i,s,E,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":V=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&He(i,s,b,d,l,m)}Qg(i,V,B);return;case"option":for(var pe in a)if(V=a[pe],a.hasOwnProperty(pe)&&V!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:He(i,s,pe,null,l,V)}for(R in l)if(V=l[R],B=a[R],l.hasOwnProperty(R)&&V!==B&&(V!=null||B!=null))switch(R){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:He(i,s,R,V,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)V=a[ce],a.hasOwnProperty(ce)&&V!=null&&!l.hasOwnProperty(ce)&&He(i,s,ce,null,l,V);for(j in l)if(V=l[j],B=a[j],l.hasOwnProperty(j)&&V!==B&&(V!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:He(i,s,j,V,l,B)}return;default:if(Ef(s)){for(var Fe in a)V=a[Fe],a.hasOwnProperty(Fe)&&V!==void 0&&!l.hasOwnProperty(Fe)&&ad(i,s,Fe,void 0,l,V);for(G in l)V=l[G],B=a[G],!l.hasOwnProperty(G)||V===B||V===void 0&&B===void 0||ad(i,s,G,V,l,B);return}}for(var k in a)V=a[k],a.hasOwnProperty(k)&&V!=null&&!l.hasOwnProperty(k)&&He(i,s,k,null,l,V);for($ in l)V=l[$],B=a[$],!l.hasOwnProperty($)||V===B||V==null&&B==null||He(i,s,$,V,l,B)}var od=null,ld=null;function ku(i){return i.nodeType===9?i:i.ownerDocument}function J_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ud(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cd=null;function Q1(){var i=window.event;return i&&i.type==="popstate"?i===cd?!1:(cd=i,!0):(cd=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(i){return n0.resolve(null).then(i).catch(eA)}:t0;function eA(i){setTimeout(function(){throw i})}function Ki(i){return i==="head"}function i0(i,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=i.ownerDocument;if(a&1&&vo(b.documentElement),a&2&&vo(b.body),a&4)for(a=b.head,vo(a),b=a.firstChild;b;){var E=b.nextSibling,R=b.nodeName;b[Ma]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=E}}if(d===0){i.removeChild(m),Co(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Co(s)}function fd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fd(a),gf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function tA(i,s,a,l){for(;i.nodeType===1;){var d=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ma])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function nA(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=An(i.nextSibling),i===null))return null;return i}function hd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iA(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function An(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var dd=null;function s0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function r0(i,s,a){switch(s=ku(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function vo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);gf(i)}var vn=new Map,a0=new Set;function Pu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fi=Z.d;Z.d={f:sA,r:rA,D:aA,C:oA,L:lA,m:uA,X:fA,S:cA,M:hA};function sA(){var i=fi.f(),s=Cu();return i||s}function rA(i){var s=fr(i);s!==null&&s.tag===5&&s.type==="form"?Cv(s):fi.r(i)}var qr=typeof document>"u"?null:document;function o0(i,s,a){var l=qr;if(l&&typeof s=="string"&&s){var d=fn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),a0.has(d)||(a0.add(d),i={rel:i,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Rt(s,"link",i),vt(s),l.head.appendChild(s)))}}function aA(i){fi.D(i),o0("dns-prefetch",i,null)}function oA(i,s){fi.C(i,s),o0("preconnect",i,s)}function lA(i,s,a){fi.L(i,s,a);var l=qr;if(l&&i&&s){var d='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+fn(a.imageSizes)+'"]')):d+='[href="'+fn(i)+'"]';var m=d;switch(s){case"style":m=Yr(i);break;case"script":m=Kr(i)}vn.has(m)||(i=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),vn.set(m,i),l.querySelector(d)!==null||s==="style"&&l.querySelector(_o(m))||s==="script"&&l.querySelector(bo(m))||(s=l.createElement("link"),Rt(s,"link",i),vt(s),l.head.appendChild(s)))}}function uA(i,s){fi.m(i,s);var a=qr;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(i)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Kr(i)}if(!vn.has(m)&&(i=g({rel:"modulepreload",href:i},s),vn.set(m,i),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bo(m)))return}l=a.createElement("link"),Rt(l,"link",i),vt(l),a.head.appendChild(l)}}}function cA(i,s,a){fi.S(i,s,a);var l=qr;if(l&&i){var d=hr(l).hoistableStyles,m=Yr(i);s=s||"default";var b=d.get(m);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(_o(m)))E.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},a),(a=vn.get(m))&&pd(i,a);var R=b=l.createElement("link");vt(R),Rt(R,"link",i),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(m,b)}}}function fA(i,s){fi.X(i,s);var a=qr;if(a&&i){var l=hr(a).hoistableScripts,d=Kr(i),m=l.get(d);m||(m=a.querySelector(bo(d)),m||(i=g({src:i,async:!0},s),(s=vn.get(d))&&md(i,s),m=a.createElement("script"),vt(m),Rt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function hA(i,s){fi.M(i,s);var a=qr;if(a&&i){var l=hr(a).hoistableScripts,d=Kr(i),m=l.get(d);m||(m=a.querySelector(bo(d)),m||(i=g({src:i,async:!0,type:"module"},s),(s=vn.get(d))&&md(i,s),m=a.createElement("script"),vt(m),Rt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function l0(i,s,a,l){var d=(d=Q.current)?Pu(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Yr(a.href),a=hr(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Yr(a.href);var m=hr(d).hoistableStyles,b=m.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,b),(m=d.querySelector(_o(i)))&&!m._p&&(b.instance=m,b.state.loading=5),vn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(i,a),m||dA(d,i,a,b.state))),s&&l===null)throw Error(r(528,""));return b}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Kr(a),a=hr(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yr(i){return'href="'+fn(i)+'"'}function _o(i){return'link[rel="stylesheet"]['+i+"]"}function u0(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function dA(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Rt(s,"link",a),vt(s),i.head.appendChild(s))}function Kr(i){return'[src="'+fn(i)+'"]'}function bo(i){return"script[async]"+i}function c0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,vt(l),l;var d=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),vt(l),Rt(l,"style",d),Lu(l,a.precedence,i),s.instance=l;case"stylesheet":d=Yr(a.href);var m=i.querySelector(_o(d));if(m)return s.state.loading|=4,s.instance=m,vt(m),m;l=u0(a),(d=vn.get(d))&&pd(l,d),m=(i.ownerDocument||i).createElement("link"),vt(m);var b=m;return b._p=new Promise(function(E,R){b.onload=E,b.onerror=R}),Rt(m,"link",l),s.state.loading|=4,Lu(m,a.precedence,i),s.instance=m;case"script":return m=Kr(a.src),(d=i.querySelector(bo(m)))?(s.instance=d,vt(d),d):(l=a,(d=vn.get(m))&&(l=g({},a),md(l,d)),i=i.ownerDocument||i,d=i.createElement("script"),vt(d),Rt(d,"link",l),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Lu(l,a.precedence,i));return s.instance}function Lu(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===s)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function pd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function md(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Uu=null;function f0(i,s,a){if(Uu===null){var l=new Map,d=Uu=new Map;d.set(a,l)}else d=Uu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),d=0;d<a.length;d++){var m=a[d];if(!(m[Ma]||m[Mt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=i+b;var E=l.get(b);E?E.push(m):l.set(b,[m])}}return l}function h0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function pA(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var So=null;function mA(){}function gA(i,s,a){if(So===null)throw Error(r(475));var l=So;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Yr(a.href),m=i.querySelector(_o(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=ju.bind(l),i.then(l,l)),s.state.loading|=4,s.instance=m,vt(m);return}m=i.ownerDocument||i,a=u0(a),(d=vn.get(d))&&pd(a,d),m=m.createElement("link"),vt(m);var b=m;b._p=new Promise(function(E,R){b.onload=E,b.onerror=R}),Rt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=ju.bind(l),i.addEventListener("load",s),i.addEventListener("error",s))}}function yA(){if(So===null)throw Error(r(475));var i=So;return i.stylesheets&&i.count===0&&gd(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&gd(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function ju(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Vu=null;function gd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Vu=new Map,s.forEach(vA,i),Vu=null,ju.call(i))}function vA(i,s){if(!(s.state.loading&4)){var a=Vu.get(i);if(a)var l=a.get(null);else{a=new Map,Vu.set(i,a);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=s.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=ju.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Eo={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function _A(i,s,a,l,d,m,b,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.hiddenUpdates=hf(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function p0(i,s,a,l,d,m,b,E,R,j,G,$){return i=new _A(i,s,a,b,E,R,j,$),s=1,m===!0&&(s|=24),m=Jt(3,null,null,s),i.current=m,m.stateNode=i,s=Qf(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},th(m),i}function m0(i){return i?(i=wr,i):wr}function g0(i,s,a,l,d,m){d=m0(d),l.context===null?l.context=d:l.pendingContext=d,l=ki(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Pi(i,l,s),a!==null&&(rn(a,i,s),Qa(a,i,s))}function y0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function yd(i,s){y0(i,s),(i=i.alternate)&&y0(i,s)}function v0(i){if(i.tag===13){var s=Tr(i,67108864);s!==null&&rn(s,i,67108864),yd(i,67108864)}}var Bu=!0;function bA(i,s,a,l){var d=L.T;L.T=null;var m=Z.p;try{Z.p=2,vd(i,s,a,l)}finally{Z.p=m,L.T=d}}function SA(i,s,a,l){var d=L.T;L.T=null;var m=Z.p;try{Z.p=8,vd(i,s,a,l)}finally{Z.p=m,L.T=d}}function vd(i,s,a,l){if(Bu){var d=_d(l);if(d===null)rd(i,s,l,zu,a),b0(i,l);else if(TA(d,i,s,a,l))l.stopPropagation();else if(b0(i,l),s&4&&-1<EA.indexOf(i)){for(;d!==null;){var m=fr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=bs(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var R=1<<31-et(b);E.entanglements[1]|=R,b&=~R}zn(m),(Ve&6)===0&&(wu=zt()+500,mo(0))}}break;case 13:E=Tr(m,2),E!==null&&rn(E,m,2),Cu(),yd(m,2)}if(m=_d(l),m===null&&rd(i,s,l,zu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else rd(i,s,l,null,a)}}function _d(i){return i=wf(i),bd(i)}var zu=null;function bd(i){if(zu=null,i=cr(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return zu=i,null}function _0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case or:return 2;case lr:return 8;case Xn:case X:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Sd=!1,Wi=null,$i=null,Xi=null,To=new Map,wo=new Map,Qi=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(i,s){switch(i){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":To.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(s.pointerId)}}function xo(i,s,a,l,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=fr(s),s!==null&&v0(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function TA(i,s,a,l,d){switch(s){case"focusin":return Wi=xo(Wi,i,s,a,l,d),!0;case"dragenter":return $i=xo($i,i,s,a,l,d),!0;case"mouseover":return Xi=xo(Xi,i,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return To.set(m,xo(To.get(m)||null,i,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,wo.set(m,xo(wo.get(m)||null,i,s,a,l,d)),!0}return!1}function S0(i){var s=cr(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,gC(i.priority,function(){if(a.tag===13){var l=sn();l=df(l);var d=Tr(a,l);d!==null&&rn(d,a,l),yd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=_d(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Tf=l,a.target.dispatchEvent(l),Tf=null}else return s=fr(a),s!==null&&v0(s),i.blockedOn=a,!1;s.shift()}return!0}function E0(i,s,a){Hu(i)&&a.delete(s)}function wA(){Sd=!1,Wi!==null&&Hu(Wi)&&(Wi=null),$i!==null&&Hu($i)&&($i=null),Xi!==null&&Hu(Xi)&&(Xi=null),To.forEach(E0),wo.forEach(E0)}function Fu(i,s){i.blockedOn===s&&(i.blockedOn=null,Sd||(Sd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wA)))}var Gu=null;function T0(i){Gu!==i&&(Gu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gu===i&&(Gu=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],d=i[s+2];if(typeof l!="function"){if(bd(l||a)===null)continue;break}var m=fr(a);m!==null&&(i.splice(s,3),s-=3,bh(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Co(i){function s(R){return Fu(R,i)}Wi!==null&&Fu(Wi,i),$i!==null&&Fu($i,i),Xi!==null&&Fu(Xi,i),To.forEach(s),wo.forEach(s);for(var a=0;a<Qi.length;a++){var l=Qi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)S0(a),a.blockedOn===null&&Qi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Ft]||null;if(typeof m=="function")b||T0(a);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Ft]||null)E=b.formAction;else if(bd(d)!==null)continue}else E=b.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),T0(a)}}}function Ed(i){this._internalRoot=i}qu.prototype.render=Ed.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=sn();g0(a,l,i,s,null,null)},qu.prototype.unmount=Ed.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;g0(i.current,2,null,i,null,null),Cu(),s[ur]=null}};function qu(i){this._internalRoot=i}qu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Bg();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Qi.length&&s!==0&&s<Qi[a].priority;a++);Qi.splice(a,0,i),a===0&&S0(i)}};var w0=e.version;if(w0!=="19.1.0")throw Error(r(527,w0,"19.1.0"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var xA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{ke=Yu.inject(xA),Me=Yu}catch{}}return Ro.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",d=Bv,m=zv,b=Hv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=p0(i,1,!1,null,null,a,l,d,m,b,E,null),i[ur]=s.current,sd(i),new Ed(s)},Ro.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,d="",m=Bv,b=zv,E=Hv,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),s=p0(i,1,!0,s,a??null,l,d,m,b,E,R,j),s.context=m0(null),a=s.current,l=sn(),l=df(l),d=ki(l),d.callback=null,Pi(a,d,l),a=l,s.current.lanes=a,Oa(s,a),zn(s),i[ur]=s.current,sd(i),new qu(s)},Ro.version="19.1.0",Ro}var k0;function LA(){if(k0)return xd.exports;k0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xd.exports=PA(),xd.exports}var UA=LA();const jA=Qp(UA);var No={},P0;function VA(){if(P0)return No;P0=1,Object.defineProperty(No,"__esModule",{value:!0}),No.parse=c,No.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,_){const S=new u,w=v.length;if(w<2)return S;const C=(_==null?void 0:_.decode)||g;let A=0;do{const I=v.indexOf("=",A);if(I===-1)break;const D=v.indexOf(";",A),q=D===-1?w:D;if(I>q){A=v.lastIndexOf(";",I-1)+1;continue}const M=f(v,A,I),z=p(v,I,M),K=v.slice(M,z);if(S[K]===void 0){let F=f(v,I+1,q),J=p(v,q,F);const ie=C(v.slice(F,J));S[K]=ie}A=q+1}while(A<w);return S}function f(v,_,S){do{const w=v.charCodeAt(_);if(w!==32&&w!==9)return _}while(++_<S);return S}function p(v,_,S){for(;_>S;){const w=v.charCodeAt(--_);if(w!==32&&w!==9)return _+1}return S}function h(v,_,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=w(_);if(!e.test(C))throw new TypeError(`argument val is invalid: ${_}`);let A=v+"="+C;if(!S)return A;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);A+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);A+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);A+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);A+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(A+="; HttpOnly"),S.secure&&(A+="; Secure"),S.partitioned&&(A+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return A}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return o.call(v)==="[object Date]"}return No}VA();var L0="popstate";function BA(t={}){function e(r,o){let{pathname:u,search:c,hash:f}=r.location;return rp("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Zo(o)}return HA(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zA(){return Math.random().toString(36).substring(2,10)}function U0(t,e){return{usr:t.state,key:t.key,idx:e}}function rp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||r||zA()}}function Zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HA(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,f="POP",p=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function y(){f="POP";let C=g(),A=C==null?null:C-h;h=C,p&&p({action:f,location:w.location,delta:A})}function v(C,A){f="PUSH";let I=rp(w.location,C,A);h=g()+1;let D=U0(I,h),q=w.createHref(I);try{c.pushState(D,"",q)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(q)}u&&p&&p({action:f,location:w.location,delta:1})}function _(C,A){f="REPLACE";let I=rp(w.location,C,A);h=g();let D=U0(I,h),q=w.createHref(I);c.replaceState(D,"",q),u&&p&&p({action:f,location:w.location,delta:0})}function S(C){let A=o.location.origin!=="null"?o.location.origin:o.location.href,I=typeof C=="string"?C:Zo(C);return I=I.replace(/ $/,"%20"),Je(A,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,A)}let w={get action(){return f},get location(){return t(o,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(L0,y),p=C,()=>{o.removeEventListener(L0,y),p=null}},createHref(C){return e(o,C)},createURL:S,encodeLocation(C){let A=S(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:_,go(C){return c.go(C)}};return w}function mE(t,e,n="/"){return FA(t,e,n,!1)}function FA(t,e,n,r){let o=typeof e=="string"?ga(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let c=gE(t);GA(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=tR(u);f=JA(c[p],h,r)}return f}function gE(t,e=[],n=[],r=""){let o=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let h=gi([r,p.relativePath]),g=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),gE(u.children,e,g,h)),!(u.path==null&&!u.index)&&e.push({path:h,score:QA(h,u.index),routesMeta:g})};return t.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,c);else for(let p of yE(u.path))o(u,c,p)}),e}function yE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=yE(r.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function GA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qA=/^:[\w-]+$/,YA=3,KA=2,WA=1,$A=10,XA=-2,j0=t=>t==="*";function QA(t,e){let n=t.split("/"),r=n.length;return n.some(j0)&&(r+=XA),e&&(r+=KA),n.filter(o=>!j0(o)).reduce((o,u)=>o+(qA.test(u)?YA:u===""?WA:$A),r)}function ZA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function JA(t,e,n=!1){let{routesMeta:r}=t,o={},u="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],h=f===r.length-1,g=u==="/"?e:e.slice(u.length)||"/",y=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},g),v=p.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:gi([u,y.pathname]),pathnameBase:rR(gi([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=gi([u,y.pathnameBase]))}return c}function dc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eR(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},v)=>{if(g==="*"){let S=f[v]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const _=f[v];return y&&!_?h[g]=void 0:h[g]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:c,pattern:t}}function eR(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function tR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function _i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nR(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ga(t):t;return{pathname:n?n.startsWith("/")?n:iR(n,e):e,search:aR(r),hash:oR(o)}}function iR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zp(t){let e=sR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jp(t,e,n,r=!1){let o;typeof t=="string"?o=ga(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),Nd("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Nd("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Nd("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}f=y>=0?e[y]:"/"}let p=nR(o,f),h=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||g)&&(p.pathname+="/"),p}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),rR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vE=["POST","PUT","PATCH","DELETE"];new Set(vE);var uR=["GET",...vE];new Set(uR);var ya=N.createContext(null);ya.displayName="DataRouter";var Fc=N.createContext(null);Fc.displayName="DataRouterState";var _E=N.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var cR=N.createContext(new Map);cR.displayName="Fetchers";var fR=N.createContext(null);fR.displayName="Await";var Ln=N.createContext(null);Ln.displayName="Navigation";var vl=N.createContext(null);vl.displayName="Location";var Kn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var em=N.createContext(null);em.displayName="RouteError";function hR(t,{relative:e}={}){Je(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(Ln),{hash:o,pathname:u,search:c}=_l(t,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:gi([n,u])),r.createHref({pathname:f,search:c,hash:o})}function va(){return N.useContext(vl)!=null}function xi(){return Je(va(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(vl).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(t){N.useContext(Ln).static||N.useLayoutEffect(t)}function _a(){let{isDataRoute:t}=N.useContext(Kn);return t?xR():dR()}function dR(){Je(va(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(ya),{basename:e,navigator:n}=N.useContext(Ln),{matches:r}=N.useContext(Kn),{pathname:o}=xi(),u=JSON.stringify(Zp(r)),c=N.useRef(!1);return SE(()=>{c.current=!0}),N.useCallback((p,h={})=>{if(kn(c.current,bE),!c.current)return;if(typeof p=="number"){n.go(p);return}let g=Jp(p,JSON.parse(u),o,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:gi([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,u,o,t])}N.createContext(null);function _l(t,{relative:e}={}){let{matches:n}=N.useContext(Kn),{pathname:r}=xi(),o=JSON.stringify(Zp(n));return N.useMemo(()=>Jp(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function pR(t,e){return EE(t,e)}function EE(t,e,n,r){var I;Je(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=N.useContext(Ln),{matches:c}=N.useContext(Kn),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let D=y&&y.path||"";TE(h,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=xi(),_;if(e){let D=typeof e=="string"?ga(e):e;Je(g==="/"||((I=D.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),_=D}else _=v;let S=_.pathname||"/",w=S;if(g!=="/"){let D=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=!u&&n&&n.matches&&n.matches.length>0?n.matches:mE(t,{pathname:w});kn(y||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),kn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=_R(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:gi([g,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:gi([g,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),c,n,r);return e&&A?N.createElement(vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function mR(){let t=wR(),e=lR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,c)}var gR=N.createElement(mR,null),yR=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Kn.Provider,{value:this.props.routeContext},N.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vR({routeContext:t,match:e,children:n}){let r=N.useContext(ya);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Kn.Provider,{value:t},n)}function _R(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:g,errors:y}=n,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,h,g)=>{let y,v=!1,_=null,S=null;n&&(y=u&&h.route.id?u[h.route.id]:void 0,_=h.route.errorElement||gR,c&&(f<0&&g===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):f===g&&(v=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),C=()=>{let A;return y?A=_:v?A=S:h.route.Component?A=N.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=p,N.createElement(vR,{match:h,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?N.createElement(yR,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function tm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bR(t){let e=N.useContext(ya);return Je(e,tm(t)),e}function SR(t){let e=N.useContext(Fc);return Je(e,tm(t)),e}function ER(t){let e=N.useContext(Kn);return Je(e,tm(t)),e}function nm(t){let e=ER(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function TR(){return nm("useRouteId")}function wR(){var r;let t=N.useContext(em),e=SR("useRouteError"),n=nm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function xR(){let{router:t}=bR("useNavigate"),e=nm("useNavigate"),n=N.useRef(!1);return SE(()=>{n.current=!0}),N.useCallback(async(o,u={})=>{kn(n.current,bE),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var V0={};function TE(t,e,n){!e&&!V0[t]&&(V0[t]=!0,kn(!1,n))}N.memo(CR);function CR({routes:t,future:e,state:n}){return EE(t,void 0,n,e)}function Dd({to:t,replace:e,state:n,relative:r}){Je(va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Ln);kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Kn),{pathname:c}=xi(),f=_a(),p=Jp(t,Zp(u),c,r==="path"),h=JSON.stringify(p);return N.useEffect(()=>{f(JSON.parse(h),{replace:e,state:n,relative:r})},[f,h,r,e,n]),null}function Hn(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){Je(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=ga(n));let{pathname:p="/",search:h="",hash:g="",state:y=null,key:v="default"}=n,_=N.useMemo(()=>{let S=_i(p,c);return S==null?null:{location:{pathname:S,search:h,hash:g,state:y,key:v},navigationType:r}},[c,p,h,g,y,v,r]);return kn(_!=null,`<Router basename="${c}"> is not able to match the URL "${p}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(Ln.Provider,{value:f},N.createElement(vl.Provider,{children:e,value:_}))}function RR({children:t,location:e}){return pR(ap(t),e)}function ap(t,e=[]){let n=[];return N.Children.forEach(t,(r,o)=>{if(!N.isValidElement(r))return;let u=[...e,o];if(r.type===N.Fragment){n.push.apply(n,ap(r.props.children,u));return}Je(r.type===Hn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ap(r.props.children,u)),n.push(c)}),n}var nc="get",ic="application/x-www-form-urlencoded";function Gc(t){return t!=null&&typeof t.tagName=="string"}function NR(t){return Gc(t)&&t.tagName.toLowerCase()==="button"}function DR(t){return Gc(t)&&t.tagName.toLowerCase()==="form"}function OR(t){return Gc(t)&&t.tagName.toLowerCase()==="input"}function MR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IR(t,e){return t.button===0&&(!e||e==="_self")&&!MR(t)}var Ku=null;function kR(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var PR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(t){return t!=null&&!PR.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ic}"`),null):t}function LR(t,e){let n,r,o,u,c;if(DR(t)){let f=t.getAttribute("action");r=f?_i(f,e):null,n=t.getAttribute("method")||nc,o=Od(t.getAttribute("enctype"))||ic,u=new FormData(t)}else if(NR(t)||OR(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(r=p?_i(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||nc,o=Od(t.getAttribute("formenctype"))||Od(f.getAttribute("enctype"))||ic,u=new FormData(f,t),!kR()){let{name:h,type:g,value:y}=t;if(g==="image"){let v=h?`${h}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else h&&u.append(h,y)}}else{if(Gc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nc,r=null,o=ic,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:c}}function im(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function UR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VR(t,e,n){let r=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await UR(u,n);return c.links?c.links():[]}return[]}));return FR(r.flat(1).filter(jR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B0(t,e,n,r,o,u){let c=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,f=(p,h)=>{var g;return n[h].pathname!==p.pathname||((g=n[h].route.path)==null?void 0:g.endsWith("*"))&&n[h].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):u==="data"?e.filter((p,h)=>{var y;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function BR(t,e,{includeHydrateFallback:n}={}){return zR(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zR(t){return[...new Set(t)]}function HR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function FR(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let u=JSON.stringify(HR(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}var GR=new Set([100,101,204,205]);function qR(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&_i(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wE(){let t=N.useContext(ya);return im(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YR(){let t=N.useContext(Fc);return im(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sm=N.createContext(void 0);sm.displayName="FrameworkContext";function xE(){let t=N.useContext(sm);return im(t,"You must render this element inside a <HydratedRouter> element"),t}function KR(t,e){let n=N.useContext(sm),[r,o]=N.useState(!1),[u,c]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,v=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=A=>{A.forEach(I=>{c(I.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),N.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{o(!0)},S=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,v,{}]:[u,v,{onFocus:Do(f,_),onBlur:Do(p,S),onMouseEnter:Do(h,_),onMouseLeave:Do(g,S),onTouchStart:Do(y,_)}]:[!1,v,{}]}function Do(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WR({page:t,...e}){let{router:n}=wE(),r=N.useMemo(()=>mE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(XR,{page:t,matches:r,...e}):null}function $R(t){let{manifest:e,routeModules:n}=xE(),[r,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return VR(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),r}function XR({page:t,matches:e,...n}){let r=xi(),{manifest:o,routeModules:u}=xE(),{basename:c}=wE(),{loaderData:f,matches:p}=YR(),h=N.useMemo(()=>B0(t,e,p,o,r,"data"),[t,e,p,o,r]),g=N.useMemo(()=>B0(t,e,p,o,r,"assets"),[t,e,p,o,r]),y=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(A=>{var D;let I=o.routes[A.route.id];!I||!I.hasLoader||(!h.some(q=>q.route.id===A.route.id)&&A.route.id in f&&((D=u[A.route.id])!=null&&D.shouldRevalidate)||I.hasClientLoader?w=!0:S.add(A.route.id))}),S.size===0)return[];let C=qR(t,c);return w&&S.size>0&&C.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[c,f,r,o,h,e,t,u]),v=N.useMemo(()=>BR(g,o),[g,o]),_=$R(g);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:w})=>N.createElement("link",{key:S,...w})))}function QR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.5.2")}catch{}function ZR({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=BA({window:n,v5Compat:!0}));let o=r.current,[u,c]=N.useState({action:o.action,location:o.location}),f=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(AR,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bl=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:f,target:p,to:h,preventScrollReset:g,viewTransition:y,...v},_){let{basename:S}=N.useContext(Ln),w=typeof h=="string"&&AE.test(h),C,A=!1;if(typeof h=="string"&&w&&(C=h,CE))try{let J=new URL(window.location.href),ie=h.startsWith("//")?new URL(J.protocol+h):new URL(h),se=_i(ie.pathname,S);ie.origin===J.origin&&se!=null?h=se+ie.search+ie.hash:A=!0}catch{kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=hR(h,{relative:o}),[D,q,M]=KR(r,v),z=nN(h,{replace:c,state:f,target:p,preventScrollReset:g,relative:o,viewTransition:y});function K(J){e&&e(J),J.defaultPrevented||z(J)}let F=N.createElement("a",{...v,...M,href:C||I,onClick:A||u?e:K,ref:QR(_,q),target:p,"data-discover":!w&&n==="render"?"true":void 0});return D&&!w?N.createElement(N.Fragment,null,F,N.createElement(WR,{page:I})):F});bl.displayName="Link";var JR=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:f,children:p,...h},g){let y=_l(c,{relative:h.relative}),v=xi(),_=N.useContext(Fc),{navigator:S,basename:w}=N.useContext(Ln),C=_!=null&&oN(y)&&f===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,I=v.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(I=I.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&w&&(D=_i(D,w)||D);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let M=I===A||!o&&I.startsWith(A)&&I.charAt(q)==="/",z=D!=null&&(D===A||!o&&D.startsWith(A)&&D.charAt(A.length)==="/"),K={isActive:M,isPending:z,isTransitioning:C},F=M?e:void 0,J;typeof r=="function"?J=r(K):J=[r,M?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ie=typeof u=="function"?u(K):u;return N.createElement(bl,{...h,"aria-current":F,className:J,ref:g,style:ie,to:c,viewTransition:f},typeof p=="function"?p(K):p)});JR.displayName="NavLink";var eN=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:c=nc,action:f,onSubmit:p,relative:h,preventScrollReset:g,viewTransition:y,...v},_)=>{let S=rN(),w=aN(f,{relative:h}),C=c.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&AE.test(f),I=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let q=D.nativeEvent.submitter,M=(q==null?void 0:q.getAttribute("formmethod"))||c;S(q||D.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:o,state:u,relative:h,preventScrollReset:g,viewTransition:y})};return N.createElement("form",{ref:_,method:C,action:w,onSubmit:r?p:I,...v,"data-discover":!A&&t==="render"?"true":void 0})});eN.displayName="Form";function tN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(t){let e=N.useContext(ya);return Je(e,tN(t)),e}function nN(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let f=_a(),p=xi(),h=_l(t,{relative:u});return N.useCallback(g=>{if(IR(g,e)){g.preventDefault();let y=n!==void 0?n:Zo(p)===Zo(h);f(t,{replace:y,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[p,f,h,n,r,e,t,o,u,c])}var iN=0,sN=()=>`__${String(++iN)}__`;function rN(){let{router:t}=RE("useSubmit"),{basename:e}=N.useContext(Ln),n=TR();return N.useCallback(async(r,o={})=>{let{action:u,method:c,encType:f,formData:p,body:h}=LR(r,e);if(o.navigate===!1){let g=o.fetcherKey||sN();await t.fetch(g,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function aN(t,{relative:e}={}){let{basename:n}=N.useContext(Ln),r=N.useContext(Kn);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={..._l(t||".",{relative:e})},c=xi();if(t==null){u.search=c.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),Zo(u)}function oN(t,e={}){let n=N.useContext(_E);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RE("useViewTransitionState"),o=_l(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=_i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dc(o.pathname,c)!=null||dc(o.pathname,u)!=null}new TextEncoder;[...GR];const lN=()=>{};var z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw ba(e)},ba=function(t){return new Error("Firebase Database ("+NE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,h=p?t[o+2]:0,g=u>>2,y=(u&3)<<4|f>>4;let v=(f&15)<<2|h>>6,_=h&63;p||(_=64,c||(v=64)),r.push(n[g],n[y],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const h=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||f==null||h==null||y==null)throw new cN;const v=u<<2|f>>4;if(r.push(v),h!==64){const _=f<<4&240|h>>2;if(r.push(_),y!==64){const S=h<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OE=function(t){const e=DE(t);return rm.encodeByteArray(e,!0)},pc=function(t){return OE(t).replace(/\./g,"")},mc=function(t){try{return rm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){return ME(void 0,t)}function ME(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hN(n)||(t[n]=ME(t[n],e[n]));return t}function hN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=()=>dN().__FIREBASE_DEFAULTS__,mN=()=>{if(typeof process>"u"||typeof z0>"u")return;const t=z0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mc(t[1]);return e&&JSON.parse(e)},am=()=>{try{return lN()||pN()||mN()||gN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IE=t=>{var e,n;return(n=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yN=t=>{const e=IE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kE=()=>{var t;return(t=am())===null||t===void 0?void 0:t.config},PE=t=>{var e;return(e=am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pc(JSON.stringify(n)),pc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function _N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SN(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EN(){return NE.NODE_ADMIN===!0}function TN(){try{return typeof indexedDB=="object"}catch{return!1}}function wN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xN,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?CN(u,r):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new ps(o,f,r)}}function CN(t,e){return t.replace(AN,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const AN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){return JSON.parse(t)}function xt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(t){let e={},n={},r={},o="";try{const u=t.split(".");e=Jo(mc(u[0])||""),n=Jo(mc(u[1])||""),o=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},RN=function(t){const e=UE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},NN=function(t){const e=UE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function op(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gc(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function $s(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=t[o],c=e[o];if(H0(u)&&H0(c)){if(!$s(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function H0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)r[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],p=this.chain_[4],h,g;for(let y=0;y<80;y++){y<40?y<20?(h=f^u&(c^f),g=1518500249):(h=u^c^f,g=1859775393):y<60?(h=u&c|f&(u|c),g=2400959708):(h=u^c^f,g=3395469782);const v=(o<<5|o>>>27)+h+p+g+r[y]&4294967295;p=f,f=c,c=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const u=this.buf_;let c=this.inbuf_;for(;o<n;){if(c===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}else for(;o<n;)if(u[c]=e[o],++c,++o,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function ON(t,e){const n=new MN(t,e);return n.subscribe.bind(n)}class MN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Md(){}function qc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(r)-56320;o=65536+(u<<10)+c}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Yc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UN(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LN(t){return t===Vs?void 0:t}function UN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const VN={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},BN=Ge.INFO,zN={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=zN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lm{constructor(e){this.name=e,this._logLevel=BN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const FN=(t,e)=>e.some(n=>t instanceof n);let F0,G0;function GN(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qN(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,lp=new WeakMap,VE=new WeakMap,Id=new WeakMap,um=new WeakMap;function YN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(as(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jE.set(n,t)}).catch(()=>{}),um.set(e,t),e}function KN(t){if(lp.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});lp.set(t,e)}let up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WN(t){up=t(up)}function $N(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kd(this),e,...n);return VE.set(r,e.sort?e.sort():[e]),as(r)}:qN().includes(t)?function(...e){return t.apply(kd(this),e),as(jE.get(this))}:function(...e){return as(t.apply(kd(this),e))}}function XN(t){return typeof t=="function"?$N(t):(t instanceof IDBTransaction&&KN(t),FN(t,GN())?new Proxy(t,up):t)}function as(t){if(t instanceof IDBRequest)return YN(t);if(Id.has(t))return Id.get(t);const e=XN(t);return e!==t&&(Id.set(t,e),um.set(e,t)),e}const kd=t=>um.get(t);function QN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),f=as(c);return r&&c.addEventListener("upgradeneeded",p=>{r(as(c.result),p.oldVersion,p.newVersion,as(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",h=>o(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const ZN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],Pd=new Map;function q0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ZN.includes(n)))return;const u=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let h=p.store;return r&&(h=h.index(f.shift())),(await Promise.all([h[n](...f),o&&p.done]))[0]};return Pd.set(e,u),u}WN(t=>({...t,get:(e,n,r)=>q0(e,n)||t.get(e,n,r),has:(e,n)=>!!q0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cp="@firebase/app",Y0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new lm("@firebase/app"),nD="@firebase/app-compat",iD="@firebase/analytics-compat",sD="@firebase/analytics",rD="@firebase/app-check-compat",aD="@firebase/app-check",oD="@firebase/auth",lD="@firebase/auth-compat",uD="@firebase/database",cD="@firebase/data-connect",fD="@firebase/database-compat",hD="@firebase/functions",dD="@firebase/functions-compat",pD="@firebase/installations",mD="@firebase/installations-compat",gD="@firebase/messaging",yD="@firebase/messaging-compat",vD="@firebase/performance",_D="@firebase/performance-compat",bD="@firebase/remote-config",SD="@firebase/remote-config-compat",ED="@firebase/storage",TD="@firebase/storage-compat",wD="@firebase/firestore",xD="@firebase/vertexai",CD="@firebase/firestore-compat",AD="firebase",RD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",ND={[cp]:"fire-core",[nD]:"fire-core-compat",[sD]:"fire-analytics",[iD]:"fire-analytics-compat",[aD]:"fire-app-check",[rD]:"fire-app-check-compat",[oD]:"fire-auth",[lD]:"fire-auth-compat",[uD]:"fire-rtdb",[cD]:"fire-data-connect",[fD]:"fire-rtdb-compat",[hD]:"fire-fn",[dD]:"fire-fn-compat",[pD]:"fire-iid",[mD]:"fire-iid-compat",[gD]:"fire-fcm",[yD]:"fire-fcm-compat",[vD]:"fire-perf",[_D]:"fire-perf-compat",[bD]:"fire-rc",[SD]:"fire-rc-compat",[ED]:"fire-gcs",[TD]:"fire-gcs-compat",[wD]:"fire-fst",[CD]:"fire-fst-compat",[xD]:"fire-vertex","fire-js":"fire-js",[AD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,DD=new Map,hp=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(hp.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,t);for(const n of yc.values())K0(n,t);for(const n of DD.values())K0(n,t);return!0}function cm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new El("app","Firebase",OD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=RD;function BE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw os.create("no-options");const u=yc.get(o);if(u){if($s(n,u.options)&&$s(r,u.config))return u;throw os.create("duplicate-app",{appName:o})}const c=new jN(o);for(const p of hp.values())c.addComponent(p);const f=new MD(n,r,c);return yc.set(o,f),f}function zE(t=fp){const e=yc.get(t);if(!e&&t===fp&&kE())return BE();if(!e)throw os.create("no-app",{appName:t});return e}function ls(t,e,n){var r;let o=(r=ND[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(f.join(" "));return}la(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="firebase-heartbeat-database",kD=1,el="firebase-heartbeat-store";let Ld=null;function HE(){return Ld||(Ld=QN(ID,kD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(el)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Ld}async function PD(t){try{const n=(await HE()).transaction(el),r=await n.objectStore(el).get(FE(t));return await n.done,r}catch(e){if(e instanceof ps)bi.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function W0(t,e){try{const r=(await HE()).transaction(el,"readwrite");await r.objectStore(el).put(e,FE(t)),await r.done}catch(n){if(n instanceof ps)bi.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function FE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1024,UD=30;class jD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UD){const c=zD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$0(),{heartbeatsToSend:r,unsentEntries:o}=VD(this._heartbeatsCache.heartbeats),u=pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return bi.warn(n),""}}}function $0(){return new Date().toISOString().substring(0,10)}function VD(t,e=LD){const n=[];let r=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),X0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TN()?wN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function X0(t){return pc(JSON.stringify({version:2,heartbeats:t})).length}function zD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){la(new Xs("platform-logger",e=>new eD(e),"PRIVATE")),la(new Xs("heartbeat",e=>new jD(e),"PRIVATE")),ls(cp,Y0,t),ls(cp,Y0,"esm2017"),ls("fire-js","")}HD("");function fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FD=GE,qE=new El("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new lm("@firebase/auth");function GD(t,...e){vc.logLevel<=Ge.WARN&&vc.warn(`Auth (${Ea}): ${t}`,...e)}function sc(t,...e){vc.logLevel<=Ge.ERROR&&vc.error(`Auth (${Ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw dm(t,...e)}function Mn(t,...e){return dm(t,...e)}function hm(t,e,n){const r=Object.assign(Object.assign({},FD()),{[e]:n});return new El("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return hm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),hm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qE.create(t,...e)}function de(t,e,...n){if(!t)throw dm(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sc(e),new Error(e)}function Si(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YD(){return Q0()==="http:"||Q0()==="https:"}function Q0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||bN()||"connection"in navigator)?navigator.onLine:!0}function WD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=om()||LE()}get(){return KD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QD=new Tl(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gs(t,e,n,r,o={}){return KE(t,o,async()=>{let u={},c={};r&&(e==="GET"?c=r:u={body:JSON.stringify(r)});const f=Sa(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:p},u);return _N()||(h.referrerPolicy="no-referrer"),YE.fetch()(await WE(t,t.config.apiHost,n,f),h)})}async function KE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$D),e);try{const o=new JD(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Wu(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const f=u.ok?c.errorMessage:c.error.message,[p,h]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Wu(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Wu(t,"user-disabled",c);const g=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hm(t,g,h);Tn(t,g)}}catch(o){if(o instanceof ps)throw o;Tn(t,"network-request-failed",{message:String(o)})}}async function wl(t,e,n,r,o={}){const u=await gs(t,e,n,r,o);return"mfaPendingCredential"in u&&Tn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function WE(t,e,n,r){const o=`${e}${n}?${r}`,u=t,c=u.config.emulator?pm(t.config,o):`${t.config.apiScheme}://${o}`;return XD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function ZD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),QD.get())})}}function Wu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Mn(t,e,r);return o.customData._tokenResponse=n,o}function Z0(t){return t!==void 0&&t.enterprise!==void 0}class eO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tO(t,e){return gs(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function _c(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iO(t,e=!1){const n=Qt(t),r=await n.getIdToken(e),o=mm(r);de(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:zo(Ud(o.auth_time)),issuedAtTime:zo(Ud(o.iat)),expirationTime:zo(Ud(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ud(t){return Number(t)*1e3}function mm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mc(n);return o?JSON.parse(o):(sc("Failed to decode base64 JWT payload"),null)}catch(o){return sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function J0(t){const e=mm(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&sO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),o=await tl(t,_c(n,{idToken:r}));de(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$E(u.providerUserInfo):[],f=oO(t.providerData,c),p=t.isAnonymous,h=!(t.email&&u.passwordHash)&&!(f!=null&&f.length),g=p?h:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new pp(u.createdAt,u.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function aO(t){const e=Qt(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oO(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function $E(t){return t.map(e=>{var{providerId:n}=e,r=fm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){const n=await KE(t,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await WE(t,o,"/v1/token",`key=${u}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",YE.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uO(t,e){return gs(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=J0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await lO(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new ta;return r&&(de(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(de(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,u=fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await tl(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iO(this,e)}reload(){return aO(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await tl(this,nO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,u,c,f,p,h,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,_=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,S=(c=n.photoURL)!==null&&c!==void 0?c:void 0,w=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,I=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:D,emailVerified:q,isAnonymous:M,providerData:z,stsTokenManager:K}=n;de(D&&K,e,"internal-error");const F=ta.fromJSON(this.name,K);de(typeof D=="string",e,"internal-error"),Ji(y,e.name),Ji(v,e.name),de(typeof q=="boolean",e,"internal-error"),de(typeof M=="boolean",e,"internal-error"),Ji(_,e.name),Ji(S,e.name),Ji(w,e.name),Ji(C,e.name),Ji(A,e.name),Ji(I,e.name);const J=new Dn({uid:D,auth:e,email:v,emailVerified:q,displayName:y,isAnonymous:M,photoURL:S,phoneNumber:_,tenantId:w,stsTokenManager:F,createdAt:A,lastLoginAt:I});return z&&Array.isArray(z)&&(J.providerData=z.map(ie=>Object.assign({},ie))),C&&(J._redirectEventId=C),J}static async _fromIdTokenResponse(e,n,r=!1){const o=new ta;o.updateFromServerResponse(n);const u=new Dn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await bc(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];de(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$E(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new ta;f.updateFromIdToken(r);const p=new Dn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,h),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function pi(t){Si(t instanceof Function,"Expected a class definition");let e=eb.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XE.type="NONE";const tb=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=rc(this.userKey,o.apiKey,u),this.fullPersistenceKey=rc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _c(this.auth,{idToken:e}).catch(()=>{});return n?Dn._fromGetAccountInfoResponse(this.auth,n,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new na(pi(tb),e,r);const o=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let u=o[0]||pi(tb);const c=rc(r,e.config.apiKey,e.name);let f=null;for(const h of n)try{const g=await h._get(c);if(g){let y;if(typeof g=="string"){const v=await _c(e,{idToken:g}).catch(()=>{});if(!v)break;y=await Dn._fromGetAccountInfoResponse(e,v,g)}else y=Dn._fromJSON(e,g);h!==u&&(f=y),u=h;break}}catch{}const p=o.filter(h=>h._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new na(u,e,r):(u=p[0],f&&await u._set(c,f.toJSON()),await Promise.all(n.map(async h=>{if(h!==u)try{await h._remove(c)}catch{}})),new na(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nT(e))return"Blackberry";if(iT(e))return"Webos";if(ZE(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QE(t=Bt()){return/firefox\//i.test(t)}function ZE(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(t=Bt()){return/crios\//i.test(t)}function eT(t=Bt()){return/iemobile/i.test(t)}function tT(t=Bt()){return/android/i.test(t)}function nT(t=Bt()){return/blackberry/i.test(t)}function iT(t=Bt()){return/webos/i.test(t)}function gm(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cO(t=Bt()){var e;return gm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fO(){return SN()&&document.documentMode===10}function sT(t=Bt()){return gm(t)||tT(t)||iT(t)||nT(t)||/windows phone/i.test(t)||eT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e=[]){let n;switch(t){case"Browser":n=nb(Bt());break;case"Worker":n=`${nb(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((c,f)=>{try{const p=e(u);c(p)}catch(p){f(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e={}){return gs(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=6;class mO{constructor(e){var n,r,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:pO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,u,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new hO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _c(this,{idToken:e}),r=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(on(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(yi(this));const n=e?Qt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dO(this),n=new mO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(f,this,"internal-error"),f.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return Qt(t)}class ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=ON(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yO(t){Kc=t}function aT(t){return Kc.loadJS(t)}function vO(){return Kc.recaptchaEnterpriseScript}function _O(){return Kc.gapiScript}function bO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SO{constructor(){this.enterprise=new EO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TO="recaptcha-enterprise",oT="NO_RECAPTCHA";class wO{constructor(e){this.type=TO,this.auth=ys(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,f)=>{tO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const h=new eO(p);return u.tenantId==null?u._agentRecaptchaConfig=h:u._tenantRecaptchaConfigs[u.tenantId]=h,c(h.siteKey)}}).catch(p=>{f(p)})})}function o(u,c,f){const p=window.grecaptcha;Z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(h=>{c(h)}).catch(()=>{c(oT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SO().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{r(this.auth).then(f=>{if(!n&&Z0(window.grecaptcha))o(f,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vO();p.length!==0&&(p+=f),aT(p).then(()=>{o(f,u,c)}).catch(h=>{c(h)})}}).catch(f=>{c(f)})})}}async function sb(t,e,n,r=!1,o=!1){const u=new wO(t);let c;if(o)c=oT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,h=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function mp(t,e,n,r,o){var u;if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sb(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await sb(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t,e){const n=cm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Tn(o,"already-initialized")}return n.initialize({options:e})}function CO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AO(t,e,n){const r=ys(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=lT(e),{host:c,port:f}=RO(e),p=f===null?"":`:${f}`,h={url:`${u}//${c}${p}/`},g=Object.freeze({host:c,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de($s(h,r.config.emulator)&&$s(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,NO()}function lT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RO(t){const e=lT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:rb(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:rb(c)}}}function rb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function DO(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e){return wl(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){return wl(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function IO(t,e){return wl(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends ym{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,n,"signInWithPassword",OO);case"emailLink":return MO(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,r,"signUpPassword",DO);case"emailLink":return IO(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return wl(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="http://localhost";class Qs extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,u=fm(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Qs(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:kO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LO(t){const e=Uo(jo(t)).link,n=e?Uo(jo(e)).deep_link_id:null,r=Uo(jo(t)).deep_link_id;return(r?Uo(jo(r)).link:null)||r||n||e||t}class vm{constructor(e){var n,r,o,u,c,f;const p=Uo(jo(e)),h=(n=p.apiKey)!==null&&n!==void 0?n:null,g=(r=p.oobCode)!==null&&r!==void 0?r:null,y=PO((o=p.mode)!==null&&o!==void 0?o:null);de(h&&g&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=g,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=LO(e);try{return new vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vm.parseLink(n);return de(r,"argument-error"),nl._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends _m{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends xl{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends xl{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends xl{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return wl(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Dn._fromIdTokenResponse(e,r,o),c=ab(r);return new Zs({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=ab(r);return new Zs({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function ab(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends ps{constructor(e,n,r,o){var u;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Sc(e,n,r,o)}}function uT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(t,u,e,r):u})}async function jO(t,e,n=!1){const r=await tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(yi(r));const o="reauthenticate";try{const u=await tl(t,uT(r,o,e,t),n);de(u.idToken,r,"internal-error");const c=mm(u.idToken);de(c,r,"internal-error");const{sub:f}=c;return de(t.uid===f,r,"user-mismatch"),Zs._forOperation(t,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,e,n=!1){if(on(t.app))return Promise.reject(yi(t));const r="signIn",o=await uT(t,r,e),u=await Zs._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(u.user),u}async function BO(t,e){return cT(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zO(t,e,n){if(on(t.app))return Promise.reject(yi(t));const r=ys(t),c=await mp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fT(t),p}),f=await Zs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function HO(t,e,n){return on(t.app)?Promise.reject(yi(t)):BO(Qt(t),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fT(t),r})}function FO(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function GO(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function qO(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}const Ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=1e3,KO=10;class dT extends hT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);fO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dT.type="LOCAL";const WO=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends hT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pT.type="SESSION";const mT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Wc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(c).map(async h=>h(n.origin,u)),p=await $O(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((f,p)=>{const h=bm("",20);o.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(g),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(v.data.response);break;default:clearTimeout(g),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function QO(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function ZO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eM(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",tM=1,Tc="firebaseLocalStorage",vT="fbase_key";class Cl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $c(t,e){return t.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function nM(){const t=indexedDB.deleteDatabase(yT);return new Cl(t).toPromise()}function gp(){const t=indexedDB.open(yT,tM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tc,{keyPath:vT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tc)?e(r):(r.close(),await nM(),e(await gp()))})})}async function ob(t,e,n){const r=$c(t,!0).put({[vT]:e,value:n});return new Cl(r).toPromise()}async function iM(t,e){const n=$c(t,!1).get(e),r=await new Cl(n).toPromise();return r===void 0?null:r.value}function lb(t,e){const n=$c(t,!0).delete(e);return new Cl(n).toPromise()}const sM=800,rM=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(eM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZO(),!this.activeServiceWorker)return;this.sender=new XO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await ob(e,Ec,"1"),await lb(e,Ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ob(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$c(o,!1).getAll();return new Cl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const aM=_T;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){return e?pi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oM(t){return cT(t.auth,new Sm(t),t.bypassAuthState)}function lM(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),VO(n,new Sm(t),t.bypassAuthState)}async function uM(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),jO(n,new Sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oM;case"linkViaPopup":case"linkViaRedirect":return uM;case"reauthViaPopup":case"reauthViaRedirect":return lM;default:Tn(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new Tl(2e3,1e4);async function fM(t,e,n){if(on(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const r=ys(t);qD(t,e,_m);const o=bT(r,n);return new Fs(r,"signInViaPopup",e,o).executeNotNull()}class Fs extends ST{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cM.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="pendingRedirect",ac=new Map;class dM extends ST{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const r=await pM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pM(t,e){const n=yM(e),r=gM(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function mM(t,e){ac.set(t._key(),e)}function gM(t){return pi(t._redirectPersistence)}function yM(t){return rc(hM,t.config.apiKey,t.name)}async function vM(t,e,n=!1){if(on(t.app))return Promise.reject(yi(t));const r=ys(t),o=bT(r,e),c=await new dM(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=10*60*1e3;class bM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ET(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_M&&this.cachedEventUids.clear(),this.cachedEventUids.has(ub(e))}saveEventToCache(e){this.cachedEventUids.add(ub(e)),this.lastProcessedEventTime=Date.now()}}function ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ET({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function xM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EM(t);for(const n of e)try{if(CM(n))return}catch{}Tn(t,"unauthorized-domain")}function CM(t){const e=dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!wM.test(n))return!1;if(TM.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new Tl(3e4,6e4);function cb(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RM(t){return new Promise((e,n)=>{var r,o,u;function c(){cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cb(),n(Mn(t,"network-request-failed"))},timeout:AM.get()})}if(!((o=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Fn().gapi)===null||u===void 0)&&u.load)c();else{const f=bO("iframefcb");return Fn()[f]=()=>{gapi.load?c():n(Mn(t,"network-request-failed"))},aT(`${_O()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw oc=null,e})}let oc=null;function NM(t){return oc=oc||RM(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new Tl(5e3,15e3),OM="__/auth/iframe",MM="emulator/auth/iframe",IM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PM(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pm(e,MM):`https://${t.config.authDomain}/${OM}`,r={apiKey:e.apiKey,appName:t.name,v:Ea},o=kM.get(t.config.apiHost);o&&(r.eid=o);const u=t._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Sa(r).slice(1)}`}async function LM(t){const e=await NM(t),n=Fn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:PM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IM,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=Mn(t,"network-request-failed"),f=Fn().setTimeout(()=>{u(c)},DM.get());function p(){Fn().clearTimeout(f),o(r)}r.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jM=500,VM=600,BM="_blank",zM="http://localhost";class fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HM(t,e,n,r=jM,o=VM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},UM),{width:r.toString(),height:o.toString(),top:u,left:c}),h=Bt().toLowerCase();n&&(f=JE(h)?BM:n),QE(h)&&(e=e||zM,p.scrollbars="yes");const g=Object.entries(p).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(cO(h)&&f!=="_self")return FM(e||"",f),new fb(null);const y=window.open(e||"",f,g);de(y,t,"popup-blocked");try{y.focus()}catch{}return new fb(y)}function FM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="__/auth/handler",qM="emulator/auth/handler",YM=encodeURIComponent("fac");async function hb(t,e,n,r,o,u){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ea,eventId:o};if(e instanceof _m){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",op(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof xl){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const p=await t._getAppCheckToken(),h=p?`#${YM}=${encodeURIComponent(p)}`:"";return`${KM(t)}?${Sa(f).slice(1)}${h}`}function KM({config:t}){return t.emulator?pm(t,qM):`https://${t.authDomain}/${GM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class WM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=vM,this._overrideRedirectResult=mM}async _openPopup(e,n,r,o){var u;Si((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await hb(e,n,r,dp(),o);return HM(e,c,bm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await hb(e,n,r,dp(),o);return QO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Si(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LM(e),r=new bM(e);return n.register("authEvent",o=>(de(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[jd];c!==void 0&&n(!!c),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||ZE()||gm()}}const $M=WM;var db="@firebase/auth",pb="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZM(t){la(new Xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(t)},h=new gO(r,o,u,p);return CO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new Xs("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(r=>new XM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(db,pb,QM(t)),ls(db,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=5*60,eI=PE("authIdTokenMaxAge")||JM;let mb=null;const tI=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eI)return;const o=n==null?void 0:n.token;mb!==o&&(mb=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nI(t=zE()){const e=cm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xO(t,{popupRedirectResolver:$M,persistence:[aM,WO,mT]}),r=PE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=tI(u.toString());GO(n,c,()=>c(n.currentUser)),FO(n,f=>c(f))}}const o=IE("auth");return o&&AO(n,`http://${o}`),n}function iI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const u=Mn("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",iI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZM("Browser");var sI="firebase",rI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(sI,rI,"app");var gb={};const yb="@firebase/database",vb="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TT="";function aI(t){TT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oI(e)}}catch{}return new lI},Gs=wT("localStorage"),uI=wT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new lm("@firebase/database"),cI=function(){let t=1;return function(){return t++}}(),xT=function(t){const e=kN(t),n=new DN;n.update(e);const r=n.digest();return rm.encodeByteArray(r)},Al=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Al.apply(null,r):typeof r=="object"?e+=xt(r):e+=r,e+=" "}return e};let Ho=null,_b=!0;const fI=function(t,e){ne(!0,"Can't turn on custom loggers persistently."),sa.logLevel=Ge.VERBOSE,Ho=sa.log.bind(sa)},Dt=function(...t){if(_b===!0&&(_b=!1,Ho===null&&uI.get("logging_enabled")===!0&&fI()),Ho){const e=Al.apply(null,t);Ho(e)}},Rl=function(t){return function(...e){Dt(t,...e)}},yp=function(...t){const e="FIREBASE INTERNAL ERROR: "+Al(...t);sa.error(e)},Ei=function(...t){const e=`FIREBASE FATAL ERROR: ${Al(...t)}`;throw sa.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+Al(...t);sa.warn(e)},hI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Em=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ua="[MIN_NAME]",Js="[MAX_NAME]",ir=function(t,e){if(t===e)return 0;if(t===ua||e===Js)return-1;if(e===ua||t===Js)return 1;{const n=bb(t),r=bb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pI=function(t,e){return t===e?0:t<e?-1:1},Oo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+xt(e))},Tm=function(t){if(typeof t!="object"||t===null)return xt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=xt(e[r]),n+=":",n+=Tm(t[e[r]]);return n+="}",n},CT=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const AT=function(t){ne(!Em(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,u,c,f,p;t===0?(u=0,c=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),r),u=f+r,c=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(u=0,c=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(p=n;p;p-=1)h.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)h.push(u%2?1:0),u=Math.floor(u/2);h.push(o?1:0),h.reverse();const g=h.join("");let y="";for(p=0;p<64;p+=8){let v=parseInt(g.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},mI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const vI=new RegExp("^-?(0*)\\d{1,10}$"),_I=-2147483648,bI=2147483647,bb=function(t){if(vI.test(t)){const e=Number(t);if(e>=_I&&e<=bI)return e}return null},wa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},SI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class lc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}lc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="5",RT="v",NT="s",DT="r",OT="f",MT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IT="ls",kT="p",vp="ac",PT="websocket",LT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,o,u=!1,c="",f=!1,p=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function wI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jT(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===PT)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LT)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wI(t)&&(n.ns=t.namespace);const o=[];return Ot(n,(u,c)=>{o.push(u+"="+c)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.counters_={}}incrementCounter(e,n=1){Wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return fN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd={},Bd={};function xm(t){const e=t.toString();return Vd[e]||(Vd[e]=new xI),Vd[e]}function CI(t,e){const n=t.toString();return Bd[n]||(Bd[n]=e()),Bd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&wa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="start",RI="close",NI="pLPCommand",DI="pRTLPCB",VT="id",BT="pw",zT="ser",OI="cb",MI="seg",II="ts",kI="d",PI="dframe",HT=1870,FT=30,LI=HT-FT,UI=25e3,jI=3e4;class $r{constructor(e,n,r,o,u,c,f){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=c,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rl(e),this.stats_=xm(n),this.urlFn=p=>(this.appCheckToken&&(p[vp]=this.appCheckToken),jT(n,LT,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jI)),dI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cm((...u)=>{const[c,f,p,h,g]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Sb)this.id=f,this.password=p;else if(c===RI)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,f]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,f)},()=>{this.onClosed_()},this.urlFn);const r={};r[Sb]="t",r[zT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RT]=wm,this.transportSessionId&&(r[NT]=this.transportSessionId),this.lastSessionId&&(r[IT]=this.lastSessionId),this.applicationId&&(r[kT]=this.applicationId),this.appCheckToken&&(r[vp]=this.appCheckToken),typeof location<"u"&&location.hostname&&MT.test(location.hostname)&&(r[DT]=OT);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$r.forceAllow_=!0}static forceDisallow(){$r.forceDisallow_=!0}static isAvailable(){return $r.forceAllow_?!0:!$r.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mI()&&!gI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=OE(n),o=CT(r,LI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[PI]="t",r[VT]=e,r[BT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=xt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cm{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cI(),window[NI+this.uniqueCallbackIdentifier]=e,window[DI+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cm.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(f){Dt("frame writing exception"),f.stack&&Dt(f.stack),Dt(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Dt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VT]=this.myID,e[BT]=this.myPW,e[zT]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FT+r.length<=HT;){const c=this.pendingSegs.shift();r=r+"&"+MI+o+"="+c.seg+"&"+II+o+"="+c.ts+"&"+kI+o+"="+c.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(UI)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=16384,BI=45e3;let wc=null;typeof MozWebSocket<"u"?wc=MozWebSocket:typeof WebSocket<"u"&&(wc=WebSocket);class Nn{constructor(e,n,r,o,u,c,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rl(this.connId),this.stats_=xm(n),this.connURL=Nn.connectionURL_(n,c,f,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,u){const c={};return c[RT]=wm,typeof location<"u"&&location.hostname&&MT.test(location.hostname)&&(c[DT]=OT),n&&(c[NT]=n),r&&(c[IT]=r),o&&(c[vp]=o),u&&(c[kT]=u),jT(e,PT,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gs.set("previous_websocket_failure",!0);try{let r;EN(),this.mySock=new wc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&wc!==null&&!Nn.forceDisallow_}static previouslyFailed(){return Gs.isInMemoryStorage||Gs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CT(n,VI);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static get ALL_TRANSPORTS(){return[$r,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Nn&&Nn.isAvailable();let r=n&&!Nn.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nn];else{const o=this.transports_=[];for(const u of il.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);il.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}il.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=6e4,HI=5e3,FI=10*1024,GI=100*1024,zd="t",Eb="d",qI="s",Tb="r",YI="e",wb="o",xb="a",Cb="n",Ab="p",KI="h";class WI{constructor(e,n,r,o,u,c,f,p,h,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=c,this.onReady_=f,this.onDisconnect_=p,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rl("c:"+this.id+":"),this.transportManager_=new il(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zd in e){const n=e[zd];n===xb?this.upgradeIfSecondaryHealthy_():n===Tb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Oo("t",e),r=Oo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ab,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Cb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Oo("t",e),r=Oo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Oo(zd,e);if(Eb in e){const r=e[Eb];if(n===KI){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Cb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qI?this.onConnectionShutdown_(r):n===Tb?this.onReset_(r):n===YI?yp("Server Error: "+r):n===wb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wm!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ab,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends qT{static getInstance(){return new xc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=32,Nb=768;class qe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ue(){return new qe("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function cs(t){return t.pieces_.length-t.pieceNum_}function Xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qe(t.pieces_,e)}function Am(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $I(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function YT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qe(e,0)}function lt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof qe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new qe(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function Wt(t,e){const n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return Wt(Xe(t),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XI(t,e){const n=sl(t,0),r=sl(e,0);for(let o=0;o<n.length&&o<r.length;o++){const u=ir(n[o],r[o]);if(u!==0)return u}return n.length===r.length?0:n.length<r.length?-1:1}function Rm(t,e){if(cs(t)!==cs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Sn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(cs(t)>cs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class QI{constructor(e,n){this.errorPrefix_=n,this.parts_=sl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yc(this.parts_[r]);KT(this)}}function ZI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yc(e),KT(t)}function JI(t){const e=t.parts_.pop();t.byteLength_-=Yc(e),t.parts_.length>0&&(t.byteLength_-=1)}function KT(t){if(t.byteLength_>Nb)throw new Error(t.errorPrefix_+"has a key path longer than "+Nb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Rb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rb+") or object contains a cycle "+Bs(t))}function Bs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends qT{static getInstance(){return new Nm}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=1e3,ek=60*5*1e3,Db=30*1e3,tk=1.3,nk=3e4,ik="server_kill",Ob=3;class vi extends GT{constructor(e,n,r,o,u,c,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=vi.nextPersistentConnectionId_++,this.log_=Rl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mo,this.maxReconnectDelay_=ek,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&xc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(xt(u)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new Sl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const f=c.d;c.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,o){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(c).set(u,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,f=>{const p=f.d,h=f.s;vi.warnOnListenWarnings_(p,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),h!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(h,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wn(e,"w")){const r=oa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||NN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Db)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=RN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const u=o.s,c=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";o&&(u.q=r,u.t=o),this.sendRequest(c,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,u){this.initConnection_();const c={p:n,d:r};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):yp("Unrecognized action received from server: "+xt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nk&&(this.reconnectDelay_=Mo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+vi.nextConnectionId_++,u=this.lastSessionId;let c=!1,f=null;const p=function(){f?f.close():(c=!0,r())},h=function(y){ne(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:p,sendRequest:h};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Dt("getToken() completed but was canceled"):(Dt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,f=new WI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Vt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(ik)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Vt(y),p())}}}interrupt(e){Dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],op(this.interruptReasons_)&&(this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>Tm(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new qe(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){Dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ob&&(this.reconnectDelay_=Db,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ob&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+TT.replace(/\./g,"-")]=1,om()?e["framework.cordova"]=1:LE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xc.getInstance().currentlyOnline();return op(this.interruptReasons_)&&e}}vi.nextPersistentConnectionId_=0;vi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ce(ua,e),o=new Ce(ua,n);return this.compare(r,o)!==0}minPost(){return Ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class WT extends Xc{static get __EMPTY_NODE(){return $u}static set __EMPTY_NODE(e){$u=e}compare(e,n){return ir(e.name,n.name)}isDefinedOn(e){throw ba("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ce.MIN}maxPost(){return new Ce(Js,$u)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Ce(e,$u)}toString(){return".key"}}const ra=new WT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=o??$t.EMPTY_NODE,this.right=u??$t.EMPTY_NODE}copy(e,n,r,o,u){return new Tt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return $t.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Tt.RED=!0;Tt.BLACK=!1;class sk{copy(e,n,r,o,u){return this}insert(e,n,r){return new Tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $t{constructor(e,n=$t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tt.BLACK,null,null))}remove(e){return new $t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xu(this.root_,null,this.comparator_,!0,e)}}$t.EMPTY_NODE=new sk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e){return ir(t.name,e.name)}function Dm(t,e){return ir(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;function ak(t){_p=t}const $T=function(t){return typeof t=="number"?"number:"+AT(t):"string:"+t},XT=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wn(e,".sv"),"Priority must be a string or number.")}else ne(t===_p||t.isEmpty(),"priority of unexpected type.");ne(t===_p||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb;class Et{static set __childrenNodeConstructor(e){Mb=e}static get __childrenNodeConstructor(){return Mb}constructor(e,n=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:xe(e)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||cs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$T(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=AT(this.value_):e+=this.value_,this.lazyHash_=xT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Et.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=Et.VALUE_TYPE_ORDER.indexOf(n),u=Et.VALUE_TYPE_ORDER.indexOf(r);return ne(o>=0,"Unknown leaf type: "+n),ne(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QT,ZT;function ok(t){QT=t}function lk(t){ZT=t}class uk extends Xc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),u=r.compareTo(o);return u===0?ir(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ce.MIN}maxPost(){return new Ce(Js,new Et("[PRIORITY-POST]",ZT))}makePost(e,n){const r=QT(e);return new Ce(n,new Et("[PRIORITY-POST]",r))}toString(){return".priority"}}const ut=new uk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=Math.log(2);class fk{constructor(e){const n=u=>parseInt(Math.log(u)/ck,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cc=function(t,e,n,r){t.sort(e);const o=function(p,h){const g=h-p;let y,v;if(g===0)return null;if(g===1)return y=t[p],v=n?n(y):y,new Tt(v,y.node,Tt.BLACK,null,null);{const _=parseInt(g/2,10)+p,S=o(p,_),w=o(_+1,h);return y=t[_],v=n?n(y):y,new Tt(v,y.node,Tt.BLACK,S,w)}},u=function(p){let h=null,g=null,y=t.length;const v=function(S,w){const C=y-S,A=y;y-=S;const I=o(C+1,A),D=t[C],q=n?n(D):D;_(new Tt(q,D.node,w,null,I))},_=function(S){h?(h.left=S,h=S):(g=S,h=S)};for(let S=0;S<p.count;++S){const w=p.nextBitIsOne(),C=Math.pow(2,p.count-(S+1));w?v(C,Tt.BLACK):(v(C,Tt.BLACK),v(C,Tt.RED))}return g},c=new fk(t.length),f=u(c);return new $t(r||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd;const Wr={};class mi{static get Default(){return ne(Wr&&ut,"ChildrenNode.ts has not been loaded"),Hd=Hd||new mi({".priority":Wr},{".priority":ut}),Hd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=oa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $t?n:null}hasIndex(e){return Wn(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=n.getIterator(Ce.Wrap);let c=u.getNext();for(;c;)o=o||e.isDefinedOn(c.node),r.push(c),c=u.getNext();let f;o?f=Cc(r,e.getCompare()):f=Wr;const p=e.toString(),h=Object.assign({},this.indexSet_);h[p]=e;const g=Object.assign({},this.indexes_);return g[p]=f,new mi(g,h)}addToIndexes(e,n){const r=gc(this.indexes_,(o,u)=>{const c=oa(this.indexSet_,u);if(ne(c,"Missing index implementation for "+u),o===Wr)if(c.isDefinedOn(e.node)){const f=[],p=n.getIterator(Ce.Wrap);let h=p.getNext();for(;h;)h.name!==e.name&&f.push(h),h=p.getNext();return f.push(e),Cc(f,c.getCompare())}else return Wr;else{const f=n.get(e.name);let p=o;return f&&(p=p.remove(new Ce(e.name,f))),p.insert(e,e.node)}});return new mi(r,this.indexSet_)}removeFromIndexes(e,n){const r=gc(this.indexes_,o=>{if(o===Wr)return o;{const u=n.get(e.name);return u?o.remove(new Ce(e.name,u)):o}});return new mi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io;class ge{static get EMPTY_NODE(){return Io||(Io=new ge(new $t(Dm),null,mi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&XT(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Io}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Io:n}}getChild(e){const n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(Xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ce(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const c=o.isEmpty()?Io:this.priorityNode_;return new ge(o,c,u)}}updateChild(e,n){const r=xe(e);if(r===null)return n;{ne(xe(e)!==".priority"||cs(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Xe(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,u=!0;if(this.forEachChild(ut,(c,f)=>{n[c]=f.val(e),r++,u&&ge.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):u=!1}),!e&&u&&o<2*r){const c=[];for(const f in n)c[f]=n[f];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$T(this.getPriority().val())+":"),this.forEachChild(ut,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":xT(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new Ce(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ce.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nl?-1:0}withIndex(e){if(e===ra||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ra||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ut),o=n.getIterator(ut);let u=r.getNext(),c=o.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=r.getNext(),c=o.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ra?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hk extends ge{constructor(){super(new $t(Dm),ge.EMPTY_NODE,mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const Nl=new hk;Object.defineProperties(Ce,{MIN:{value:new Ce(ua,ge.EMPTY_NODE)},MAX:{value:new Ce(Js,Nl)}});WT.__EMPTY_NODE=ge.EMPTY_NODE;Et.__childrenNodeConstructor=ge;ak(Nl);lk(Nl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=!0;function wt(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Et(n,wt(e))}if(!(t instanceof Array)&&dk){const n=[];let r=!1;if(Ot(t,(c,f)=>{if(c.substring(0,1)!=="."){const p=wt(f);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),n.push(new Ce(c,p)))}}),n.length===0)return ge.EMPTY_NODE;const u=Cc(n,rk,c=>c.name,Dm);if(r){const c=Cc(n,ut.getCompare());return new ge(u,wt(e),new mi({".priority":c},{".priority":ut}))}else return new ge(u,wt(e),mi.Default)}else{let n=ge.EMPTY_NODE;return Ot(t,(r,o)=>{if(Wn(t,r)&&r.substring(0,1)!=="."){const u=wt(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(wt(e))}}ok(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk extends Xc{constructor(e){super(),this.indexPath_=e,ne(!Oe(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),u=r.compareTo(o);return u===0?ir(e.name,n.name):u}makePost(e,n){const r=wt(e),o=ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ce(n,o)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,Nl);return new Ce(Js,e)}toString(){return sl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends Xc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ir(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ce.MIN}maxPost(){return Ce.MAX}makePost(e,n){const r=wt(e);return new Ce(n,r)}toString(){return".value"}}const gk=new mk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return{type:"value",snapshotNode:t}}function ca(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function al(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function yk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.index_=e}updateChild(e,n,r,o,u,c){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(r.getChild(o))&&f.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(rl(n,f)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?c.trackChildChange(ca(n,r)):c.trackChildChange(al(n,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ut,(o,u)=>{n.hasChild(o)||r.trackChildChange(rl(o,u))}),n.isLeafNode()||n.forEachChild(ut,(o,u)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(u)||r.trackChildChange(al(o,u,c))}else r.trackChildChange(ca(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.indexedFilter_=new Om(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ol.getStartPost_(e),this.endPost_=ol.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,u,c){return this.matches(new Ce(n,r))||(r=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,u,c)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ge.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ge.EMPTY_NODE);const u=this;return n.forEachChild(ut,(c,f)=>{u.matches(new Ce(c,f))||(o=o.updateImmediateChild(c,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ol(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,u,c){return this.rangedFilter_.matches(new Ce(n,r))||(r=ge.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,u,c):this.fullLimitUpdateChild_(e,n,r,u,c)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ge.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const f=u.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),c++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ge.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let c=0;for(;u.hasNext();){const f=u.getNext();c<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?c++:o=o.updateImmediateChild(f.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,_)=>y(_,v)}else c=this.index_.getCompare();const f=e;ne(f.numChildren()===this.limit_,"");const p=new Ce(n,r),h=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(p);if(f.hasChild(n)){const y=f.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||f.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const _=v==null?1:c(v,p);if(g&&!r.isEmpty()&&_>=0)return u!=null&&u.trackChildChange(al(n,r,y)),f.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(rl(n,y));const w=f.updateImmediateChild(n,ge.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(ca(v.name,v.node)),w.updateImmediateChild(v.name,v.node)):w}}else return r.isEmpty()?e:g&&c(h,p)>=0?(u!=null&&(u.trackChildChange(rl(h.name,h.node)),u.trackChildChange(ca(n,r))),f.updateImmediateChild(n,r).updateImmediateChild(h.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ua}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Js}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ut}copy(){const e=new Mm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _k(t){return t.loadsAllData()?new Om(t.getIndex()):t.hasLimit()?new vk(t):new ol(t)}function Ib(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ut?n="$priority":t.index_===gk?n="$value":t.index_===ra?n="$key":(ne(t.index_ instanceof pk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=xt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=xt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+xt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=xt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+xt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ut&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends GT{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Rl("p:rest:"),this.listens_={}}listen(e,n,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=Ac.getListenId_(e,r),f={};this.listens_[c]=f;const p=Ib(e._queryParams);this.restRequest_(u+".json",p,(h,g)=>{let y=g;if(h===404&&(y=null,h=null),h===null&&this.onDataUpdate_(u,y,!1,r),oa(this.listens_,c)===f){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",o(v,null)}})}unlisten(e,n){const r=Ac.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ib(e._queryParams),r=e._path.toString(),o=new Sl;return this.restRequest_(r+".json",n,(u,c)=>{let f=c;u===404&&(f=null,u=null),u===null?(this.onDataUpdate_(r,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sa(n);this.log_("Sending REST request for "+c);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&f.readyState===4){this.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=Jo(f.responseText)}catch{Vt("Failed to parse JSON response for "+c+": "+f.responseText)}r(null,p)}else f.status!==401&&f.status!==404&&Vt("Got unsuccessful REST response for "+c+" Status: "+f.status),r(f.status);r=null}},f.open("GET",c,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(){return{value:null,children:new Map}}function ew(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xe(e);t.children.has(r)||t.children.set(r,Rc());const o=t.children.get(r);e=Xe(e),ew(o,e,n)}}function bp(t,e,n){t.value!==null?n(e,t.value):Sk(t,(r,o)=>{const u=new qe(e.toString()+"/"+r);bp(o,u,n)})}function Sk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ot(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=10*1e3,Tk=30*1e3,wk=5*60*1e3;class xk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ek(e);const r=Pb+(Tk-Pb)*Math.random();Fo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ot(e,(o,u)=>{u>0&&Wn(this.statsToReport_,o)&&(n[o]=u,r=!0)}),r&&this.server_.reportStats(n),Fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*wk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(On||(On={}));function Im(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function km(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=On.ACK_USER_WRITE,this.source=Im()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qe(e));return new Nc(Ue(),n,this.revert)}}else return ne(xe(this.path)===e,"operationForChild called for unrelated child."),new Nc(Xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.source=e,this.path=n,this.type=On.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new ll(this.source,Ue()):new ll(this.source,Xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=On.OVERWRITE}operationForChild(e){return Oe(this.path)?new er(this.source,Ue(),this.snap.getImmediateChild(e)):new er(this.source,Xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=On.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new qe(e));return n.isEmpty()?null:n.value?new er(this.source,Ue(),n.value):new fa(this.source,Ue(),n)}else return ne(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fa(this.source,Xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ak(t,e,n,r){const o=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(yk(c.childName,c.snapshotNode))}),ko(t,o,"child_removed",e,r,n),ko(t,o,"child_added",e,r,n),ko(t,o,"child_moved",u,r,n),ko(t,o,"child_changed",e,r,n),ko(t,o,"value",e,r,n),o}function ko(t,e,n,r,o,u){const c=r.filter(f=>f.type===n);c.sort((f,p)=>Nk(t,f,p)),c.forEach(f=>{const p=Rk(t,f,u);o.forEach(h=>{h.respondsTo(f.type)&&e.push(h.createEvent(p,t.query_))})})}function Rk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Nk(t,e,n){if(e.childName==null||n.childName==null)throw ba("Should only compare child_ events.");const r=new Ce(e.childName,e.snapshotNode),o=new Ce(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e){return{eventCache:t,serverCache:e}}function Go(t,e,n,r){return Qc(new tr(e,n,r),t.serverCache)}function tw(t,e,n,r){return Qc(t.eventCache,new tr(e,n,r))}function Sp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;const Dk=()=>(Fd||(Fd=new $t(pI)),Fd);class $e{static fromObject(e){let n=new $e(null);return Ot(e,(r,o)=>{n=n.set(new qe(r),o)}),n}constructor(e,n=Dk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(Oe(e))return null;{const r=xe(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Xe(e),n);return u!=null?{path:lt(new qe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=xe(e),r=this.children.get(n);return r!==null?r.subtree(Xe(e)):new $e(null)}}set(e,n){if(Oe(e))return new $e(n,this.children);{const r=xe(e),u=(this.children.get(r)||new $e(null)).set(Xe(e),n),c=this.children.insert(r,u);return new $e(this.value,c)}}remove(e){if(Oe(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=xe(e),r=this.children.get(n);if(r){const o=r.remove(Xe(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new $e(null):new $e(this.value,u)}else return this}}get(e){if(Oe(e))return this.value;{const n=xe(e),r=this.children.get(n);return r?r.get(Xe(e)):null}}setTree(e,n){if(Oe(e))return n;{const r=xe(e),u=(this.children.get(r)||new $e(null)).setTree(Xe(e),n);let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),new $e(this.value,c)}}fold(e){return this.fold_(Ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(lt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ue(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(Oe(e))return null;{const u=xe(e),c=this.children.get(u);return c?c.findOnPath_(Xe(e),lt(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ue(),n)}foreachOnPath_(e,n,r){if(Oe(e))return this;{this.value&&r(n,this.value);const o=xe(e),u=this.children.get(o);return u?u.foreachOnPath_(Xe(e),lt(n,o),r):new $e(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(lt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.writeTree_=e}static empty(){return new In(new $e(null))}}function qo(t,e,n){if(Oe(e))return new In(new $e(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const c=Wt(o,e);return u=u.updateChild(c,n),new In(t.writeTree_.set(o,u))}else{const o=new $e(n),u=t.writeTree_.setTree(e,o);return new In(u)}}}function Ep(t,e,n){let r=t;return Ot(n,(o,u)=>{r=qo(r,lt(e,o),u)}),r}function Lb(t,e){if(Oe(e))return In.empty();{const n=t.writeTree_.setTree(e,new $e(null));return new In(n)}}function Tp(t,e){return sr(t,e)!=null}function sr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Wt(n.path,e)):null}function Ub(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ut,(r,o)=>{e.push(new Ce(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new Ce(r,o.value))}),e}function us(t,e){if(Oe(e))return t;{const n=sr(t,e);return n!=null?new In(new $e(n)):new In(t.writeTree_.subtree(e))}}function wp(t){return t.writeTree_.isEmpty()}function ha(t,e){return nw(Ue(),t.writeTree_,e)}function nw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(ne(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=nw(lt(t,o),u,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(lt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e){return aw(e,t)}function Ok(t,e,n,r,o){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=qo(t.visibleWrites,e,n)),t.lastWriteId=r}function Mk(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ep(t.visibleWrites,e,n),t.lastWriteId=r}function Ik(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function kk(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,u=!1,c=t.allWrites.length-1;for(;o&&c>=0;){const f=t.allWrites[c];f.visible&&(c>=n&&Pk(f,r.path)?o=!1:Sn(r.path,f.path)&&(u=!0)),c--}if(o){if(u)return Lk(t),!0;if(r.snap)t.visibleWrites=Lb(t.visibleWrites,r.path);else{const f=r.children;Ot(f,p=>{t.visibleWrites=Lb(t.visibleWrites,lt(r.path,p))})}return!0}else return!1}function Pk(t,e){if(t.snap)return Sn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Sn(lt(t.path,n),e))return!0;return!1}function Lk(t){t.visibleWrites=iw(t.allWrites,Uk,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Uk(t){return t.visible}function iw(t,e,n){let r=In.empty();for(let o=0;o<t.length;++o){const u=t[o];if(e(u)){const c=u.path;let f;if(u.snap)Sn(n,c)?(f=Wt(n,c),r=qo(r,f,u.snap)):Sn(c,n)&&(f=Wt(c,n),r=qo(r,Ue(),u.snap.getChild(f)));else if(u.children){if(Sn(n,c))f=Wt(n,c),r=Ep(r,f,u.children);else if(Sn(c,n))if(f=Wt(c,n),Oe(f))r=Ep(r,Ue(),u.children);else{const p=oa(u.children,xe(f));if(p){const h=p.getChild(Xe(f));r=qo(r,Ue(),h)}}}else throw ba("WriteRecord should have .snap or .children")}}return r}function sw(t,e,n,r,o){if(!r&&!o){const u=sr(t.visibleWrites,e);if(u!=null)return u;{const c=us(t.visibleWrites,e);if(wp(c))return n;if(n==null&&!Tp(c,Ue()))return null;{const f=n||ge.EMPTY_NODE;return ha(c,f)}}}else{const u=us(t.visibleWrites,e);if(!o&&wp(u))return n;if(!o&&n==null&&!Tp(u,Ue()))return null;{const c=function(h){return(h.visible||o)&&(!r||!~r.indexOf(h.writeId))&&(Sn(h.path,e)||Sn(e,h.path))},f=iw(t.allWrites,c,e),p=n||ge.EMPTY_NODE;return ha(f,p)}}}function jk(t,e,n){let r=ge.EMPTY_NODE;const o=sr(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(ut,(u,c)=>{r=r.updateImmediateChild(u,c)}),r;if(n){const u=us(t.visibleWrites,e);return n.forEachChild(ut,(c,f)=>{const p=ha(us(u,new qe(c)),f);r=r.updateImmediateChild(c,p)}),Ub(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const u=us(t.visibleWrites,e);return Ub(u).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Vk(t,e,n,r,o){ne(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=lt(e,n);if(Tp(t.visibleWrites,u))return null;{const c=us(t.visibleWrites,u);return wp(c)?o.getChild(n):ha(c,o.getChild(n))}}function Bk(t,e,n,r){const o=lt(e,n),u=sr(t.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(n)){const c=us(t.visibleWrites,o);return ha(c,r.getNode().getImmediateChild(n))}else return null}function zk(t,e){return sr(t.visibleWrites,e)}function Hk(t,e,n,r,o,u,c){let f;const p=us(t.visibleWrites,e),h=sr(p,Ue());if(h!=null)f=h;else if(n!=null)f=ha(p,n);else return[];if(f=f.withIndex(c),!f.isEmpty()&&!f.isLeafNode()){const g=[],y=c.getCompare(),v=u?f.getReverseIteratorFrom(r,c):f.getIteratorFrom(r,c);let _=v.getNext();for(;_&&g.length<o;)y(_,r)!==0&&g.push(_),_=v.getNext();return g}else return[]}function Fk(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}function Dc(t,e,n,r){return sw(t.writeTree,t.treePath,e,n,r)}function Um(t,e){return jk(t.writeTree,t.treePath,e)}function jb(t,e,n,r){return Vk(t.writeTree,t.treePath,e,n,r)}function Oc(t,e){return zk(t.writeTree,lt(t.treePath,e))}function Gk(t,e,n,r,o,u){return Hk(t.writeTree,t.treePath,e,n,r,o,u)}function jm(t,e,n){return Bk(t.writeTree,t.treePath,e,n)}function rw(t,e){return aw(lt(t.treePath,e),t.writeTree)}function aw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,al(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,rl(r,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,ca(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,al(r,e.snapshotNode,o.oldSnap));else throw ba("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ow=new Yk;class Vm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nr(this.viewCache_),u=Gk(this.writes_,o,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){return{filter:t}}function Wk(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function $k(t,e,n,r,o){const u=new qk;let c,f;if(n.type===On.OVERWRITE){const h=n;h.source.fromUser?c=xp(t,e,h.path,h.snap,r,o,u):(ne(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered()&&!Oe(h.path),c=Mc(t,e,h.path,h.snap,r,o,f,u))}else if(n.type===On.MERGE){const h=n;h.source.fromUser?c=Qk(t,e,h.path,h.children,r,o,u):(ne(h.source.fromServer,"Unknown source."),f=h.source.tagged||e.serverCache.isFiltered(),c=Cp(t,e,h.path,h.children,r,o,f,u))}else if(n.type===On.ACK_USER_WRITE){const h=n;h.revert?c=e2(t,e,h.path,r,o,u):c=Zk(t,e,h.path,h.affectedTree,r,o,u)}else if(n.type===On.LISTEN_COMPLETE)c=Jk(t,e,n.path,r,u);else throw ba("Unknown operation type: "+n.type);const p=u.getChanges();return Xk(e,c,p),{viewCache:c,changes:p}}function Xk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Sp(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(JT(Sp(e)))}}function lw(t,e,n,r,o,u){const c=e.eventCache;if(Oc(r,n)!=null)return e;{let f,p;if(Oe(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=nr(e),g=h instanceof ge?h:ge.EMPTY_NODE,y=Um(r,g);f=t.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const h=Dc(r,nr(e));f=t.filter.updateFullNode(e.eventCache.getNode(),h,u)}else{const h=xe(n);if(h===".priority"){ne(cs(n)===1,"Can't have a priority with additional path components");const g=c.getNode();p=e.serverCache.getNode();const y=jb(r,n,g,p);y!=null?f=t.filter.updatePriority(g,y):f=c.getNode()}else{const g=Xe(n);let y;if(c.isCompleteForChild(h)){p=e.serverCache.getNode();const v=jb(r,n,c.getNode(),p);v!=null?y=c.getNode().getImmediateChild(h).updateChild(g,v):y=c.getNode().getImmediateChild(h)}else y=jm(r,h,e.serverCache);y!=null?f=t.filter.updateChild(c.getNode(),h,y,g,o,u):f=c.getNode()}}return Go(e,f,c.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function Mc(t,e,n,r,o,u,c,f){const p=e.serverCache;let h;const g=c?t.filter:t.filter.getIndexedFilter();if(Oe(n))h=g.updateFullNode(p.getNode(),r,null);else if(g.filtersNodes()&&!p.isFiltered()){const _=p.getNode().updateChild(n,r);h=g.updateFullNode(p.getNode(),_,null)}else{const _=xe(n);if(!p.isCompleteForPath(n)&&cs(n)>1)return e;const S=Xe(n),C=p.getNode().getImmediateChild(_).updateChild(S,r);_===".priority"?h=g.updatePriority(p.getNode(),C):h=g.updateChild(p.getNode(),_,C,S,ow,null)}const y=tw(e,h,p.isFullyInitialized()||Oe(n),g.filtersNodes()),v=new Vm(o,y,u);return lw(t,y,n,o,v,f)}function xp(t,e,n,r,o,u,c){const f=e.eventCache;let p,h;const g=new Vm(o,e,u);if(Oe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,c),p=Go(e,h,!0,t.filter.filtersNodes());else{const y=xe(n);if(y===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),p=Go(e,h,f.isFullyInitialized(),f.isFiltered());else{const v=Xe(n),_=f.getNode().getImmediateChild(y);let S;if(Oe(v))S=r;else{const w=g.getCompleteChild(y);w!=null?Am(v)===".priority"&&w.getChild(YT(v)).isEmpty()?S=w:S=w.updateChild(v,r):S=ge.EMPTY_NODE}if(_.equals(S))p=e;else{const w=t.filter.updateChild(f.getNode(),y,S,v,g,c);p=Go(e,w,f.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function Vb(t,e){return t.eventCache.isCompleteForChild(e)}function Qk(t,e,n,r,o,u,c){let f=e;return r.foreach((p,h)=>{const g=lt(n,p);Vb(e,xe(g))&&(f=xp(t,f,g,h,o,u,c))}),r.foreach((p,h)=>{const g=lt(n,p);Vb(e,xe(g))||(f=xp(t,f,g,h,o,u,c))}),f}function Bb(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Cp(t,e,n,r,o,u,c,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,h;Oe(n)?h=r:h=new $e(null).setTree(n,r);const g=e.serverCache.getNode();return h.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const _=e.serverCache.getNode().getImmediateChild(y),S=Bb(t,_,v);p=Mc(t,p,new qe(y),S,o,u,c,f)}}),h.children.inorderTraversal((y,v)=>{const _=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!_){const S=e.serverCache.getNode().getImmediateChild(y),w=Bb(t,S,v);p=Mc(t,p,new qe(y),w,o,u,c,f)}}),p}function Zk(t,e,n,r,o,u,c){if(Oc(o,n)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(Oe(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return Mc(t,e,n,p.getNode().getChild(n),o,u,f,c);if(Oe(n)){let h=new $e(null);return p.getNode().forEachChild(ra,(g,y)=>{h=h.set(new qe(g),y)}),Cp(t,e,n,h,o,u,f,c)}else return e}else{let h=new $e(null);return r.foreach((g,y)=>{const v=lt(n,g);p.isCompleteForPath(v)&&(h=h.set(g,p.getNode().getChild(v)))}),Cp(t,e,n,h,o,u,f,c)}}function Jk(t,e,n,r,o){const u=e.serverCache,c=tw(e,u.getNode(),u.isFullyInitialized()||Oe(n),u.isFiltered());return lw(t,c,n,r,ow,o)}function e2(t,e,n,r,o,u){let c;if(Oc(r,n)!=null)return e;{const f=new Vm(r,e,o),p=e.eventCache.getNode();let h;if(Oe(n)||xe(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Dc(r,nr(e));else{const y=e.serverCache.getNode();ne(y instanceof ge,"serverChildren would be complete if leaf node"),g=Um(r,y)}g=g,h=t.filter.updateFullNode(p,g,u)}else{const g=xe(n);let y=jm(r,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=p.getImmediateChild(g)),y!=null?h=t.filter.updateChild(p,g,y,Xe(n),f,u):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(p,g,ge.EMPTY_NODE,Xe(n),f,u):h=p,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Dc(r,nr(e)),c.isLeafNode()&&(h=t.filter.updateFullNode(h,c,u)))}return c=e.serverCache.isFullyInitialized()||Oc(r,Ue())!=null,Go(e,h,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Om(r.getIndex()),u=_k(r);this.processor_=Kk(u);const c=n.serverCache,f=n.eventCache,p=o.updateFullNode(ge.EMPTY_NODE,c.getNode(),null),h=u.updateFullNode(ge.EMPTY_NODE,f.getNode(),null),g=new tr(p,c.isFullyInitialized(),o.filtersNodes()),y=new tr(h,f.isFullyInitialized(),u.filtersNodes());this.viewCache_=Qc(y,g),this.eventGenerator_=new Ck(this.query_)}get query(){return this.query_}}function n2(t){return t.viewCache_.serverCache.getNode()}function i2(t,e){const n=nr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function zb(t){return t.eventRegistrations_.length===0}function s2(t,e){t.eventRegistrations_.push(e)}function Hb(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,o);c&&r.push(c)})}if(e){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const c=t.eventRegistrations_[u];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Fb(t,e,n,r){e.type===On.MERGE&&e.source.queryId!==null&&(ne(nr(t.viewCache_),"We should always have a full cache before handling merges"),ne(Sp(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=$k(t.processor_,o,e,n,r);return Wk(t.processor_,u.viewCache),ne(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,uw(t,u.changes,u.viewCache.eventCache.getNode(),null)}function r2(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(u,c)=>{r.push(ca(u,c))}),n.isFullyInitialized()&&r.push(JT(n.getNode())),uw(t,r,n.getNode(),e)}function uw(t,e,n,r){const o=r?[r]:t.eventRegistrations_;return Ak(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;class a2{constructor(){this.views=new Map}}function o2(t){ne(!Ic,"__referenceConstructor has already been defined"),Ic=t}function l2(){return ne(Ic,"Reference.ts has not been loaded"),Ic}function u2(t){return t.views.size===0}function Bm(t,e,n,r){const o=e.source.queryId;if(o!==null){const u=t.views.get(o);return ne(u!=null,"SyncTree gave us an op for an invalid query."),Fb(u,e,n,r)}else{let u=[];for(const c of t.views.values())u=u.concat(Fb(c,e,n,r));return u}}function c2(t,e,n,r,o){const u=e._queryIdentifier,c=t.views.get(u);if(!c){let f=Dc(n,o?r:null),p=!1;f?p=!0:r instanceof ge?(f=Um(n,r),p=!1):(f=ge.EMPTY_NODE,p=!1);const h=Qc(new tr(f,p,!1),new tr(r,o,!1));return new t2(e,h)}return c}function f2(t,e,n,r,o,u){const c=c2(t,e,r,o,u);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),s2(c,n),r2(c,n)}function h2(t,e,n,r){const o=e._queryIdentifier,u=[];let c=[];const f=fs(t);if(o==="default")for(const[p,h]of t.views.entries())c=c.concat(Hb(h,n,r)),zb(h)&&(t.views.delete(p),h.query._queryParams.loadsAllData()||u.push(h.query));else{const p=t.views.get(o);p&&(c=c.concat(Hb(p,n,r)),zb(p)&&(t.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return f&&!fs(t)&&u.push(new(l2())(e._repo,e._path)),{removed:u,events:c}}function cw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function aa(t,e){let n=null;for(const r of t.views.values())n=n||i2(r,e);return n}function fw(t,e){if(e._queryParams.loadsAllData())return Zc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function hw(t,e){return fw(t,e)!=null}function fs(t){return Zc(t)!=null}function Zc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;function d2(t){ne(!kc,"__referenceConstructor has already been defined"),kc=t}function p2(){return ne(kc,"Reference.ts has not been loaded"),kc}let m2=1;class Gb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=Fk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dw(t,e,n,r,o){return Ok(t.pendingWriteTree_,e,n,r,o),o?xa(t,new er(Im(),e,n)):[]}function g2(t,e,n,r){Mk(t.pendingWriteTree_,e,n,r);const o=$e.fromObject(n);return xa(t,new fa(Im(),e,o))}function rs(t,e,n=!1){const r=Ik(t.pendingWriteTree_,e);if(kk(t.pendingWriteTree_,e)){let u=new $e(null);return r.snap!=null?u=u.set(Ue(),!0):Ot(r.children,c=>{u=u.set(new qe(c),!0)}),xa(t,new Nc(r.path,u,n))}else return[]}function Jc(t,e,n){return xa(t,new er(km(),e,n))}function y2(t,e,n){const r=$e.fromObject(n);return xa(t,new fa(km(),e,r))}function v2(t,e){return xa(t,new ll(km(),e))}function _2(t,e,n){const r=Hm(t,n);if(r){const o=Fm(r),u=o.path,c=o.queryId,f=Wt(u,e),p=new ll(Pm(c),f);return Gm(t,u,p)}else return[]}function Ap(t,e,n,r,o=!1){const u=e._path,c=t.syncPointTree_.get(u);let f=[];if(c&&(e._queryIdentifier==="default"||hw(c,e))){const p=h2(c,e,n,r);u2(c)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const h=p.removed;if(f=p.events,!o){const g=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(u,(v,_)=>fs(_));if(g&&!y){const v=t.syncPointTree_.subtree(u);if(!v.isEmpty()){const _=E2(v);for(let S=0;S<_.length;++S){const w=_[S],C=w.query,A=gw(t,w);t.listenProvider_.startListening(Yo(C),Pc(t,C),A.hashFn,A.onComplete)}}}!y&&h.length>0&&!r&&(g?t.listenProvider_.stopListening(Yo(e),null):h.forEach(v=>{const _=t.queryToTagMap.get(ef(v));t.listenProvider_.stopListening(Yo(v),_)}))}T2(t,h)}return f}function b2(t,e,n,r){const o=Hm(t,r);if(o!=null){const u=Fm(o),c=u.path,f=u.queryId,p=Wt(c,e),h=new er(Pm(f),p,n);return Gm(t,c,h)}else return[]}function S2(t,e,n,r){const o=Hm(t,r);if(o){const u=Fm(o),c=u.path,f=u.queryId,p=Wt(c,e),h=$e.fromObject(n),g=new fa(Pm(f),p,h);return Gm(t,c,g)}else return[]}function qb(t,e,n,r=!1){const o=e._path;let u=null,c=!1;t.syncPointTree_.foreachOnPath(o,(v,_)=>{const S=Wt(v,o);u=u||aa(_,S),c=c||fs(_)});let f=t.syncPointTree_.get(o);f?(c=c||fs(f),u=u||aa(f,Ue())):(f=new a2,t.syncPointTree_=t.syncPointTree_.set(o,f));let p;u!=null?p=!0:(p=!1,u=ge.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((_,S)=>{const w=aa(S,Ue());w&&(u=u.updateImmediateChild(_,w))}));const h=hw(f,e);if(!h&&!e._queryParams.loadsAllData()){const v=ef(e);ne(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const _=w2();t.queryToTagMap.set(v,_),t.tagToQueryMap.set(_,v)}const g=Lm(t.pendingWriteTree_,o);let y=f2(f,e,n,g,u,p);if(!h&&!c&&!r){const v=fw(f,e);y=y.concat(x2(t,e,v))}return y}function zm(t,e,n){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(e,(c,f)=>{const p=Wt(c,e),h=aa(f,p);if(h)return h});return sw(o,e,u,n,!0)}function xa(t,e){return pw(e,t.syncPointTree_,null,Lm(t.pendingWriteTree_,Ue()))}function pw(t,e,n,r){if(Oe(t.path))return mw(t,e,n,r);{const o=e.get(Ue());n==null&&o!=null&&(n=aa(o,Ue()));let u=[];const c=xe(t.path),f=t.operationForChild(c),p=e.children.get(c);if(p&&f){const h=n?n.getImmediateChild(c):null,g=rw(r,c);u=u.concat(pw(f,p,h,g))}return o&&(u=u.concat(Bm(o,t,r,n))),u}}function mw(t,e,n,r){const o=e.get(Ue());n==null&&o!=null&&(n=aa(o,Ue()));let u=[];return e.children.inorderTraversal((c,f)=>{const p=n?n.getImmediateChild(c):null,h=rw(r,c),g=t.operationForChild(c);g&&(u=u.concat(mw(g,f,p,h)))}),o&&(u=u.concat(Bm(o,t,r,n))),u}function gw(t,e){const n=e.query,r=Pc(t,n);return{hashFn:()=>(n2(e)||ge.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?_2(t,n._path,r):v2(t,n._path);{const u=yI(o,n);return Ap(t,n,null,u)}}}}function Pc(t,e){const n=ef(e);return t.queryToTagMap.get(n)}function ef(t){return t._path.toString()+"$"+t._queryIdentifier}function Hm(t,e){return t.tagToQueryMap.get(e)}function Fm(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qe(t.substr(0,e))}}function Gm(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const o=Lm(t.pendingWriteTree_,e);return Bm(r,n,o,null)}function E2(t){return t.fold((e,n,r)=>{if(n&&fs(n))return[Zc(n)];{let o=[];return n&&(o=cw(n)),Ot(r,(u,c)=>{o=o.concat(c)}),o}})}function Yo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(p2())(t._repo,t._path):t}function T2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=ef(r),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}function w2(){return m2++}function x2(t,e,n){const r=e._path,o=Pc(t,e),u=gw(t,n),c=t.listenProvider_.startListening(Yo(e),o,u.hashFn,u.onComplete),f=t.syncPointTree_.subtree(r);if(o)ne(!fs(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((h,g,y)=>{if(!Oe(h)&&g&&fs(g))return[Zc(g).query];{let v=[];return g&&(v=v.concat(cw(g).map(_=>_.query))),Ot(y,(_,S)=>{v=v.concat(S)}),v}});for(let h=0;h<p.length;++h){const g=p[h];t.listenProvider_.stopListening(Yo(g),Pc(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new qm(n)}node(){return this.node_}}class Ym{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=lt(this.path_,e);return new Ym(this.syncTree_,n)}node(){return zm(this.syncTree_,this.path_)}}const C2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Yb=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return A2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return R2(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},A2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},R2=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const o=e.node();if(ne(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const c=o.getValue();return typeof c!="number"?r:c+r},yw=function(t,e,n,r){return Km(e,new Ym(n,t),r)},vw=function(t,e,n){return Km(t,new qm(e),n)};function Km(t,e,n){const r=t.getPriority().val(),o=Yb(r,e.getImmediateChild(".priority"),n);let u;if(t.isLeafNode()){const c=t,f=Yb(c.getValue(),e,n);return f!==c.getValue()||o!==c.getPriority().val()?new Et(f,wt(o)):t}else{const c=t;return u=c,o!==c.getPriority().val()&&(u=u.updatePriority(new Et(o))),c.forEachChild(ut,(f,p)=>{const h=Km(p,e.getImmediateChild(f),n);h!==p&&(u=u.updateImmediateChild(f,h))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function $m(t,e){let n=e instanceof qe?e:new qe(e),r=t,o=xe(n);for(;o!==null;){const u=oa(r.node.children,o)||{children:{},childCount:0};r=new Wm(o,r,u),n=Xe(n),o=xe(n)}return r}function Ca(t){return t.node.value}function _w(t,e){t.node.value=e,Rp(t)}function bw(t){return t.node.childCount>0}function N2(t){return Ca(t)===void 0&&!bw(t)}function tf(t,e){Ot(t.node.children,(n,r)=>{e(new Wm(n,t,r))})}function Sw(t,e,n,r){n&&e(t),tf(t,o=>{Sw(o,e,!0)})}function D2(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Dl(t){return new qe(t.parent===null?t.name:Dl(t.parent)+"/"+t.name)}function Rp(t){t.parent!==null&&O2(t.parent,t.name,t)}function O2(t,e,n){const r=N2(n),o=Wn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Rp(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Rp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/[\[\].#$\/\u0000-\u001F\u007F]/,I2=/[\[\].#$\u0000-\u001F\u007F]/,Gd=10*1024*1024,Xm=function(t){return typeof t=="string"&&t.length!==0&&!M2.test(t)},Ew=function(t){return typeof t=="string"&&t.length!==0&&!I2.test(t)},k2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ew(t)},P2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Em(t)||t&&typeof t=="object"&&Wn(t,".sv")},Tw=function(t,e,n,r){r&&e===void 0||nf(qc(t,"value"),e,n)},nf=function(t,e,n){const r=n instanceof qe?new QI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bs(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bs(r)+" with contents = "+e.toString());if(Em(e))throw new Error(t+"contains "+e.toString()+" "+Bs(r));if(typeof e=="string"&&e.length>Gd/3&&Yc(e)>Gd)throw new Error(t+"contains a string greater than "+Gd+" utf8 bytes "+Bs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Ot(e,(c,f)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!Xm(c)))throw new Error(t+" contains an invalid key ("+c+") "+Bs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZI(r,c),nf(t,f,r),JI(r)}),o&&u)throw new Error(t+' contains ".value" child '+Bs(r)+" in addition to actual children.")}},L2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const u=sl(r);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!Xm(u[c]))throw new Error(t+"contains an invalid key ("+u[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XI);let o=null;for(n=0;n<e.length;n++){if(r=e[n],o!==null&&Sn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},U2=function(t,e,n,r){const o=qc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const u=[];Ot(e,(c,f)=>{const p=new qe(c);if(nf(o,f,lt(n,p)),Am(p)===".priority"&&!P2(f))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),L2(o,u)},ww=function(t,e,n,r){if(!Ew(n))throw new Error(qc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},j2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ww(t,e,n)},xw=function(t,e){if(xe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},V2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!k2(n))throw new Error(qc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sf(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();n!==null&&!Rm(u,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&t.eventLists_.push(n)}function Cw(t,e,n){sf(t,n),Aw(t,r=>Rm(r,e))}function Pn(t,e,n){sf(t,n),Aw(t,r=>Sn(r,e)||Sn(e,r))}function Aw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const u=o.path;e(u)?(z2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function z2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ho&&Dt("event: "+n.toString()),wa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="repo_interrupt",F2=25;class G2{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new B2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rc(),this.transactionQueueTree_=new Wm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function q2(t,e,n){if(t.stats_=xm(t.repoInfo_),t.forceRestClient_||SI())t.server_=new Ac(t.repoInfo_,(r,o,u,c)=>{Kb(t,r,o,u,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Wb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new vi(t.repoInfo_,e,(r,o,u,c)=>{Kb(t,r,o,u,c)},r=>{Wb(t,r)},r=>{Y2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=CI(t.repoInfo_,()=>new xk(t.stats_,t.server_)),t.infoData_=new bk,t.infoSyncTree_=new Gb({startListening:(r,o,u,c)=>{let f=[];const p=t.infoData_.getNode(r._path);return p.isEmpty()||(f=Jc(t.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),f},stopListening:()=>{}}),Qm(t,"connected",!1),t.serverSyncTree_=new Gb({startListening:(r,o,u,c)=>(t.server_.listen(r,u,o,(f,p)=>{const h=c(f,p);Pn(t.eventQueue_,r._path,h)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function Rw(t){const n=t.infoData_.getNode(new qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rf(t){return C2({timestamp:Rw(t)})}function Kb(t,e,n,r,o){t.dataUpdateCount++;const u=new qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(o)if(r){const p=gc(n,h=>wt(h));c=S2(t.serverSyncTree_,u,p,o)}else{const p=wt(n);c=b2(t.serverSyncTree_,u,p,o)}else if(r){const p=gc(n,h=>wt(h));c=y2(t.serverSyncTree_,u,p)}else{const p=wt(n);c=Jc(t.serverSyncTree_,u,p)}let f=u;c.length>0&&(f=da(t,u)),Pn(t.eventQueue_,f,c)}function Wb(t,e){Qm(t,"connected",e),e===!1&&$2(t)}function Y2(t,e){Ot(e,(n,r)=>{Qm(t,n,r)})}function Qm(t,e,n){const r=new qe("/.info/"+e),o=wt(n);t.infoData_.updateSnapshot(r,o);const u=Jc(t.infoSyncTree_,r,o);Pn(t.eventQueue_,r,u)}function Zm(t){return t.nextWriteId_++}function K2(t,e,n,r,o){af(t,"set",{path:e.toString(),value:n,priority:r});const u=rf(t),c=wt(n,r),f=zm(t.serverSyncTree_,e),p=vw(c,f,u),h=Zm(t),g=dw(t.serverSyncTree_,e,p,h,!0);sf(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,_)=>{const S=v==="ok";S||Vt("set at "+e+" failed: "+v);const w=rs(t.serverSyncTree_,h,!S);Pn(t.eventQueue_,e,w),Np(t,o,v,_)});const y=eg(t,e);da(t,y),Pn(t.eventQueue_,y,[])}function W2(t,e,n,r){af(t,"update",{path:e.toString(),value:n});let o=!0;const u=rf(t),c={};if(Ot(n,(f,p)=>{o=!1,c[f]=yw(lt(e,f),wt(p),t.serverSyncTree_,u)}),o)Dt("update() called with empty data.  Don't do anything."),Np(t,r,"ok",void 0);else{const f=Zm(t),p=g2(t.serverSyncTree_,e,c,f);sf(t.eventQueue_,p),t.server_.merge(e.toString(),n,(h,g)=>{const y=h==="ok";y||Vt("update at "+e+" failed: "+h);const v=rs(t.serverSyncTree_,f,!y),_=v.length>0?da(t,e):e;Pn(t.eventQueue_,_,v),Np(t,r,h,g)}),Ot(n,h=>{const g=eg(t,lt(e,h));da(t,g)}),Pn(t.eventQueue_,e,[])}}function $2(t){af(t,"onDisconnectEvents");const e=rf(t),n=Rc();bp(t.onDisconnect_,Ue(),(o,u)=>{const c=yw(o,u,t.serverSyncTree_,e);ew(n,o,c)});let r=[];bp(n,Ue(),(o,u)=>{r=r.concat(Jc(t.serverSyncTree_,o,u));const c=eg(t,o);da(t,c)}),t.onDisconnect_=Rc(),Pn(t.eventQueue_,Ue(),r)}function X2(t,e,n){let r;xe(e._path)===".info"?r=qb(t.infoSyncTree_,e,n):r=qb(t.serverSyncTree_,e,n),Cw(t.eventQueue_,e._path,r)}function $b(t,e,n){let r;xe(e._path)===".info"?r=Ap(t.infoSyncTree_,e,n):r=Ap(t.serverSyncTree_,e,n),Cw(t.eventQueue_,e._path,r)}function Q2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(H2)}function af(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Dt(n,...e)}function Np(t,e,n,r){e&&wa(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;r&&(u+=": "+r);const c=new Error(u);c.code=o,e(c)}})}function Nw(t,e,n){return zm(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function Jm(t,e=t.transactionQueueTree_){if(e||of(t,e),Ca(e)){const n=Ow(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&Z2(t,Dl(e),n)}else bw(e)&&tf(e,n=>{Jm(t,n)})}function Z2(t,e,n){const r=n.map(h=>h.currentWriteId),o=Nw(t,e,r);let u=o;const c=o.hash();for(let h=0;h<n.length;h++){const g=n[h];ne(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Wt(e,g.path);u=u.updateChild(y,g.currentOutputSnapshotRaw)}const f=u.val(!0),p=e;t.server_.put(p.toString(),f,h=>{af(t,"transaction put response",{path:p.toString(),status:h});let g=[];if(h==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(rs(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();of(t,$m(t.transactionQueueTree_,e)),Jm(t,t.transactionQueueTree_),Pn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)wa(y[v])}else{if(h==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Vt("transaction at "+p.toString()+" failed: "+h);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=h}da(t,e)}},c)}function da(t,e){const n=Dw(t,e),r=Dl(n),o=Ow(t,n);return J2(t,o,r),r}function J2(t,e,n){if(e.length===0)return;const r=[];let o=[];const c=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],h=Wt(n,p.path);let g=!1,y;if(ne(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)g=!0,y=p.abortReason,o=o.concat(rs(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=F2)g=!0,y="maxretry",o=o.concat(rs(t.serverSyncTree_,p.currentWriteId,!0));else{const v=Nw(t,p.path,c);p.currentInputSnapshot=v;const _=e[f].update(v.val());if(_!==void 0){nf("transaction failed: Data returned ",_,p.path);let S=wt(_);typeof _=="object"&&_!=null&&Wn(_,".priority")||(S=S.updatePriority(v.getPriority()));const C=p.currentWriteId,A=rf(t),I=vw(S,v,A);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=I,p.currentWriteId=Zm(t),c.splice(c.indexOf(C),1),o=o.concat(dw(t.serverSyncTree_,p.path,I,p.currentWriteId,p.applyLocally)),o=o.concat(rs(t.serverSyncTree_,C,!0))}else g=!0,y="nodata",o=o.concat(rs(t.serverSyncTree_,p.currentWriteId,!0))}Pn(t.eventQueue_,n,o),o=[],g&&(e[f].status=2,function(v){setTimeout(v,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?r.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):r.push(()=>e[f].onComplete(new Error(y),!1,null))))}of(t,t.transactionQueueTree_);for(let f=0;f<r.length;f++)wa(r[f]);Jm(t,t.transactionQueueTree_)}function Dw(t,e){let n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&Ca(r)===void 0;)r=$m(r,n),e=Xe(e),n=xe(e);return r}function Ow(t,e){const n=[];return Mw(t,e,n),n.sort((r,o)=>r.order-o.order),n}function Mw(t,e,n){const r=Ca(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);tf(e,o=>{Mw(t,o,n)})}function of(t,e){const n=Ca(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,_w(e,n.length>0?n:void 0)}tf(e,r=>{of(t,r)})}function eg(t,e){const n=Dl(Dw(t,e)),r=$m(t.transactionQueueTree_,e);return D2(r,o=>{qd(t,o)}),qd(t,r),Sw(r,o=>{qd(t,o)}),n}function qd(t,e){const n=Ca(e);if(n){const r=[];let o=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ne(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(ne(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),o=o.concat(rs(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&r.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?_w(e,void 0):n.length=u+1,Pn(t.eventQueue_,Dl(e),o);for(let c=0;c<r.length;c++)wa(r[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function tP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Xb=function(t,e){const n=nP(t),r=n.namespace;n.domain==="firebase.com"&&Ei(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new UT(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new qe(n.pathString)}},nP=function(t){let e="",n="",r="",o="",u="",c=!0,f="https",p=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(f=t.substring(0,h-1),t=t.substring(h+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=eP(t.substring(g,y)));const v=tP(t.substring(Math.min(t.length,y)));h=e.indexOf(":"),h>=0?(c=f==="https"||f==="wss",p=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),u=r}"ns"in v&&(u=v.ns)}return{host:e,port:p,domain:n,subdomain:r,secure:c,scheme:f,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iP=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Qb.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let c=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=Qb.charAt(e[o]);return ne(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xt(this.snapshot.exportVal())}}class rP{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return Oe(this._path)?null:Am(this._path)}get ref(){return new vs(this._repo,this._path)}get _queryIdentifier(){const e=kb(this._queryParams),n=Tm(e);return n==="{}"?"default":n}get _queryObject(){return kb(this._queryParams)}isEqual(e){if(e=Qt(e),!(e instanceof tg))return!1;const n=this._repo===e._repo,r=Rm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+$I(this._path)}}class vs extends tg{constructor(e,n){super(e,n,new Mm,!1)}get parent(){const e=YT(this._path);return e===null?null:new vs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Lc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new qe(e),r=ul(this.ref,e);return new Lc(this._node.getChild(n),r,ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Lc(o,ul(this.ref,r),ut)))}hasChild(e){const n=new qe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qe(t,e){return t=Qt(t),t._checkNotDeleted("ref"),e!==void 0?ul(t._root,e):t._root}function ul(t,e){return t=Qt(t),xe(t._path)===null?j2("child","path",e):ww("child","path",e),new vs(t._repo,lt(t._path,e))}function Qu(t,e){t=Qt(t),xw("push",t._path),Tw("push",e,t._path,!0);const n=Rw(t._repo),r=iP(n),o=ul(t,r),u=ul(t,r);let c;return c=Promise.resolve(u),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function es(t,e){t=Qt(t),xw("set",t._path),Tw("set",e,t._path,!1);const n=new Sl;return K2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function oP(t,e){U2("update",e,t._path);const n=new Sl;return W2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class ng{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new sP("value",this,new Lc(e.snapshotNode,new vs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rP(this,e,n):null}matches(e){return e instanceof ng?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function lP(t,e,n,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const p=n,h=(g,y)=>{$b(t._repo,t,f),p(g,y)};h.userCallback=n.userCallback,h.context=n.context,n=h}const c=new aP(n,u||void 0),f=new ng(c);return X2(t._repo,t,f),()=>$b(t._repo,t,f)}function Hs(t,e,n,r){return lP(t,"value",e,n,r)}o2(vs);d2(vs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="FIREBASE_DATABASE_EMULATOR_HOST",Dp={};let cP=!1;function fP(t,e,n,r){t.repoInfo_=new UT(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function hP(t,e,n,r,o){let u=r||t.options.databaseURL;u===void 0&&(t.options.projectId||Ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dt("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=Xb(u,o),f=c.repoInfo,p;typeof process<"u"&&gb&&(p=gb[uP]),p?(u=`http://${p}?ns=${f.namespace}`,c=Xb(u,o),f=c.repoInfo):c.repoInfo.secure;const h=new TI(t.name,t.options,e);V2("Invalid Firebase Database URL",c),Oe(c.path)||Ei("Database URL must point to the root of a Firebase Database (not including a child path).");const g=pP(f,t,h,new EI(t,n));return new mP(g,t)}function dP(t,e){const n=Dp[e];(!n||n[t.key]!==t)&&Ei(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Q2(t),delete n[t.key]}function pP(t,e,n,r){let o=Dp[e.name];o||(o={},Dp[e.name]=o);let u=o[t.toURLString()];return u&&Ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new G2(t,cP,n,r),o[t.toURLString()]=u,u}class mP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(q2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vs(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ei("Cannot call "+e+" on a deleted database.")}}function an(t=zE(),e){const n=cm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yN("database");r&&gP(n,...r)}return n}function gP(t,e,n,r={}){t=Qt(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&$s(r,u.repoInfo_.emulatorOptions))return;Ei("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new lc(lc.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:vN(r.mockUserToken,t.app.options.projectId);c=new lc(f)}fP(u,o,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){aI(Ea),la(new Xs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return hP(r,o,u,n)},"PUBLIC").setMultipleInstances(!0)),ls(yb,vb,t),ls(yb,vb,"esm2017")}vi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};vi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};yP();var vP={apiKey:"AIzaSyBGZDKKuWAkUaxV1rB-fkH1tYjj_kLcQSM",authDomain:"personal-webpage-4fee5.firebaseapp.com",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com",projectId:"personal-webpage-4fee5",storageBucket:"personal-webpage-4fee5.firebasestorage.app",messagingSenderId:"436484530906",appId:"1:436484530906:web:b29b6e67621aa2009cfbe3",measurementId:"G-3QP9ZY1ZF7",databaseURL:"https://personal-webpage-4fee5-default-rtdb.firebaseio.com"};const Iw=BE(vP),Ks=nI(Iw);an(Iw);var uc={exports:{}},_P=uc.exports,Zb;function bP(){return Zb||(Zb=1,function(t,e){(function(n,r){t.exports=r(Hc())})(typeof self<"u"?self:_P,n=>(()=>{var r={2:(f,p,h)=>{var g=h(2199),y=h(4664),v=h(5950);f.exports=function(_){return g(_,v,y)}},79:(f,p,h)=>{var g=h(3702),y=h(80),v=h(4739),_=h(8655),S=h(1175);function w(C){var A=-1,I=C==null?0:C.length;for(this.clear();++A<I;){var D=C[A];this.set(D[0],D[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},80:(f,p,h)=>{var g=h(6025),y=Array.prototype.splice;f.exports=function(v){var _=this.__data__,S=g(_,v);return!(S<0||(S==_.length-1?_.pop():y.call(_,S,1),--this.size,0))}},270:(f,p,h)=>{var g=h(7068),y=h(346);f.exports=function v(_,S,w,C,A){return _===S||(_==null||S==null||!y(_)&&!y(S)?_!=_&&S!=S:g(_,S,w,C,v,A))}},289:(f,p,h)=>{var g=h(2651);f.exports=function(y){return g(this,y).get(y)}},294:f=>{f.exports=function(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=9007199254740991}},317:f=>{f.exports=function(p){var h=-1,g=Array(p.size);return p.forEach(function(y,v){g[++h]=[v,y]}),g}},346:f=>{f.exports=function(p){return p!=null&&typeof p=="object"}},361:f=>{var p=/^(?:0|[1-9]\d*)$/;f.exports=function(h,g){var y=typeof h;return!!(g=g??9007199254740991)&&(y=="number"||y!="symbol"&&p.test(h))&&h>-1&&h%1==0&&h<g}},392:f=>{f.exports=function(p,h){return p==null?void 0:p[h]}},659:(f,p,h)=>{var g=h(1873),y=Object.prototype,v=y.hasOwnProperty,_=y.toString,S=g?g.toStringTag:void 0;f.exports=function(w){var C=v.call(w,S),A=w[S];try{w[S]=void 0;var I=!0}catch{}var D=_.call(w);return I&&(C?w[S]=A:delete w[S]),D}},689:(f,p,h)=>{var g=h(2),y=Object.prototype.hasOwnProperty;f.exports=function(v,_,S,w,C,A){var I=1&S,D=g(v),q=D.length;if(q!=g(_).length&&!I)return!1;for(var M=q;M--;){var z=D[M];if(!(I?z in _:y.call(_,z)))return!1}var K=A.get(v),F=A.get(_);if(K&&F)return K==_&&F==v;var J=!0;A.set(v,_),A.set(_,v);for(var ie=I;++M<q;){var se=v[z=D[M]],le=_[z];if(w)var Ae=I?w(le,se,z,_,v,A):w(se,le,z,v,_,A);if(!(Ae===void 0?se===le||C(se,le,S,w,A):Ae)){J=!1;break}ie||(ie=z=="constructor")}if(J&&!ie){var Se=v.constructor,ye=_.constructor;Se==ye||!("constructor"in v)||!("constructor"in _)||typeof Se=="function"&&Se instanceof Se&&typeof ye=="function"&&ye instanceof ye||(J=!1)}return A.delete(v),A.delete(_),J}},695:(f,p,h)=>{var g=h(8096),y=h(2428),v=h(6449),_=h(3656),S=h(361),w=h(7167),C=Object.prototype.hasOwnProperty;f.exports=function(A,I){var D=v(A),q=!D&&y(A),M=!D&&!q&&_(A),z=!D&&!q&&!M&&w(A),K=D||q||M||z,F=K?g(A.length,String):[],J=F.length;for(var ie in A)!I&&!C.call(A,ie)||K&&(ie=="length"||M&&(ie=="offset"||ie=="parent")||z&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||S(ie,J))||F.push(ie);return F}},938:f=>{f.exports=function(p){var h=this.__data__,g=h.delete(p);return this.size=h.size,g}},945:(f,p,h)=>{var g=h(79),y=h(8223),v=h(3661);f.exports=function(_,S){var w=this.__data__;if(w instanceof g){var C=w.__data__;if(!y||C.length<199)return C.push([_,S]),this.size=++w.size,this;w=this.__data__=new v(C)}return w.set(_,S),this.size=w.size,this}},1042:(f,p,h)=>{var g=h(6110)(Object,"create");f.exports=g},1175:(f,p,h)=>{var g=h(6025);f.exports=function(y,v){var _=this.__data__,S=g(_,y);return S<0?(++this.size,_.push([y,v])):_[S][1]=v,this}},1380:f=>{f.exports=function(p){return this.__data__.set(p,"__lodash_hash_undefined__"),this}},1420:(f,p,h)=>{var g=h(79);f.exports=function(){this.__data__=new g,this.size=0}},1459:f=>{f.exports=function(p){return this.__data__.has(p)}},1549:(f,p,h)=>{var g=h(2032),y=h(3862),v=h(6721),_=h(2749),S=h(5749);function w(C){var A=-1,I=C==null?0:C.length;for(this.clear();++A<I;){var D=C[A];this.set(D[0],D[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},1873:(f,p,h)=>{var g=h(9325).Symbol;f.exports=g},1882:(f,p,h)=>{var g=h(2552),y=h(3805);f.exports=function(v){if(!y(v))return!1;var _=g(v);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},1986:(f,p,h)=>{var g=h(1873),y=h(7828),v=h(5288),_=h(5911),S=h(317),w=h(4247),C=g?g.prototype:void 0,A=C?C.valueOf:void 0;f.exports=function(I,D,q,M,z,K,F){switch(q){case"[object DataView]":if(I.byteLength!=D.byteLength||I.byteOffset!=D.byteOffset)return!1;I=I.buffer,D=D.buffer;case"[object ArrayBuffer]":return!(I.byteLength!=D.byteLength||!K(new y(I),new y(D)));case"[object Boolean]":case"[object Date]":case"[object Number]":return v(+I,+D);case"[object Error]":return I.name==D.name&&I.message==D.message;case"[object RegExp]":case"[object String]":return I==D+"";case"[object Map]":var J=S;case"[object Set]":var ie=1&M;if(J||(J=w),I.size!=D.size&&!ie)return!1;var se=F.get(I);if(se)return se==D;M|=2,F.set(I,D);var le=_(J(I),J(D),M,z,K,F);return F.delete(I),le;case"[object Symbol]":if(A)return A.call(I)==A.call(D)}return!1}},2032:(f,p,h)=>{var g=h(1042);f.exports=function(){this.__data__=g?g(null):{},this.size=0}},2199:(f,p,h)=>{var g=h(4528),y=h(6449);f.exports=function(v,_,S){var w=_(v);return y(v)?w:g(w,S(v))}},2404:(f,p,h)=>{var g=h(270);f.exports=function(y,v){return g(y,v)}},2428:(f,p,h)=>{var g=h(7534),y=h(346),v=Object.prototype,_=v.hasOwnProperty,S=v.propertyIsEnumerable,w=g(function(){return arguments}())?g:function(C){return y(C)&&_.call(C,"callee")&&!S.call(C,"callee")};f.exports=w},2552:(f,p,h)=>{var g=h(1873),y=h(659),v=h(9350),_=g?g.toStringTag:void 0;f.exports=function(S){return S==null?S===void 0?"[object Undefined]":"[object Null]":_&&_ in Object(S)?y(S):v(S)}},2651:(f,p,h)=>{var g=h(4218);f.exports=function(y,v){var _=y.__data__;return g(v)?_[typeof v=="string"?"string":"hash"]:_.map}},2749:(f,p,h)=>{var g=h(1042),y=Object.prototype.hasOwnProperty;f.exports=function(v){var _=this.__data__;return g?_[v]!==void 0:y.call(_,v)}},2804:(f,p,h)=>{var g=h(6110)(h(9325),"Promise");f.exports=g},2949:(f,p,h)=>{var g=h(2651);f.exports=function(y,v){var _=g(this,y),S=_.size;return _.set(y,v),this.size+=_.size==S?0:1,this}},3040:(f,p,h)=>{var g=h(1549),y=h(79),v=h(8223);f.exports=function(){this.size=0,this.__data__={hash:new g,map:new(v||y),string:new g}}},3146:(f,p,h)=>{for(var g=h(3491),y=typeof window>"u"?h.g:window,v=["moz","webkit"],_="AnimationFrame",S=y["request"+_],w=y["cancel"+_]||y["cancelRequest"+_],C=0;!S&&C<v.length;C++)S=y[v[C]+"Request"+_],w=y[v[C]+"Cancel"+_]||y[v[C]+"CancelRequest"+_];if(!S||!w){var A=0,I=0,D=[],q=1e3/60;S=function(M){if(D.length===0){var z=g(),K=Math.max(0,q-(z-A));A=K+z,setTimeout(function(){var F=D.slice(0);D.length=0;for(var J=0;J<F.length;J++)if(!F[J].cancelled)try{F[J].callback(A)}catch(ie){setTimeout(function(){throw ie},0)}},Math.round(K))}return D.push({handle:++I,callback:M,cancelled:!1}),I},w=function(M){for(var z=0;z<D.length;z++)D[z].handle===M&&(D[z].cancelled=!0)}}f.exports=function(M){return S.call(y,M)},f.exports.cancel=function(){w.apply(y,arguments)},f.exports.polyfill=function(M){M||(M=y),M.requestAnimationFrame=S,M.cancelAnimationFrame=w}},3345:f=>{f.exports=function(){return[]}},3491:function(f){(function(){var p,h,g,y,v,_;typeof performance<"u"&&performance!==null&&performance.now?f.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(f.exports=function(){return(p()-v)/1e6},h=process.hrtime,y=(p=function(){var S;return 1e9*(S=h())[0]+S[1]})(),_=1e9*process.uptime(),v=y-_):Date.now?(f.exports=function(){return Date.now()-g},g=Date.now()):(f.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)},3605:f=>{f.exports=function(p){return this.__data__.get(p)}},3650:(f,p,h)=>{var g=h(4335)(Object.keys,Object);f.exports=g},3656:(f,p,h)=>{f=h.nmd(f);var g=h(9325),y=h(9935),v=p&&!p.nodeType&&p,_=v&&f&&!f.nodeType&&f,S=_&&_.exports===v?g.Buffer:void 0,w=(S?S.isBuffer:void 0)||y;f.exports=w},3661:(f,p,h)=>{var g=h(3040),y=h(7670),v=h(289),_=h(4509),S=h(2949);function w(C){var A=-1,I=C==null?0:C.length;for(this.clear();++A<I;){var D=C[A];this.set(D[0],D[1])}}w.prototype.clear=g,w.prototype.delete=y,w.prototype.get=v,w.prototype.has=_,w.prototype.set=S,f.exports=w},3702:f=>{f.exports=function(){this.__data__=[],this.size=0}},3805:f=>{f.exports=function(p){var h=typeof p;return p!=null&&(h=="object"||h=="function")}},3862:f=>{f.exports=function(p){var h=this.has(p)&&delete this.__data__[p];return this.size-=h?1:0,h}},4218:f=>{f.exports=function(p){var h=typeof p;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?p!=="__proto__":p===null}},4247:f=>{f.exports=function(p){var h=-1,g=Array(p.size);return p.forEach(function(y){g[++h]=y}),g}},4248:f=>{f.exports=function(p,h){for(var g=-1,y=p==null?0:p.length;++g<y;)if(h(p[g],g,p))return!0;return!1}},4335:f=>{f.exports=function(p,h){return function(g){return p(h(g))}}},4509:(f,p,h)=>{var g=h(2651);f.exports=function(y){return g(this,y).has(y)}},4528:f=>{f.exports=function(p,h){for(var g=-1,y=h.length,v=p.length;++g<y;)p[v+g]=h[g];return p}},4664:(f,p,h)=>{var g=h(9770),y=h(3345),v=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,S=_?function(w){return w==null?[]:(w=Object(w),g(_(w),function(C){return v.call(w,C)}))}:y;f.exports=S},4739:(f,p,h)=>{var g=h(6025);f.exports=function(y){var v=this.__data__,_=g(v,y);return _<0?void 0:v[_][1]}},4840:(f,p,h)=>{var g=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g;f.exports=g},4894:(f,p,h)=>{var g=h(1882),y=h(294);f.exports=function(v){return v!=null&&y(v.length)&&!g(v)}},4901:(f,p,h)=>{var g=h(2552),y=h(294),v=h(346),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1,f.exports=function(S){return v(S)&&y(S.length)&&!!_[g(S)]}},5083:(f,p,h)=>{var g=h(1882),y=h(7296),v=h(3805),_=h(7473),S=/^\[object .+?Constructor\]$/,w=Function.prototype,C=Object.prototype,A=w.toString,I=C.hasOwnProperty,D=RegExp("^"+A.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");f.exports=function(q){return!(!v(q)||y(q))&&(g(q)?D:S).test(_(q))}},5288:f=>{f.exports=function(p,h){return p===h||p!=p&&h!=h}},5481:(f,p,h)=>{var g=h(9325)["__core-js_shared__"];f.exports=g},5527:f=>{var p=Object.prototype;f.exports=function(h){var g=h&&h.constructor;return h===(typeof g=="function"&&g.prototype||p)}},5580:(f,p,h)=>{var g=h(6110)(h(9325),"DataView");f.exports=g},5749:(f,p,h)=>{var g=h(1042);f.exports=function(y,v){var _=this.__data__;return this.size+=this.has(y)?0:1,_[y]=g&&v===void 0?"__lodash_hash_undefined__":v,this}},5861:(f,p,h)=>{var g=h(5580),y=h(8223),v=h(2804),_=h(6545),S=h(8303),w=h(2552),C=h(7473),A="[object Map]",I="[object Promise]",D="[object Set]",q="[object WeakMap]",M="[object DataView]",z=C(g),K=C(y),F=C(v),J=C(_),ie=C(S),se=w;(g&&se(new g(new ArrayBuffer(1)))!=M||y&&se(new y)!=A||v&&se(v.resolve())!=I||_&&se(new _)!=D||S&&se(new S)!=q)&&(se=function(le){var Ae=w(le),Se=Ae=="[object Object]"?le.constructor:void 0,ye=Se?C(Se):"";if(ye)switch(ye){case z:return M;case K:return A;case F:return I;case J:return D;case ie:return q}return Ae}),f.exports=se},5911:(f,p,h)=>{var g=h(8859),y=h(4248),v=h(9219);f.exports=function(_,S,w,C,A,I){var D=1&w,q=_.length,M=S.length;if(q!=M&&!(D&&M>q))return!1;var z=I.get(_),K=I.get(S);if(z&&K)return z==S&&K==_;var F=-1,J=!0,ie=2&w?new g:void 0;for(I.set(_,S),I.set(S,_);++F<q;){var se=_[F],le=S[F];if(C)var Ae=D?C(le,se,F,S,_,I):C(se,le,F,_,S,I);if(Ae!==void 0){if(Ae)continue;J=!1;break}if(ie){if(!y(S,function(Se,ye){if(!v(ie,ye)&&(se===Se||A(se,Se,w,C,I)))return ie.push(ye)})){J=!1;break}}else if(se!==le&&!A(se,le,w,C,I)){J=!1;break}}return I.delete(_),I.delete(S),J}},5950:(f,p,h)=>{var g=h(695),y=h(8984),v=h(4894);f.exports=function(_){return v(_)?g(_):y(_)}},6009:(f,p,h)=>{f=h.nmd(f);var g=h(4840),y=p&&!p.nodeType&&p,v=y&&f&&!f.nodeType&&f,_=v&&v.exports===y&&g.process,S=function(){try{return v&&v.require&&v.require("util").types||_&&_.binding&&_.binding("util")}catch{}}();f.exports=S},6025:(f,p,h)=>{var g=h(5288);f.exports=function(y,v){for(var _=y.length;_--;)if(g(y[_][0],v))return _;return-1}},6110:(f,p,h)=>{var g=h(5083),y=h(392);f.exports=function(v,_){var S=y(v,_);return g(S)?S:void 0}},6449:f=>{var p=Array.isArray;f.exports=p},6545:(f,p,h)=>{var g=h(6110)(h(9325),"Set");f.exports=g},6721:(f,p,h)=>{var g=h(1042),y=Object.prototype.hasOwnProperty;f.exports=function(v){var _=this.__data__;if(g){var S=_[v];return S==="__lodash_hash_undefined__"?void 0:S}return y.call(_,v)?_[v]:void 0}},7068:(f,p,h)=>{var g=h(7217),y=h(5911),v=h(1986),_=h(689),S=h(5861),w=h(6449),C=h(3656),A=h(7167),I="[object Arguments]",D="[object Array]",q="[object Object]",M=Object.prototype.hasOwnProperty;f.exports=function(z,K,F,J,ie,se){var le=w(z),Ae=w(K),Se=le?D:S(z),ye=Ae?D:S(K),L=(Se=Se==I?q:Se)==q,Z=(ye=ye==I?q:ye)==q,ae=Se==ye;if(ae&&C(z)){if(!C(K))return!1;le=!0,L=!1}if(ae&&!L)return se||(se=new g),le||A(z)?y(z,K,F,J,ie,se):v(z,K,Se,F,J,ie,se);if(!(1&F)){var re=L&&M.call(z,"__wrapped__"),T=Z&&M.call(K,"__wrapped__");if(re||T){var H=re?z.value():z,W=T?K.value():K;return se||(se=new g),ie(H,W,F,J,se)}}return!!ae&&(se||(se=new g),_(z,K,F,J,ie,se))}},7167:(f,p,h)=>{var g=h(4901),y=h(7301),v=h(6009),_=v&&v.isTypedArray,S=_?y(_):g;f.exports=S},7217:(f,p,h)=>{var g=h(79),y=h(1420),v=h(938),_=h(3605),S=h(9817),w=h(945);function C(A){var I=this.__data__=new g(A);this.size=I.size}C.prototype.clear=y,C.prototype.delete=v,C.prototype.get=_,C.prototype.has=S,C.prototype.set=w,f.exports=C},7296:(f,p,h)=>{var g,y=h(5481),v=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"";f.exports=function(_){return!!v&&v in _}},7301:f=>{f.exports=function(p){return function(h){return p(h)}}},7473:f=>{var p=Function.prototype.toString;f.exports=function(h){if(h!=null){try{return p.call(h)}catch{}try{return h+""}catch{}}return""}},7534:(f,p,h)=>{var g=h(2552),y=h(346);f.exports=function(v){return y(v)&&g(v)=="[object Arguments]"}},7670:(f,p,h)=>{var g=h(2651);f.exports=function(y){var v=g(this,y).delete(y);return this.size-=v?1:0,v}},7828:(f,p,h)=>{var g=h(9325).Uint8Array;f.exports=g},8096:f=>{f.exports=function(p,h){for(var g=-1,y=Array(p);++g<p;)y[g]=h(g);return y}},8223:(f,p,h)=>{var g=h(6110)(h(9325),"Map");f.exports=g},8303:(f,p,h)=>{var g=h(6110)(h(9325),"WeakMap");f.exports=g},8655:(f,p,h)=>{var g=h(6025);f.exports=function(y){return g(this.__data__,y)>-1}},8859:(f,p,h)=>{var g=h(3661),y=h(1380),v=h(1459);function _(S){var w=-1,C=S==null?0:S.length;for(this.__data__=new g;++w<C;)this.add(S[w])}_.prototype.add=_.prototype.push=y,_.prototype.has=v,f.exports=_},8984:(f,p,h)=>{var g=h(5527),y=h(3650),v=Object.prototype.hasOwnProperty;f.exports=function(_){if(!g(_))return y(_);var S=[];for(var w in Object(_))v.call(_,w)&&w!="constructor"&&S.push(w);return S}},9155:f=>{f.exports=n},9219:f=>{f.exports=function(p,h){return p.has(h)}},9325:(f,p,h)=>{var g=h(4840),y=typeof self=="object"&&self&&self.Object===Object&&self,v=g||y||Function("return this")();f.exports=v},9350:f=>{var p=Object.prototype.toString;f.exports=function(h){return p.call(h)}},9770:f=>{f.exports=function(p,h){for(var g=-1,y=p==null?0:p.length,v=0,_=[];++g<y;){var S=p[g];h(S,g,p)&&(_[v++]=S)}return _}},9817:f=>{f.exports=function(p){return this.__data__.has(p)}},9905:(f,p,h)=>{h.d(p,{default:()=>ae});var g=h(3146),y=h.n(g);const v=function(re){return new RegExp(/<[a-z][\s\S]*>/i).test(re)},_=function(re,T){return Math.floor(Math.random()*(T-re+1))+re};var S="TYPE_CHARACTER",w="REMOVE_CHARACTER",C="REMOVE_ALL",A="REMOVE_LAST_VISIBLE_NODE",I="PAUSE_FOR",D="CALL_FUNCTION",q="ADD_HTML_TAG_ELEMENT",M="CHANGE_DELETE_SPEED",z="CHANGE_DELAY",K="CHANGE_CURSOR",F="PASTE_STRING",J="HTML_TAG";function ie(re){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},ie(re)}function se(re,T){var H=Object.keys(re);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(re);T&&(W=W.filter(function(ee){return Object.getOwnPropertyDescriptor(re,ee).enumerable})),H.push.apply(H,W)}return H}function le(re){for(var T=1;T<arguments.length;T++){var H=arguments[T]!=null?arguments[T]:{};T%2?se(Object(H),!0).forEach(function(W){L(re,W,H[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(H)):se(Object(H)).forEach(function(W){Object.defineProperty(re,W,Object.getOwnPropertyDescriptor(H,W))})}return re}function Ae(re){return function(T){if(Array.isArray(T))return Se(T)}(re)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(re)||function(T,H){if(T){if(typeof T=="string")return Se(T,H);var W={}.toString.call(T).slice(8,-1);return W==="Object"&&T.constructor&&(W=T.constructor.name),W==="Map"||W==="Set"?Array.from(T):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?Se(T,H):void 0}}(re)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Se(re,T){(T==null||T>re.length)&&(T=re.length);for(var H=0,W=Array(T);H<T;H++)W[H]=re[H];return W}function ye(re,T){for(var H=0;H<T.length;H++){var W=T[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(re,Z(W.key),W)}}function L(re,T,H){return(T=Z(T))in re?Object.defineProperty(re,T,{value:H,enumerable:!0,configurable:!0,writable:!0}):re[T]=H,re}function Z(re){var T=function(H){if(ie(H)!="object"||!H)return H;var W=H[Symbol.toPrimitive];if(W!==void 0){var ee=W.call(H,"string");if(ie(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(re);return ie(T)=="symbol"?T:T+""}const ae=function(){function re(W,ee){var P=this;if(function(Q,te){if(!(Q instanceof te))throw new TypeError("Cannot call a class as a function")}(this,re),L(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),L(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),L(this,"setupWrapperElement",function(){P.state.elements.container&&(P.state.elements.wrapper.className=P.options.wrapperClassName,P.state.elements.cursor.className=P.options.cursorClassName,P.state.elements.cursor.innerHTML=P.options.cursor,P.state.elements.container.innerHTML="",P.state.elements.container.appendChild(P.state.elements.wrapper),P.state.elements.container.appendChild(P.state.elements.cursor))}),L(this,"start",function(){return P.state.eventLoopPaused=!1,P.runEventLoop(),P}),L(this,"pause",function(){return P.state.eventLoopPaused=!0,P}),L(this,"stop",function(){return P.state.eventLoop&&((0,g.cancel)(P.state.eventLoop),P.state.eventLoop=null),P}),L(this,"pauseFor",function(Q){return P.addEventToQueue(I,{ms:Q}),P}),L(this,"typeOutAllStrings",function(){return typeof P.options.strings=="string"?(P.typeString(P.options.strings).pauseFor(P.options.pauseFor),P):(P.options.strings.forEach(function(Q){P.typeString(Q).pauseFor(P.options.pauseFor).deleteAll(P.options.deleteSpeed)}),P)}),L(this,"typeString",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(v(Q))return P.typeOutHTMLString(Q,te);if(Q){var ve=(P.options||{}).stringSplitter,Ye=typeof ve=="function"?ve(Q):Q.split("");P.typeCharacters(Ye,te)}return P}),L(this,"pasteString",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v(Q)?P.typeOutHTMLString(Q,te,!0):(Q&&P.addEventToQueue(F,{character:Q,node:te}),P)}),L(this,"typeOutHTMLString",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ve=arguments.length>2?arguments[2]:void 0,Ye=function(wn){var un=document.createElement("div");return un.innerHTML=wn,un.childNodes}(Q);if(Ye.length>0)for(var je=0;je<Ye.length;je++){var mt=Ye[je],ln=mt.innerHTML;mt&&mt.nodeType!==3?(mt.innerHTML="",P.addEventToQueue(q,{node:mt,parentNode:te}),ve?P.pasteString(ln,mt):P.typeString(ln,mt)):mt.textContent&&(ve?P.pasteString(mt.textContent,te):P.typeString(mt.textContent,te))}return P}),L(this,"deleteAll",function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return P.addEventToQueue(C,{speed:Q}),P}),L(this,"changeDeleteSpeed",function(Q){if(!Q)throw new Error("Must provide new delete speed");return P.addEventToQueue(M,{speed:Q}),P}),L(this,"changeDelay",function(Q){if(!Q)throw new Error("Must provide new delay");return P.addEventToQueue(z,{delay:Q}),P}),L(this,"changeCursor",function(Q){if(!Q)throw new Error("Must provide new cursor");return P.addEventToQueue(K,{cursor:Q}),P}),L(this,"deleteChars",function(Q){if(!Q)throw new Error("Must provide amount of characters to delete");for(var te=0;te<Q;te++)P.addEventToQueue(w);return P}),L(this,"callFunction",function(Q,te){if(!Q||typeof Q!="function")throw new Error("Callback must be a function");return P.addEventToQueue(D,{cb:Q,thisArg:te}),P}),L(this,"typeCharacters",function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(ve){P.addEventToQueue(S,{character:ve,node:te})}),P}),L(this,"removeCharacters",function(Q){if(!Q||!Array.isArray(Q))throw new Error("Characters must be an array");return Q.forEach(function(){P.addEventToQueue(w)}),P}),L(this,"addEventToQueue",function(Q,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.addEventToStateProperty(Q,te,ve,"eventQueue")}),L(this,"addReverseCalledEvent",function(Q,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.options.loop?P.addEventToStateProperty(Q,te,ve,"reverseCalledEvents"):P}),L(this,"addEventToStateProperty",function(Q,te){var ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ye=arguments.length>3?arguments[3]:void 0,je={eventName:Q,eventArgs:te||{}};return P.state[Ye]=ve?[je].concat(Ae(P.state[Ye])):[].concat(Ae(P.state[Ye]),[je]),P}),L(this,"runEventLoop",function(){P.state.lastFrameTime||(P.state.lastFrameTime=Date.now());var Q=Date.now(),te=Q-P.state.lastFrameTime;if(!P.state.eventQueue.length){if(!P.options.loop)return;P.state.eventQueue=Ae(P.state.calledEvents),P.state.calledEvents=[],P.options=le({},P.state.initialOptions)}if(P.state.eventLoop=y()(P.runEventLoop),!P.state.eventLoopPaused){if(P.state.pauseUntil){if(Q<P.state.pauseUntil)return;P.state.pauseUntil=null}var ve,Ye=Ae(P.state.eventQueue),je=Ye.shift();if(!(te<=(ve=je.eventName===A||je.eventName===w?P.options.deleteSpeed==="natural"?_(40,80):P.options.deleteSpeed:P.options.delay==="natural"?_(120,160):P.options.delay))){var mt=je.eventName,ln=je.eventArgs;switch(P.logInDevMode({currentEvent:je,state:P.state,delay:ve}),mt){case F:case S:var wn=ln.character,un=ln.node,rr=document.createTextNode(wn),$n=rr;P.options.onCreateTextNode&&typeof P.options.onCreateTextNode=="function"&&($n=P.options.onCreateTextNode(wn,rr)),$n&&(un?un.appendChild($n):P.state.elements.wrapper.appendChild($n)),P.state.visibleNodes=[].concat(Ae(P.state.visibleNodes),[{type:"TEXT_NODE",character:wn,node:$n}]);break;case w:Ye.unshift({eventName:A,eventArgs:{removingCharacterNode:!0}});break;case I:var zt=je.eventArgs.ms;P.state.pauseUntil=Date.now()+parseInt(zt);break;case D:var ar=je.eventArgs,or=ar.cb,lr=ar.thisArg;or.call(lr,{elements:P.state.elements});break;case q:var Xn=je.eventArgs,X=Xn.node,fe=Xn.parentNode;fe?fe.appendChild(X):P.state.elements.wrapper.appendChild(X),P.state.visibleNodes=[].concat(Ae(P.state.visibleNodes),[{type:J,node:X,parentNode:fe||P.state.elements.wrapper}]);break;case C:var Ee=P.state.visibleNodes,be=ln.speed,ke=[];be&&ke.push({eventName:M,eventArgs:{speed:be,temp:!0}});for(var Me=0,st=Ee.length;Me<st;Me++)ke.push({eventName:A,eventArgs:{removingCharacterNode:!1}});be&&ke.push({eventName:M,eventArgs:{speed:P.options.deleteSpeed,temp:!0}}),Ye.unshift.apply(Ye,ke);break;case A:var et=je.eventArgs.removingCharacterNode;if(P.state.visibleNodes.length){var Ht=P.state.visibleNodes.pop(),Ai=Ht.type,Ri=Ht.node,Ni=Ht.character;P.options.onRemoveNode&&typeof P.options.onRemoveNode=="function"&&P.options.onRemoveNode({node:Ri,character:Ni}),Ri&&Ri.parentNode.removeChild(Ri),Ai===J&&et&&Ye.unshift({eventName:A,eventArgs:{}})}break;case M:P.options.deleteSpeed=je.eventArgs.speed;break;case z:P.options.delay=je.eventArgs.delay;break;case K:P.options.cursor=je.eventArgs.cursor,P.state.elements.cursor.innerHTML=je.eventArgs.cursor}P.options.loop&&(je.eventName===A||je.eventArgs&&je.eventArgs.temp||(P.state.calledEvents=[].concat(Ae(P.state.calledEvents),[je]))),P.state.eventQueue=Ye,P.state.lastFrameTime=Q}}}),W)if(typeof W=="string"){var Re=document.querySelector(W);if(!Re)throw new Error("Could not find container element");this.state.elements.container=Re}else this.state.elements.container=W;ee&&(this.options=le(le({},this.options),ee)),this.state.initialOptions=le({},this.options),this.init()}var T,H;return T=re,(H=[{key:"init",value:function(){var W,ee;this.setupWrapperElement(),this.addEventToQueue(K,{cursor:this.options.cursor},!0),this.addEventToQueue(C,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(W=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(ee=document.createElement("style")).appendChild(document.createTextNode(W)),document.head.appendChild(ee),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(W){this.options.devMode&&console.log(W)}}])&&ye(T.prototype,H),Object.defineProperty(T,"prototype",{writable:!1}),re}()},9935:f=>{f.exports=function(){return!1}}},o={};function u(f){var p=o[f];if(p!==void 0)return p.exports;var h=o[f]={id:f,loaded:!1,exports:{}};return r[f].call(h.exports,h,h.exports,u),h.loaded=!0,h.exports}u.n=f=>{var p=f&&f.__esModule?()=>f.default:()=>f;return u.d(p,{a:p}),p},u.d=(f,p)=>{for(var h in p)u.o(p,h)&&!u.o(f,h)&&Object.defineProperty(f,h,{enumerable:!0,get:p[h]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(f,p)=>Object.prototype.hasOwnProperty.call(f,p),u.nmd=f=>(f.paths=[],f.children||(f.children=[]),f);var c={};return(()=>{u.d(c,{default:()=>q});var f=u(9155),p=u.n(f),h=u(9905),g=u(2404),y=u.n(g);function v(M){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},v(M)}function _(M,z){for(var K=0;K<z.length;K++){var F=z[K];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,I(F.key),F)}}function S(M,z){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,F){return K.__proto__=F,K},S(M,z)}function w(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function C(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!M})()}function A(M){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},A(M)}function I(M){var z=function(K){if(v(K)!="object"||!K)return K;var F=K[Symbol.toPrimitive];if(F!==void 0){var J=F.call(K,"string");if(v(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(M);return v(z)=="symbol"?z:z+""}var D=function(M){(function(ie,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(se&&se.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),se&&S(ie,se)})(J,M);var z,K,F=function(ie){var se=C();return function(){var le,Ae=A(ie);if(se){var Se=A(this).constructor;le=Reflect.construct(Ae,arguments,Se)}else le=Ae.apply(this,arguments);return function(ye,L){if(L&&(v(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(ye)}(this,le)}}(J);function J(){var ie,se,le,Ae;(function(Z,ae){if(!(Z instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,J);for(var Se=arguments.length,ye=new Array(Se),L=0;L<Se;L++)ye[L]=arguments[L];return se=w(ie=F.call.apply(F,[this].concat(ye))),Ae={instance:null},(le=I(le="state"))in se?Object.defineProperty(se,le,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):se[le]=Ae,ie}return z=J,(K=[{key:"componentDidMount",value:function(){var ie=this,se=new h.default(this.typewriter,this.props.options);this.setState({instance:se},function(){var le=ie.props.onInit;le&&le(se)})}},{key:"componentDidUpdate",value:function(ie){y()(this.props.options,ie.options)||this.setState({instance:new h.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var ie=this,se=this.props.component;return p().createElement(se,{ref:function(le){return ie.typewriter=le},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&_(z.prototype,K),Object.defineProperty(z,"prototype",{writable:!1}),J}(f.Component);D.defaultProps={component:"div"};const q=D})(),c.default})())}(uc)),uc.exports}var SP=bP();const EP=Qp(SP),ig=N.createContext({});function sg(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const rg=typeof window<"u",kw=rg?N.useLayoutEffect:N.useEffect,lf=N.createContext(null),ag=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class TP extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wP({children:t,isPresent:e,anchorX:n}){const r=N.useId(),o=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=N.useContext(ag);return N.useInsertionEffect(()=>{const{width:f,height:p,top:h,left:g,right:y}=u.current;if(e||!o.current||!f||!p)return;const v=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=r;const _=document.createElement("style");return c&&(_.nonce=c),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(_)}},[e]),x.jsx(TP,{isPresent:e,childRef:o,sizeRef:u,children:N.cloneElement(t,{ref:o})})}const xP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:f})=>{const p=sg(CP),h=N.useId();let g=!0,y=N.useMemo(()=>(g=!1,{id:h,initial:e,isPresent:n,custom:o,onExitComplete:v=>{p.set(v,!0);for(const _ of p.values())if(!_)return;r&&r()},register:v=>(p.set(v,!1),()=>p.delete(v))}),[n,p,r]);return u&&g&&(y={...y}),N.useMemo(()=>{p.forEach((v,_)=>p.set(_,!1))},[n]),N.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),c==="popLayout"&&(t=x.jsx(wP,{isPresent:n,anchorX:f,children:t})),x.jsx(lf.Provider,{value:y,children:t})};function CP(){return new Map}function Pw(t=!0){const e=N.useContext(lf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,u=N.useId();N.useEffect(()=>{if(t)return o(u)},[t]);const c=N.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,c]:[!0]}const Zu=t=>t.key||"";function Jb(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const AP=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:f="left"})=>{const[p,h]=Pw(c),g=N.useMemo(()=>Jb(t),[t]),y=c&&!p?[]:g.map(Zu),v=N.useRef(!0),_=N.useRef(g),S=sg(()=>new Map),[w,C]=N.useState(g),[A,I]=N.useState(g);kw(()=>{v.current=!1,_.current=g;for(let M=0;M<A.length;M++){const z=Zu(A[M]);y.includes(z)?S.delete(z):S.get(z)!==!0&&S.set(z,!1)}},[A,y.length,y.join("-")]);const D=[];if(g!==w){let M=[...g];for(let z=0;z<A.length;z++){const K=A[z],F=Zu(K);y.includes(F)||(M.splice(z,0,K),D.push(K))}return u==="wait"&&D.length&&(M=D),I(Jb(M)),C(g),null}const{forceRender:q}=N.useContext(ig);return x.jsx(x.Fragment,{children:A.map(M=>{const z=Zu(M),K=c&&!p?!1:g===A||y.includes(z),F=()=>{if(S.has(z))S.set(z,!0);else return;let J=!0;S.forEach(ie=>{ie||(J=!1)}),J&&(q==null||q(),I(_.current),c&&(h==null||h()),r&&r())};return x.jsx(xP,{isPresent:K,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,onExitComplete:K?void 0:F,anchorX:f,children:M},z)})})};function og(t,e){t.indexOf(e)===-1&&t.push(e)}function lg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ti=(t,e,n)=>n>e?e:n<t?t:n;let ug=()=>{};const wi={},Lw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Uw=t=>/^0[^.\s]+$/u.test(t);function cg(t){let e;return()=>(e===void 0&&(e=t()),e)}const En=t=>t,RP=(t,e)=>n=>e(t(n)),Ol=(...t)=>t.reduce(RP),cl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fg{constructor(){this.subscriptions=[]}add(e){return og(this.subscriptions,e),()=>lg(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gn=t=>t*1e3,qn=t=>t/1e3;function jw(t,e){return e?t*(1e3/e):0}const Vw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NP=1e-7,DP=12;function OP(t,e,n,r,o){let u,c,f=0;do c=e+(n-e)/2,u=Vw(c,r,o)-t,u>0?n=c:e=c;while(Math.abs(u)>NP&&++f<DP);return c}function Ml(t,e,n,r){if(t===e&&n===r)return En;const o=u=>OP(u,0,1,t,n);return u=>u===0||u===1?u:Vw(o(u),e,r)}const Bw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zw=t=>e=>1-t(1-e),Hw=Ml(.33,1.53,.69,.99),hg=zw(Hw),Fw=Bw(hg),Gw=t=>(t*=2)<1?.5*hg(t):.5*(2-Math.pow(2,-10*(t-1))),dg=t=>1-Math.sin(Math.acos(t)),qw=zw(dg),Yw=Bw(dg),MP=Ml(.42,0,1,1),IP=Ml(0,0,.58,1),Kw=Ml(.42,0,.58,1),kP=t=>Array.isArray(t)&&typeof t[0]!="number",Ww=t=>Array.isArray(t)&&typeof t[0]=="number",PP={linear:En,easeIn:MP,easeInOut:Kw,easeOut:IP,circIn:dg,circInOut:Yw,circOut:qw,backIn:hg,backInOut:Fw,backOut:Hw,anticipate:Gw},LP=t=>typeof t=="string",eS=t=>{if(Ww(t)){ug(t.length===4);const[e,n,r,o]=t;return Ml(e,n,r,o)}else if(LP(t))return PP[t];return t},Ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],tS={value:null};function UP(t,e){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},p=0;function h(y){c.has(y)&&(g.schedule(y),t()),p++,y(f)}const g={schedule:(y,v=!1,_=!1)=>{const w=_&&o?n:r;return v&&c.add(y),w.has(y)||w.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(h),e&&tS.value&&tS.value.frameloop[e].push(p),p=0,n.clear(),o=!1,u&&(u=!1,g.process(y))}};return g}const jP=40;function $w(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Ju.reduce((D,q)=>(D[q]=UP(u,e?q:void 0),D),{}),{setup:f,read:p,resolveKeyframes:h,preUpdate:g,update:y,preRender:v,render:_,postRender:S}=c,w=()=>{const D=wi.useManualTiming?o.timestamp:performance.now();n=!1,wi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(D-o.timestamp,jP),1)),o.timestamp=D,o.isProcessing=!0,f.process(o),p.process(o),h.process(o),g.process(o),y.process(o),v.process(o),_.process(o),S.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(w))},C=()=>{n=!0,r=!0,o.isProcessing||t(w)};return{schedule:Ju.reduce((D,q)=>{const M=c[q];return D[q]=(z,K=!1,F=!1)=>(n||C(),M.schedule(z,K,F)),D},{}),cancel:D=>{for(let q=0;q<Ju.length;q++)c[Ju[q]].cancel(D)},state:o,steps:c}}const{schedule:it,cancel:hs,state:Nt,steps:Yd}=$w(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let cc;function VP(){cc=void 0}const Xt={now:()=>(cc===void 0&&Xt.set(Nt.isProcessing||wi.useManualTiming?Nt.timestamp:performance.now()),cc),set:t=>{cc=t,queueMicrotask(VP)}},Xw=t=>e=>typeof e=="string"&&e.startsWith(t),pg=Xw("--"),BP=Xw("var(--"),mg=t=>BP(t)?zP.test(t.split("/*")[0].trim()):!1,zP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Aa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fl={...Aa,transform:t=>Ti(0,1,t)},ec={...Aa,default:1},Ko=t=>Math.round(t*1e5)/1e5,gg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HP(t){return t==null}const FP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yg=(t,e)=>n=>!!(typeof n=="string"&&FP.test(n)&&n.startsWith(t)||e&&!HP(n)&&Object.prototype.hasOwnProperty.call(n,e)),Qw=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,f]=r.match(gg);return{[t]:parseFloat(o),[e]:parseFloat(u),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},GP=t=>Ti(0,255,t),Kd={...Aa,transform:t=>Math.round(GP(t))},qs={test:yg("rgb","red"),parse:Qw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kd.transform(t)+", "+Kd.transform(e)+", "+Kd.transform(n)+", "+Ko(fl.transform(r))+")"};function qP(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Op={test:yg("#"),parse:qP,transform:qs.transform},Il=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=Il("deg"),Yn=Il("%"),me=Il("px"),YP=Il("vh"),KP=Il("vw"),nS={...Yn,parse:t=>Yn.parse(t)/100,transform:t=>Yn.transform(t*100)},Xr={test:yg("hsl","hue"),parse:Qw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yn.transform(Ko(e))+", "+Yn.transform(Ko(n))+", "+Ko(fl.transform(r))+")"},Pt={test:t=>qs.test(t)||Op.test(t)||Xr.test(t),parse:t=>qs.test(t)?qs.parse(t):Xr.test(t)?Xr.parse(t):Op.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qs.transform(t):Xr.transform(t)},WP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $P(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gg))==null?void 0:e.length)||0)+(((n=t.match(WP))==null?void 0:n.length)||0)>0}const Zw="number",Jw="color",XP="var",QP="var(",iS="${}",ZP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const f=e.replace(ZP,p=>(Pt.test(p)?(r.color.push(u),o.push(Jw),n.push(Pt.parse(p))):p.startsWith(QP)?(r.var.push(u),o.push(XP),n.push(p)):(r.number.push(u),o.push(Zw),n.push(parseFloat(p))),++u,iS)).split(iS);return{values:n,split:f,indexes:r,types:o}}function ex(t){return hl(t).values}function tx(t){const{split:e,types:n}=hl(t),r=e.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],o[c]!==void 0){const f=n[c];f===Zw?u+=Ko(o[c]):f===Jw?u+=Pt.transform(o[c]):u+=o[c]}return u}}const JP=t=>typeof t=="number"?0:t;function eL(t){const e=ex(t);return tx(t)(e.map(JP))}const ds={test:$P,parse:ex,createTransformer:tx,getAnimatableNone:eL};function Wd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,u=0,c=0;if(!e)o=u=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;o=Wd(p,f,t+1/3),u=Wd(p,f,t),c=Wd(p,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Uc(t,e){return n=>n>0?e:t}const nt=(t,e,n)=>t+(e-t)*n,$d=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},nL=[Op,qs,Xr],iL=t=>nL.find(e=>e.test(t));function sS(t){const e=iL(t);if(!e)return!1;let n=e.parse(t);return e===Xr&&(n=tL(n)),n}const rS=(t,e)=>{const n=sS(t),r=sS(e);if(!n||!r)return Uc(t,e);const o={...n};return u=>(o.red=$d(n.red,r.red,u),o.green=$d(n.green,r.green,u),o.blue=$d(n.blue,r.blue,u),o.alpha=nt(n.alpha,r.alpha,u),qs.transform(o))},Mp=new Set(["none","hidden"]);function sL(t,e){return Mp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rL(t,e){return n=>nt(t,e,n)}function vg(t){return typeof t=="number"?rL:typeof t=="string"?mg(t)?Uc:Pt.test(t)?rS:lL:Array.isArray(t)?nx:typeof t=="object"?Pt.test(t)?rS:aL:Uc}function nx(t,e){const n=[...t],r=n.length,o=t.map((u,c)=>vg(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function aL(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=vg(t[o])(t[o],e[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function oL(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=t.indexes[u][r[u]],f=t.values[c]??0;n[o]=f,r[u]++}return n}const lL=(t,e)=>{const n=ds.createTransformer(e),r=hl(t),o=hl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Mp.has(t)&&!o.values.length||Mp.has(e)&&!r.values.length?sL(t,e):Ol(nx(oL(r,o),o.values),n):Uc(t,e)};function ix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):vg(t)(t,e)}const uL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>hs(e),now:()=>Nt.isProcessing?Nt.timestamp:Xt.now()}},sx=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let u=0;u<o;u++)r+=t(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},jc=2e4;function _g(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jc;)e+=n,r=t.next(e);return e>=jc?1/0:e}function cL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(_g(r),jc);return{type:"keyframes",ease:u=>r.next(o*u).value/e,duration:qn(o)}}const fL=5;function rx(t,e,n){const r=Math.max(e-fL,0);return jw(n-t(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aS=.001;function hL({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:r=ot.mass}){let o,u,c=1-e;c=Ti(ot.minDamping,ot.maxDamping,c),t=Ti(ot.minDuration,ot.maxDuration,qn(t)),c<1?(o=h=>{const g=h*c,y=g*t,v=g-n,_=Ip(h,c),S=Math.exp(-y);return aS-v/_*S},u=h=>{const y=h*c*t,v=y*n+n,_=Math.pow(c,2)*Math.pow(h,2)*t,S=Math.exp(-y),w=Ip(Math.pow(h,2),c);return(-o(h)+aS>0?-1:1)*((v-_)*S)/w}):(o=h=>{const g=Math.exp(-h*t),y=(h-n)*t+1;return-.001+g*y},u=h=>{const g=Math.exp(-h*t),y=(n-h)*(t*t);return g*y});const f=5/t,p=pL(o,u,f);if(t=Gn(t),isNaN(p))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const h=Math.pow(p,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:t}}}const dL=12;function pL(t,e,n){let r=n;for(let o=1;o<dL;o++)r=r-t(r)/e(r);return r}function Ip(t,e){return t*Math.sqrt(1-e*e)}const mL=["duration","bounce"],gL=["stiffness","damping","mass"];function oS(t,e){return e.some(n=>t[n]!==void 0)}function yL(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!oS(t,gL)&&oS(t,mL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*Ti(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:u}}else{const n=hL(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function Vc(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:h,mass:g,duration:y,velocity:v,isResolvedFromDuration:_}=yL({...n,velocity:-qn(n.velocity||0)}),S=v||0,w=h/(2*Math.sqrt(p*g)),C=c-u,A=qn(Math.sqrt(p/g)),I=Math.abs(C)<5;r||(r=I?ot.restSpeed.granular:ot.restSpeed.default),o||(o=I?ot.restDelta.granular:ot.restDelta.default);let D;if(w<1){const M=Ip(A,w);D=z=>{const K=Math.exp(-w*A*z);return c-K*((S+w*A*C)/M*Math.sin(M*z)+C*Math.cos(M*z))}}else if(w===1)D=M=>c-Math.exp(-A*M)*(C+(S+A*C)*M);else{const M=A*Math.sqrt(w*w-1);D=z=>{const K=Math.exp(-w*A*z),F=Math.min(M*z,300);return c-K*((S+w*A*C)*Math.sinh(F)+M*C*Math.cosh(F))/M}}const q={calculatedDuration:_&&y||null,next:M=>{const z=D(M);if(_)f.done=M>=y;else{let K=M===0?S:0;w<1&&(K=M===0?Gn(S):rx(D,M,z));const F=Math.abs(K)<=r,J=Math.abs(c-z)<=o;f.done=F&&J}return f.value=f.done?c:z,f},toString:()=>{const M=Math.min(_g(q),jc),z=sx(K=>q.next(M*K).value,M,30);return M+"ms "+z},toTransition:()=>{}};return q}Vc.applyToOptions=t=>{const e=cL(t,100,Vc);return t.ease=e.ease,t.duration=Gn(e.duration),t.type="keyframes",t};function kp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:f,max:p,restDelta:h=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},_=F=>f!==void 0&&F<f||p!==void 0&&F>p,S=F=>f===void 0?p:p===void 0||Math.abs(f-F)<Math.abs(p-F)?f:p;let w=n*e;const C=y+w,A=c===void 0?C:c(C);A!==C&&(w=A-y);const I=F=>-w*Math.exp(-F/r),D=F=>A+I(F),q=F=>{const J=I(F),ie=D(F);v.done=Math.abs(J)<=h,v.value=v.done?A:ie};let M,z;const K=F=>{_(v.value)&&(M=F,z=Vc({keyframes:[v.value,S(v.value)],velocity:rx(D,F,v.value),damping:o,stiffness:u,restDelta:h,restSpeed:g}))};return K(0),{calculatedDuration:null,next:F=>{let J=!1;return!z&&M===void 0&&(J=!0,q(F),K(F)),M!==void 0&&F>=M?z.next(F-M):(!J&&q(F),v)}}}function vL(t,e,n){const r=[],o=n||wi.mix||ix,u=t.length-1;for(let c=0;c<u;c++){let f=o(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||En:e;f=Ol(p,f)}r.push(f)}return r}function _L(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const u=t.length;if(ug(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=vL(e,r,o),p=f.length,h=g=>{if(c&&g<t[0])return e[0];let y=0;if(p>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=cl(t[y],t[y+1],g);return f[y](v)};return n?g=>h(Ti(t[0],t[u-1],g)):h}function bL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=cl(0,e,r);t.push(nt(n,1,o))}}function SL(t){const e=[0];return bL(e,t.length-1),e}function EL(t,e){return t.map(n=>n*e)}function TL(t,e){return t.map(()=>e||Kw).splice(0,t.length-1)}function Wo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=kP(r)?r.map(eS):eS(r),u={done:!1,value:e[0]},c=EL(n&&n.length===e.length?n:SL(e),t),f=_L(c,e,{ease:Array.isArray(o)?o:TL(e,o)});return{calculatedDuration:t,next:p=>(u.value=f(p),u.done=p>=t,u)}}const wL=t=>t!==null;function bg(t,{repeat:e,repeatType:n="loop"},r,o=1){const u=t.filter(wL),f=o<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!f||r===void 0?u[f]:r}const xL={decay:kp,inertia:kp,tween:Wo,keyframes:Wo,spring:Vc};function ax(t){typeof t.type=="string"&&(t.type=xL[t.type])}class Sg{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const CL=t=>t/100;class ox extends Sg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Xt.now()&&this.tick(Xt.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ax(e);const{type:n=Wo,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:f}=e;const p=n||Wo;p!==Wo&&typeof f[0]!="number"&&(this.mixKeyframes=Ol(CL,ix(f[0],f[1])),f=[0,100]);const h=p({...e,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=_g(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:_,type:S,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,q=r;if(y){const F=Math.min(this.currentTime,o)/f;let J=Math.floor(F),ie=F%1;!ie&&F>=1&&(ie=1),ie===1&&J--,J=Math.min(J,y+1),!!(J%2)&&(v==="reverse"?(ie=1-ie,_&&(ie-=_/f)):v==="mirror"&&(q=c)),D=Ti(0,1,ie)*f}const M=I?{done:!1,value:g[0]}:q.next(D);u&&(M.value=u(M.value));let{done:z}=M;!I&&p!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return K&&S!==kp&&(M.value=bg(g,this.options,C,this.speed)),w&&w(M.value),K&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return qn(this.calculatedDuration)}get time(){return qn(this.currentTime)}set time(e){e=Gn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=uL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function AL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ys=t=>t*180/Math.PI,Pp=t=>{const e=Ys(Math.atan2(t[1],t[0]));return Lp(e)},RL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pp,rotateZ:Pp,skewX:t=>Ys(Math.atan(t[1])),skewY:t=>Ys(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lp=t=>(t=t%360,t<0&&(t+=360),t),lS=Pp,uS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:cS,scale:t=>(uS(t)+cS(t))/2,rotateX:t=>Lp(Ys(Math.atan2(t[6],t[5]))),rotateY:t=>Lp(Ys(Math.atan2(-t[2],t[0]))),rotateZ:lS,rotate:lS,skewX:t=>Ys(Math.atan(t[4])),skewY:t=>Ys(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fS(t){return t.includes("scale")?1:0}function Up(t,e){if(!t||t==="none")return fS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=NL,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RL,o=f}if(!o)return fS(e);const u=r[e],c=o[1].split(",").map(OL);return typeof u=="function"?u(c):c[u]}const DL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Up(n,e)};function OL(t){return parseFloat(t.trim())}const Ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(Ra),hS=t=>t===Aa||t===me,ML=new Set(["x","y","z"]),IL=Ra.filter(t=>!ML.has(t));function kL(t){const e=[];return IL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Up(e,"x"),y:(t,{transform:e})=>Up(e,"y")};pa.translateX=pa.x;pa.translateY=pa.y;const Ws=new Set;let jp=!1,Vp=!1,Bp=!1;function lx(){if(Vp){const t=Array.from(Ws).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=kL(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{var f;(f=r.getValue(u))==null||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vp=!1,jp=!1,Ws.forEach(t=>t.complete(Bp)),Ws.clear()}function ux(){Ws.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vp=!0)})}function PL(){Bp=!0,ux(),lx(),Bp=!1}class Eg{constructor(e,n,r,o,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ws.add(this),jp||(jp=!0,it.read(ux),it.resolveKeyframes(lx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const u=o==null?void 0:o.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}AL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ws.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ws.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const LL=t=>t.startsWith("--");function UL(t,e,n){LL(e)?t.style.setProperty(e,n):t.style[e]=n}const jL=cg(()=>window.ScrollTimeline!==void 0),VL={};function BL(t,e){const n=cg(t);return()=>VL[e]??n()}const cx=BL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vo([0,.65,.55,1]),circOut:Vo([.55,0,1,.45]),backIn:Vo([.31,.01,.66,-.59]),backOut:Vo([.33,1.53,.69,.99])};function fx(t,e){if(t)return typeof t=="function"?cx()?sx(t,e):"ease-out":Ww(t)?Vo(t):Array.isArray(t)?t.map(n=>fx(n,e)||dS.easeOut):dS[t]}function zL(t,e,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:f="easeOut",times:p}={},h=void 0){const g={[e]:n};p&&(g.offset=p);const y=fx(f,o);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(g,v)}function hx(t){return typeof t=="function"&&"applyToOptions"in t}function HL({type:t,...e}){return hx(t)&&cx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class FL extends Sg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,ug(typeof e.type!="string");const h=HL(e);this.animation=zL(n,r,o,h,u),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=bg(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):UL(n,r,g),this.animation.cancel()}p==null||p(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return qn(Number(e))}get time(){return qn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&jL()?(this.animation.timeline=e,En):n(this)}}const dx={anticipate:Gw,backInOut:Fw,circInOut:Yw};function GL(t){return t in dx}function qL(t){typeof t.ease=="string"&&GL(t.ease)&&(t.ease=dx[t.ease])}const pS=10;class YL extends FL{constructor(e){qL(e),ax(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new ox({...c,autoplay:!1}),p=Gn(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-pS).value,f.sample(p).value,pS),f.stop()}}const mS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ds.test(t)||t==="0")&&!t.startsWith("url("));function KL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WL(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=mS(o,e),f=mS(u,e);return!c||!f?!1:KL(t)||(n==="spring"||hx(n))&&r}const $L=new Set(["opacity","clipPath","filter","transform"]),XL=cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QL(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return XL()&&n&&$L.has(n)&&(n!=="transform"||!p)&&!f&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const ZL=40;class JL extends Sg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:f,name:p,motionValue:h,element:g,...y}){var S;super(),this.stop=()=>{var w,C;this._animation?(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)):(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Xt.now();const v={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:h,element:g,...y},_=(g==null?void 0:g.KeyframeResolver)||Eg;this.keyframeResolver=new _(f,(w,C,A)=>this.onKeyframesResolved(w,C,v,!A),p,h,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:f,delay:p,isHandoff:h,onUpdate:g}=r;this.resolvedAt=Xt.now(),WL(e,u,c,f)||((wi.instantAnimations||!p)&&(g==null||g(bg(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>ZL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!h&&QL(v)?new YL({...v,element:v.motionValue.owner.current}):new ox(v);_.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||PL(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const eU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tU(t){const e=eU.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function px(t,e,n=1){const[r,o]=tU(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return Lw(c)?parseFloat(c):c}return mg(o)?px(o,e,n+1):o}function Tg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mx=new Set(["width","height","top","left","right","bottom",...Ra]),nU={test:t=>t==="auto",parse:t=>t},gx=t=>e=>e.test(t),yx=[Aa,me,Yn,ts,KP,YP,nU],gS=t=>yx.find(gx(t));function iU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Uw(t):!0}const sU=new Set(["brightness","contrast","saturate","opacity"]);function rU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gg)||[];if(!r)return t;const o=n.replace(r,"");let u=sU.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+o+")"}const aU=/\b([a-z-]*)\(.*?\)/gu,zp={...ds,getAnimatableNone:t=>{const e=t.match(aU);return e?e.map(rU).join(" "):t}},yS={...Aa,transform:Math.round},oU={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:ts,skewX:ts,skewY:ts,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:fl,originX:nS,originY:nS,originZ:me},wg={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me,...oU,zIndex:yS,fillOpacity:fl,strokeOpacity:fl,numOctaves:yS},lU={...wg,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:zp,WebkitFilter:zp},vx=t=>lU[t];function _x(t,e){let n=vx(t);return n!==zp&&(n=ds),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uU=new Set(["auto","none","0"]);function cU(t,e,n){let r=0,o;for(;r<t.length&&!o;){const u=t[r];typeof u=="string"&&!uU.has(u)&&hl(u).values.length&&(o=t[r]),r++}if(o&&n)for(const u of e)t[u]=_x(n,o)}class fU extends Eg{constructor(e,n,r,o,u){super(e,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),mg(h))){const g=px(h,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!mx.has(r)||e.length!==2)return;const[o,u]=e,c=gS(o),f=gS(u);if(c!==f)if(hS(c)&&hS(f))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||iU(e[o]))&&r.push(o);r.length&&cU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=pa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([p,h])=>{e.getValue(p).set(h)}),this.resolveNoneKeyframes()}}function hU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const{schedule:xg}=$w(queueMicrotask,!1),Rn={x:!1,y:!1};function bx(){return Rn.x||Rn.y}function dU(t){return t==="x"||t==="y"?Rn[t]?null:(Rn[t]=!0,()=>{Rn[t]=!1}):Rn.x||Rn.y?null:(Rn.x=Rn.y=!0,()=>{Rn.x=Rn.y=!1})}function Sx(t,e){const n=hU(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function vS(t){return!(t.pointerType==="touch"||bx())}function pU(t,e,n={}){const[r,o,u]=Sx(t,n),c=f=>{if(!vS(f))return;const{target:p}=f,h=e(p,f);if(typeof h!="function"||!p)return;const g=y=>{vS(y)&&(h(y),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return r.forEach(f=>{f.addEventListener("pointerenter",c,o)}),u}const Ex=(t,e)=>e?t===e?!0:Ex(t,e.parentElement):!1,Cg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gU(t){return mU.has(t.tagName)||t.tabIndex!==-1}const Bo=new WeakSet;function _S(t){return e=>{e.key==="Enter"&&t(e)}}function Xd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=_S(()=>{if(Bo.has(n))return;Xd(n,"down");const o=_S(()=>{Xd(n,"up")}),u=()=>Xd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function bS(t){return Cg(t)&&!bx()}function vU(t,e,n={}){const[r,o,u]=Sx(t,n),c=f=>{const p=f.currentTarget;if(!bS(f)||Bo.has(p))return;Bo.add(p);const h=e(p,f),g=(_,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!bS(_)||!Bo.has(p))&&(Bo.delete(p),typeof h=="function"&&h(_,{success:S}))},y=_=>{g(_,p===window||p===document||n.useGlobalTarget||Ex(p,_.target))},v=_=>{g(_,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f instanceof HTMLElement&&(f.addEventListener("focus",h=>yU(h,o)),!gU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}const SS=30,_U=t=>!isNaN(parseFloat(t));class bU{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,f;const u=Xt.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_U(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fg);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>SS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SS);return jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(t,e){return new bU(t,e)}const SU=[...yx,Pt,ds],EU=t=>SU.find(gx(t)),Tx=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wx=N.createContext({strict:!1}),ES={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ma={};for(const t in ES)ma[t]={isEnabled:e=>ES[t].some(n=>!!e[n])};function TU(t){for(const e in t)ma[e]={...ma[e],...t[e]}}const wU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wU.has(t)}let xx=t=>!Bc(t);function xU(t){t&&(xx=e=>e.startsWith("on")?!Bc(e):t(e))}try{xU(require("@emotion/is-prop-valid").default)}catch{}function CU(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(xx(o)||n===!0&&Bc(o)||!e&&!Bc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function AU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const uf=N.createContext({});function cf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pl(t){return typeof t=="string"||Array.isArray(t)}const Ag=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rg=["initial",...Ag];function ff(t){return cf(t.animate)||Rg.some(e=>pl(t[e]))}function Cx(t){return!!(ff(t)||t.variants)}function RU(t,e){if(ff(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pl(n)?n:void 0,animate:pl(r)?r:void 0}}return t.inherit!==!1?e:{}}function NU(t){const{initial:e,animate:n}=RU(t,N.useContext(uf));return N.useMemo(()=>({initial:e,animate:n}),[TS(e),TS(n)])}function TS(t){return Array.isArray(t)?t.join(" "):t}const DU=Symbol.for("motionComponentSymbol");function Qr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OU(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qr(n)&&(n.current=r))},[e])}const Ng=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),MU="framerAppearId",Ax="data-"+Ng(MU),Rx=N.createContext({});function IU(t,e,n,r,o){var w,C;const{visualElement:u}=N.useContext(uf),c=N.useContext(wx),f=N.useContext(lf),p=N.useContext(ag).reducedMotion,h=N.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const g=h.current,y=N.useContext(Rx);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&kU(h.current,n,o,y);const v=N.useRef(!1);N.useInsertionEffect(()=>{g&&v.current&&g.update(n,f)});const _=n[Ax],S=N.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,_)));return kw(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),xg.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,_)}),S.current=!1))}),g}function kU(t,e,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:h,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Nx(t.parent)),t.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||f&&Qr(f),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:p,layoutRoot:h})}function Nx(t){if(t)return t.options.allowProjection!==!1?t.projection:Nx(t.parent)}function PU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&TU(t);function u(f,p){let h;const g={...N.useContext(ag),...f,layoutId:LU(f)},{isStatic:y}=g,v=NU(f),_=r(f,y);if(!y&&rg){UU();const S=jU(g);h=S.MeasureLayout,v.visualElement=IU(o,_,g,e,S.ProjectionNode)}return x.jsxs(uf.Provider,{value:v,children:[h&&v.visualElement?x.jsx(h,{visualElement:v.visualElement,...g}):null,n(o,f,OU(_,v.visualElement,p),_,y,v.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=N.forwardRef(u);return c[DU]=o,c}function LU({layoutId:t}){const e=N.useContext(ig).id;return e&&t!==void 0?e+"-"+t:t}function UU(t,e){N.useContext(wx).strict}function jU(t){const{drag:e,layout:n}=ma;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ml={};function VU(t){for(const e in t)ml[e]=t[e],pg(e)&&(ml[e].isCSSVariable=!0)}function Dx(t,{layout:e,layoutId:n}){return Na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ml[t]||t==="opacity")}const Lt=t=>!!(t&&t.getVelocity),BU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zU=Ra.length;function HU(t,e,n){let r="",o=!0;for(let u=0;u<zU;u++){const c=Ra[u],f=t[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const h=Tx(f,wg[c]);if(!p){o=!1;const g=BU[c]||c;r+=`${g}(${h}) `}n&&(e[c]=h)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Dg(t,e,n){const{style:r,vars:o,transformOrigin:u}=t;let c=!1,f=!1;for(const p in e){const h=e[p];if(Na.has(p)){c=!0;continue}else if(pg(p)){o[p]=h;continue}else{const g=Tx(h,wg[p]);p.startsWith("origin")?(f=!0,u[p]=g):r[p]=g}}if(e.transform||(c||n?r.transform=HU(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:p="50%",originY:h="50%",originZ:g=0}=u;r.transformOrigin=`${p} ${h} ${g}`}}const Og=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ox(t,e,n){for(const r in e)!Lt(e[r])&&!Dx(r,n)&&(t[r]=e[r])}function FU({transformTemplate:t},e){return N.useMemo(()=>{const n=Og();return Dg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GU(t,e){const n=t.style||{},r={};return Ox(r,n,t),Object.assign(r,FU(t,e)),r}function qU(t,e){const n={},r=GU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mg(t){return typeof t!="string"||t.includes("-")?!1:!!(YU.indexOf(t)>-1||/[A-Z]/u.test(t))}const KU={offset:"stroke-dashoffset",array:"stroke-dasharray"},WU={offset:"strokeDashoffset",array:"strokeDasharray"};function $U(t,e,n=1,r=0,o=!0){t.pathLength=1;const u=o?KU:WU;t[u.offset]=me.transform(-r);const c=me.transform(e),f=me.transform(n);t[u.array]=`${c} ${f}`}function Mx(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...f},p,h){if(Dg(t,f,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox="fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&$U(g,o,u,c,!1)}const Ix=()=>({...Og(),attrs:{}}),kx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XU(t,e,n,r){const o=N.useMemo(()=>{const u=Ix();return Mx(u,e,kx(r),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};Ox(u,t.style,t),o.style={...u,...o.style}}return o}function QU(t=!1){return(n,r,o,{latestValues:u},c)=>{const p=(Mg(n)?XU:qU)(r,u,c,n),h=CU(r,typeof n=="string",t),g=n!==N.Fragment?{...h,...p,ref:o}:{},{children:y}=r,v=N.useMemo(()=>Lt(y)?y.get():y,[y]);return N.createElement(n,{...g,children:v})}}function wS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ig(t,e,n,r){if(typeof e=="function"){const[o,u]=wS(r);e=e(n!==void 0?n:t.custom,o,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,u]=wS(r);e=e(n!==void 0?n:t.custom,o,u)}return e}function fc(t){return Lt(t)?t.get():t}function ZU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:JU(n,r,o,t),renderState:e()}}const Px=t=>(e,n)=>{const r=N.useContext(uf),o=N.useContext(lf),u=()=>ZU(t,e,r,o);return n?u():sg(u)};function JU(t,e,n,r){const o={},u=r(t,{});for(const v in u)o[v]=fc(u[v]);let{initial:c,animate:f}=t;const p=ff(t),h=Cx(t);e&&h&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?f:c;if(y&&typeof y!="boolean"&&!cf(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const S=Ig(t,v[_]);if(S){const{transitionEnd:w,transition:C,...A}=S;for(const I in A){let D=A[I];if(Array.isArray(D)){const q=g?D.length-1:0;D=D[q]}D!==null&&(o[I]=D)}for(const I in w)o[I]=w[I]}}}return o}function kg(t,e,n){var u;const{style:r}=t,o={};for(const c in r)(Lt(r[c])||e.style&&Lt(e.style[c])||Dx(c,t)||((u=n==null?void 0:n.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const ej={useVisualState:Px({scrapeMotionValuesFromProps:kg,createRenderState:Og})};function Lx(t,e,n){const r=kg(t,e,n);for(const o in t)if(Lt(t[o])||Lt(e[o])){const u=Ra.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=t[o]}return r}const tj={useVisualState:Px({scrapeMotionValuesFromProps:Lx,createRenderState:Ix})};function nj(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Mg(r)?tj:ej,preloadedFeatures:t,useRender:QU(o),createVisualElement:e,Component:r};return PU(c)}}function gl(t,e,n){const r=t.getProps();return Ig(r,e,n!==void 0?n:r.custom,t)}const Hp=t=>Array.isArray(t);function ij(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dl(n))}function sj(t){return Hp(t)?t[t.length-1]||0:t}function rj(t,e){const n=gl(t,e);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const f=sj(u[c]);ij(t,c,f)}}function aj(t){return!!(Lt(t)&&t.add)}function Fp(t,e){const n=t.getValue("willChange");if(aj(n))return n.add(e);if(!n&&wi.WillChange){const r=new wi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ux(t){return t.props[Ax]}const oj=t=>t!==null;function lj(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(oj),u=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[u]}const uj={type:"spring",stiffness:500,damping:25,restSpeed:10},cj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fj={type:"keyframes",duration:.8},hj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dj=(t,{keyframes:e})=>e.length>2?fj:Na.has(t)?t.startsWith("scale")?cj(e[1]):uj:hj;function pj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:f,from:p,elapsed:h,...g}){return!!Object.keys(g).length}const Pg=(t,e,n,r={},o,u)=>c=>{const f=Tg(r,t)||{},p=f.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Gn(p);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-h,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:u?void 0:o};pj(f)||Object.assign(g,dj(t,g)),g.duration&&(g.duration=Gn(g.duration)),g.repeatDelay&&(g.repeatDelay=Gn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),(wi.instantAnimations||wi.skipAnimations)&&(y=!0,g.duration=0,g.delay=0),g.allowFlatten=!f.type&&!f.ease,y&&!u&&e.get()!==void 0){const v=lj(g.keyframes,f);if(v!==void 0){it.update(()=>{g.onUpdate(v),g.onComplete()});return}}return new JL(g)};function mj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jx(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(u=r);const p=[],h=o&&t.animationState&&t.animationState.getState()[o];for(const g in f){const y=t.getValue(g,t.latestValues[g]??null),v=f[g];if(v===void 0||h&&mj(h,g))continue;const _={delay:n,...Tg(u||{},g)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===S&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const A=Ux(t);if(A){const I=window.MotionHandoffAnimation(A,g,it);I!==null&&(_.startTime=I,w=!0)}}Fp(t,g),y.start(Pg(g,y,v,t.shouldReduceMotion&&mx.has(g)?{type:!1}:_,t,w));const C=y.animation;C&&p.push(C)}return c&&Promise.all(p).then(()=>{it.update(()=>{c&&rj(t,c)})}),p}function Gp(t,e,n={}){var p;const r=gl(t,e,n.type==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(jx(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return gj(t,e,g+h,y,v,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[u,c]:[c,u];return h().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function gj(t,e,n=0,r=0,o=1,u){const c=[],f=(t.variantChildren.size-1)*r,p=o===1?(h=0)=>h*r:(h=0)=>f-h*r;return Array.from(t.variantChildren).sort(yj).forEach((h,g)=>{h.notify("AnimationStart",e),c.push(Gp(h,e,{...u,delay:n+p(g)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(c)}function yj(t,e){return t.sortNodePosition(e)}function vj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(u=>Gp(t,u,n));r=Promise.all(o)}else if(typeof e=="string")r=Gp(t,e,n);else{const o=typeof e=="function"?gl(t,e,n.custom):e;r=Promise.all(jx(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Vx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const _j=Rg.length;function Bx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Bx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_j;n++){const r=Rg[n],o=t.props[r];(pl(o)||o===!1)&&(e[r]=o)}return e}const bj=[...Ag].reverse(),Sj=Ag.length;function Ej(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vj(t,n,r)))}function Tj(t){let e=Ej(t),n=xS(),r=!0;const o=p=>(h,g)=>{var v;const y=gl(t,g,p==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:_,transitionEnd:S,...w}=y;h={...h,...w,...S}}return h};function u(p){e=p(t)}function c(p){const{props:h}=t,g=Bx(t.parent)||{},y=[],v=new Set;let _={},S=1/0;for(let C=0;C<Sj;C++){const A=bj[C],I=n[A],D=h[A]!==void 0?h[A]:g[A],q=pl(D),M=A===p?I.isActive:null;M===!1&&(S=C);let z=D===g[A]&&D!==h[A]&&q;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),I.protectedKeys={..._},!I.isActive&&M===null||!D&&!I.prevProp||cf(D)||typeof D=="boolean")continue;const K=wj(I.prevProp,D);let F=K||A===p&&I.isActive&&!z&&q||C>S&&q,J=!1;const ie=Array.isArray(D)?D:[D];let se=ie.reduce(o(A),{});M===!1&&(se={});const{prevResolvedValues:le={}}=I,Ae={...le,...se},Se=Z=>{F=!0,v.has(Z)&&(J=!0,v.delete(Z)),I.needsAnimating[Z]=!0;const ae=t.getValue(Z);ae&&(ae.liveStyle=!1)};for(const Z in Ae){const ae=se[Z],re=le[Z];if(_.hasOwnProperty(Z))continue;let T=!1;Hp(ae)&&Hp(re)?T=!Vx(ae,re):T=ae!==re,T?ae!=null?Se(Z):v.add(Z):ae!==void 0&&v.has(Z)?Se(Z):I.protectedKeys[Z]=!0}I.prevProp=D,I.prevResolvedValues=se,I.isActive&&(_={..._,...se}),r&&t.blockInitialAnimation&&(F=!1),F&&(!(z&&K)||J)&&y.push(...ie.map(Z=>({animation:Z,options:{type:A}})))}if(v.size){const C={};if(typeof h.initial!="boolean"){const A=gl(t,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(C.transition=A.transition)}v.forEach(A=>{const I=t.getBaseTarget(A),D=t.getValue(A);D&&(D.liveStyle=!0),C[A]=I??null}),y.push({animation:C})}let w=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(y):Promise.resolve()}function f(p,h){var y;if(n[p].isActive===h)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(p,h)}),n[p].isActive=h;const g=c(p);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:u,getState:()=>n,reset:()=>{n=xS(),r=!0}}}function wj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vx(e,t):!1}function js(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xS(){return{animate:js(!0),whileInView:js(),whileHover:js(),whileTap:js(),whileDrag:js(),whileFocus:js(),exit:js()}}class _s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xj extends _s{constructor(e){super(e),e.animationState||(e.animationState=Tj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Cj=0;class Aj extends _s{constructor(){super(...arguments),this.id=Cj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rj={animation:{Feature:xj},exit:{Feature:Aj}};function yl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kl(t){return{point:{x:t.pageX,y:t.pageY}}}const Nj=t=>e=>Cg(e)&&t(e,kl(e));function $o(t,e,n,r){return yl(t,e,Nj(n),r)}function zx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Dj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Oj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Hx=1e-4,Mj=1-Hx,Ij=1+Hx,Fx=.01,kj=0-Fx,Pj=0+Fx;function jt(t){return t.max-t.min}function Lj(t,e,n){return Math.abs(t-e)<=n}function CS(t,e,n,r=.5){t.origin=r,t.originPoint=nt(e.min,e.max,t.origin),t.scale=jt(n)/jt(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Mj&&t.scale<=Ij||isNaN(t.scale))&&(t.scale=1),(t.translate>=kj&&t.translate<=Pj||isNaN(t.translate))&&(t.translate=0)}function Xo(t,e,n,r){CS(t.x,e.x,n.x,r?r.originX:void 0),CS(t.y,e.y,n.y,r?r.originY:void 0)}function AS(t,e,n){t.min=n.min+e.min,t.max=t.min+jt(e)}function Uj(t,e,n){AS(t.x,e.x,n.x),AS(t.y,e.y,n.y)}function RS(t,e,n){t.min=e.min-n.min,t.max=t.min+jt(e)}function Qo(t,e,n){RS(t.x,e.x,n.x),RS(t.y,e.y,n.y)}const NS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zr=()=>({x:NS(),y:NS()}),DS=()=>({min:0,max:0}),ht=()=>({x:DS(),y:DS()});function bn(t){return[t("x"),t("y")]}function Qd(t){return t===void 0||t===1}function qp({scale:t,scaleX:e,scaleY:n}){return!Qd(t)||!Qd(e)||!Qd(n)}function zs(t){return qp(t)||Gx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Gx(t){return OS(t.x)||OS(t.y)}function OS(t){return t&&t!=="0%"}function zc(t,e,n){const r=t-n,o=e*r;return n+o}function MS(t,e,n,r,o){return o!==void 0&&(t=zc(t,o,r)),zc(t,n,r)+e}function Yp(t,e=0,n=1,r,o){t.min=MS(t.min,e,n,r,o),t.max=MS(t.max,e,n,r,o)}function qx(t,{x:e,y:n}){Yp(t.x,e.translate,e.scale,e.originPoint),Yp(t.y,n.translate,n.scale,n.originPoint)}const IS=.999999999999,kS=1.0000000000001;function jj(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let u,c;for(let f=0;f<o;f++){u=n[f],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ea(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,qx(t,c)),r&&zs(u.latestValues)&&ea(t,u.latestValues))}e.x<kS&&e.x>IS&&(e.x=1),e.y<kS&&e.y>IS&&(e.y=1)}function Jr(t,e){t.min=t.min+e,t.max=t.max+e}function PS(t,e,n,r,o=.5){const u=nt(t.min,t.max,o);Yp(t,e,n,u,r)}function ea(t,e){PS(t.x,e.x,e.scaleX,e.scale,e.originX),PS(t.y,e.y,e.scaleY,e.scale,e.originY)}function Yx(t,e){return zx(Oj(t.getBoundingClientRect(),e))}function Vj(t,e,n){const r=Yx(t,n),{scroll:o}=e;return o&&(Jr(r.x,o.offset.x),Jr(r.y,o.offset.y)),r}const Kx=({current:t})=>t?t.ownerDocument.defaultView:null,LS=(t,e)=>Math.abs(t-e);function Bj(t,e){const n=LS(t.x,e.x),r=LS(t.y,e.y);return Math.sqrt(n**2+r**2)}class Wx{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Jd(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=Bj(y.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:S}=y,{timestamp:w}=Nt;this.history.push({...S,timestamp:w});const{onStart:C,onMove:A}=this.handlers;v||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Zd(v,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Jd(y.type==="pointercancel"?this.lastMoveEventInfo:Zd(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,C),S&&S(y,C)},!Cg(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=kl(e),f=Zd(c,this.transformPagePoint),{point:p}=f,{timestamp:h}=Nt;this.history=[{...p,timestamp:h}];const{onSessionStart:g}=n;g&&g(e,Jd(f,this.history)),this.removeListeners=Ol($o(this.contextWindow,"pointermove",this.handlePointerMove),$o(this.contextWindow,"pointerup",this.handlePointerUp),$o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hs(this.updatePoint)}}function Zd(t,e){return e?{point:e(t.point)}:t}function US(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jd({point:t},e){return{point:t,delta:US(t,$x(e)),offset:US(t,zj(e)),velocity:Hj(e,.1)}}function zj(t){return t[0]}function $x(t){return t[t.length-1]}function Hj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=$x(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Gn(e)));)n--;if(!r)return{x:0,y:0};const u=qn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Fj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nt(n,t,r.max):Math.min(t,n)),t}function jS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Gj(t,{top:e,left:n,bottom:r,right:o}){return{x:jS(t.x,n,o),y:jS(t.y,e,r)}}function VS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qj(t,e){return{x:VS(t.x,e.x),y:VS(t.y,e.y)}}function Yj(t,e){let n=.5;const r=jt(t),o=jt(e);return o>r?n=cl(e.min,e.max-r,t.min):r>o&&(n=cl(t.min,t.max-o,e.min)),Ti(0,1,n)}function Kj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kp=.35;function Wj(t=Kp){return t===!1?t=0:t===!0&&(t=Kp),{x:BS(t,"left","right"),y:BS(t,"top","bottom")}}function BS(t,e,n){return{min:zS(t,e),max:zS(t,n)}}function zS(t,e){return typeof t=="number"?t:t[e]||0}const $j=new WeakMap;class Xj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kl(g).point)},u=(g,y)=>{const{drag:v,dragPropagation:_,onDragStart:S}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dU(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(C=>{let A=this.getAxisMotionValue(C).get()||0;if(Yn.test(A)){const{projection:I}=this.visualElement;if(I&&I.layout){const D=I.layout.layoutBox[C];D&&(A=jt(D)*(parseFloat(A)/100))}}this.originPoint[C]=A}),S&&it.postRender(()=>S(g,y)),Fp(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:S,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=y;if(_&&this.currentDirection===null){this.currentDirection=Qj(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),w&&w(g,y)},f=(g,y)=>this.stop(g,y),p=()=>bn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Wx(e,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:Kx(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&it.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!tc(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Fj(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;e&&Qr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Gj(r.layoutBox,e):this.constraints=!1,this.elastic=Wj(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Kj(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Vj(r,o.root,this.visualElement.getTransformPagePoint());let c=qj(o.layout.layoutBox,u);if(n){const f=n(Dj(c));this.hasMutatedConstraints=!!f,f&&(c=zx(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},h=bn(g=>{if(!tc(g,n,this.currentDirection))return;let y=p&&p[g]||{};c&&(y={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(h).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fp(this.visualElement,e),r.start(Pg(e,r,0,n,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(n=>{const{drag:r}=this.getProps();if(!tc(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[n];u.set(e[n]-nt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=Yj({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(c=>{if(!tc(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:h}=this.constraints[c];f.set(nt(p,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;$j.set(this.visualElement,this);const e=this.visualElement.current,n=$o(e,"pointerdown",p=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Qr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),it.read(r);const c=yl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(bn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Kp,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:f}}}function tc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Qj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Zj extends _s{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new Xj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const HS=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class Jj extends _s{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new Wx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:HS(e),onStart:HS(n),onMove:r,onEnd:(u,c)=>{delete this.session,o&&it.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=$o(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Po={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=FS(t,e.target.x),r=FS(t,e.target.y);return`${n}% ${r}%`}},e3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ds.parse(t);if(o.length>5)return r;const u=ds.createTransformer(t),c=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const h=nt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),u(o)}};class t3 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=e;VU(n3),u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,o||e.layoutDependency!==n||n===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||it.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xx(t){const[e,n]=Pw(),r=N.useContext(ig);return x.jsx(t3,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(Rx),isPresent:e,safeToRemove:n})}const n3={borderRadius:{...Po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Po,borderTopRightRadius:Po,borderBottomLeftRadius:Po,borderBottomRightRadius:Po,boxShadow:e3};function i3(t,e,n){const r=Lt(t)?t:dl(t);return r.start(Pg("",r,e,n)),r.animation}function s3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const r3=(t,e)=>t.depth-e.depth;class a3{constructor(){this.children=[],this.isDirty=!1}add(e){og(this.children,e),this.isDirty=!0}remove(e){lg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r3),this.isDirty=!1,this.children.forEach(e)}}function o3(t,e){const n=Xt.now(),r=({timestamp:o})=>{const u=o-n;u>=e&&(hs(r),t(u-e))};return it.setup(r,!0),()=>hs(r)}const Qx=["TopLeft","TopRight","BottomLeft","BottomRight"],l3=Qx.length,GS=t=>typeof t=="string"?parseFloat(t):t,qS=t=>typeof t=="number"||me.test(t);function u3(t,e,n,r,o,u){o?(t.opacity=nt(0,n.opacity??1,c3(r)),t.opacityExit=nt(e.opacity??1,0,f3(r))):u&&(t.opacity=nt(e.opacity??1,n.opacity??1,r));for(let c=0;c<l3;c++){const f=`border${Qx[c]}Radius`;let p=YS(e,f),h=YS(n,f);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||qS(p)===qS(h)?(t[f]=Math.max(nt(GS(p),GS(h),r),0),(Yn.test(h)||Yn.test(p))&&(t[f]+="%")):t[f]=h}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,r))}function YS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const c3=Zx(0,.5,qw),f3=Zx(.5,.95,En);function Zx(t,e,n){return r=>r<t?0:r>e?1:n(cl(t,e,r))}function KS(t,e){t.min=e.min,t.max=e.max}function _n(t,e){KS(t.x,e.x),KS(t.y,e.y)}function WS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $S(t,e,n,r,o){return t-=e,t=zc(t,1/n,r),o!==void 0&&(t=zc(t,1/o,r)),t}function h3(t,e=0,n=1,r=.5,o,u=t,c=t){if(Yn.test(e)&&(e=parseFloat(e),e=nt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=nt(u.min,u.max,r);t===u&&(f-=e),t.min=$S(t.min,e,n,f,o),t.max=$S(t.max,e,n,f,o)}function XS(t,e,[n,r,o],u,c){h3(t,e[n],e[r],e[o],e.scale,u,c)}const d3=["x","scaleX","originX"],p3=["y","scaleY","originY"];function QS(t,e,n,r){XS(t.x,e,d3,n?n.x:void 0,r?r.x:void 0),XS(t.y,e,p3,n?n.y:void 0,r?r.y:void 0)}function ZS(t){return t.translate===0&&t.scale===1}function Jx(t){return ZS(t.x)&&ZS(t.y)}function JS(t,e){return t.min===e.min&&t.max===e.max}function m3(t,e){return JS(t.x,e.x)&&JS(t.y,e.y)}function eE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eC(t,e){return eE(t.x,e.x)&&eE(t.y,e.y)}function tE(t){return jt(t.x)/jt(t.y)}function nE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class g3{constructor(){this.members=[]}add(e){og(this.members,e),e.scheduleRender()}remove(e){if(lg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y3(t,e,n){let r="";const o=t.x.translate/e.x,u=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:y,rotateY:v,skewX:_,skewY:S}=n;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),S&&(r+=`skewY(${S}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(r+=`scale(${f}, ${p})`),r||"none"}const ep=["","X","Y","Z"],v3={visibility:"hidden"},iE=1e3;let _3=0;function tp(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ux(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(o||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tC(r)}function nC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=_3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E3),this.nodes.forEach(A3),this.nodes.forEach(R3),this.nodes.forEach(T3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new a3)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new fg),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s3(c),this.instance=c;const{layoutId:p,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(h||p)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=o3(v,250),hc.hasAnimatedSinceResize&&(hc.hasAnimatedSinceResize=!1,this.nodes.forEach(rE))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||g.getDefaultTransition()||I3,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=g.getProps(),I=!this.targetLayout||!eC(this.targetLayout,S),D=!v&&_;if(this.options.layoutRoot||this.resumeFrom||D||v&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,D);const q={...Tg(w,"layout"),onPlay:C,onComplete:A};(g.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else v||rE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sE);return}this.isUpdating||this.nodes.forEach(x3),this.isUpdating=!1,this.nodes.forEach(C3),this.nodes.forEach(b3),this.nodes.forEach(S3),this.clearAllSnapshots();const f=Xt.now();Nt.delta=Ti(0,1e3/60,f-Nt.timestamp),Nt.timestamp=f,Nt.isProcessing=!0,Yd.update.process(Nt),Yd.preRender.process(Nt),Yd.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w3),this.sharedNodes.forEach(D3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jt(this.snapshot.measuredBox.x)&&!jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Jx(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;c&&(f||zs(this.latestValues)||g)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),k3(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return ht();const f=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(P3))){const{scroll:g}=this.root;g&&(Jr(f.x,g.offset.x),Jr(f.y,g.offset.y))}return f}removeElementScroll(c){var p;const f=ht();if(_n(f,c),(p=this.scroll)!=null&&p.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&_n(f,c),Jr(f.x,y.offset.x),Jr(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const p=ht();_n(p,c);for(let h=0;h<this.path.length;h++){const g=this.path[h];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ea(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),zs(g.latestValues)&&ea(p,g.latestValues)}return zs(this.latestValues)&&ea(p,this.latestValues),p}removeTransform(c){const f=ht();_n(f,c);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!zs(h.latestValues))continue;qp(h.latestValues)&&h.updateSnapshot();const g=ht(),y=h.measurePageBox();_n(g,y),QS(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return zs(this.latestValues)&&QS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Qo(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Uj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),qx(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Qo(this.relativeTargetOrigin,this.target,_.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qp(this.parent.latestValues)||Gx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(p=!1),p)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;_n(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;jj(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ht());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WS(this.prevProjectionDelta.x,this.projectionDelta.x),WS(this.prevProjectionDelta.y,this.projectionDelta.y)),Xo(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!nE(this.projectionDelta.x,this.prevProjectionDelta.x)||!nE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zr(),this.projectionDelta=Zr(),this.projectionDeltaWithTransform=Zr()}setAnimationOrigin(c,f=!1){const p=this.snapshot,h=p?p.latestValues:{},g={...this.latestValues},y=Zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=ht(),_=p?p.source:void 0,S=this.layout?this.layout.source:void 0,w=_!==S,C=this.getStack(),A=!C||C.members.length<=1,I=!!(w&&!A&&this.options.crossfade===!0&&!this.path.some(M3));this.animationProgress=0;let D;this.mixTargetDelta=q=>{const M=q/1e3;aE(y.x,c.x,M),aE(y.y,c.y,M),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O3(this.relativeTarget,this.relativeTargetOrigin,v,M),D&&m3(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ht()),_n(D,this.relativeTarget)),w&&(this.animationValues=g,u3(g,h,this.latestValues,M,I,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{hc.hasAnimatedSinceResize=!0,this.currentAnimation=i3(0,iE,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:h,latestValues:g}=c;if(!(!f||!p||!h)){if(this!==c&&this.layout&&h&&iC(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||ht();const y=jt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+y;const v=jt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+v}_n(f,p),ea(f,g),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new g3),this.sharedNodes.get(c).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const h={};p.z&&tp("z",c,h,this.animationValues);for(let g=0;g<ep.length;g++)tp(`rotate${ep[g]}`,c,h,this.animationValues),tp(`skew${ep[g]}`,c,h,this.animationValues);c.render();for(const g in h)c.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return v3;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=fc(c==null?void 0:c.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=fc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(_.transform=p?p({},""):"none",this.hasProjected=!1),_}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=y3(this.projectionDeltaWithTransform,this.treeScale,g),p&&(f.transform=p(g,f.transform));const{x:y,y:v}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,h.animationValues?f.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in ml){if(g[_]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:C}=ml[_],A=f.transform==="none"?g[_]:S(g[_],h);if(w){const I=w.length;for(let D=0;D<I;D++)f[w[D]]=A}else C?this.options.visualElement.renderState.vars[_]=A:f[_]=A}return this.options.layoutId&&(f.pointerEvents=h===this?fc(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(sE),this.root.sharedNodes.clear()}}}function b3(t){t.updateLayout()}function S3(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:u}=t.options,c=e.source!==t.layout.source;u==="size"?bn(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=jt(v);v.min=r[y].min,v.max=v.min+_}):iC(u,e.layoutBox,r)&&bn(y=>{const v=c?e.measuredBox[y]:e.layoutBox[y],_=jt(r[y]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+_)});const f=Zr();Xo(f,r,e.layoutBox);const p=Zr();c?Xo(p,t.applyTransform(o,!0),e.measuredBox):Xo(p,r,e.layoutBox);const h=!Jx(f);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:_}=y;if(v&&_){const S=ht();Qo(S,e.layoutBox,v.layoutBox);const w=ht();Qo(w,r,_.layoutBox),eC(S,w)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:p,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function E3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function T3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w3(t){t.clearSnapshot()}function sE(t){t.clearMeasurements()}function x3(t){t.isLayoutDirty=!1}function C3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function A3(t){t.resolveTargetDelta()}function R3(t){t.calcProjection()}function N3(t){t.resetSkewAndRotation()}function D3(t){t.removeLeadSnapshot()}function aE(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oE(t,e,n,r){t.min=nt(e.min,n.min,r),t.max=nt(e.max,n.max,r)}function O3(t,e,n,r){oE(t.x,e.x,n.x,r),oE(t.y,e.y,n.y,r)}function M3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const I3={duration:.45,ease:[.4,0,.1,1]},lE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uE=lE("applewebkit/")&&!lE("chrome/")?Math.round:En;function cE(t){t.min=uE(t.min),t.max=uE(t.max)}function k3(t){cE(t.x),cE(t.y)}function iC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lj(tE(e),tE(n),.2)}function P3(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const L3=nC({attachResizeListener:(t,e)=>yl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),np={current:void 0},sC=nC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!np.current){const t=new L3({});t.mount(window),t.setOptions({layoutScroll:!0}),np.current=t}return np.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),U3={pan:{Feature:Jj},drag:{Feature:Zj,ProjectionNode:sC,MeasureLayout:Xx}};function fE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&it.postRender(()=>u(e,kl(e)))}class j3 extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=pU(e,(n,r)=>(fE(this.node,r,"Start"),o=>fE(this.node,o,"End"))))}unmount(){}}class V3 extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ol(yl(this.node.current,"focus",()=>this.onFocus()),yl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&it.postRender(()=>u(e,kl(e)))}class B3 extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=vU(e,(n,r)=>(hE(this.node,r,"Start"),(o,{success:u})=>hE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wp=new WeakMap,ip=new WeakMap,z3=t=>{const e=Wp.get(t.target);e&&e(t)},H3=t=>{t.forEach(z3)};function F3({root:t,...e}){const n=t||document;ip.has(n)||ip.set(n,{});const r=ip.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(H3,{root:t,...e})),r[o]}function G3(t,e,n){const r=F3(e);return Wp.set(t,n),r.observe(t),()=>{Wp.delete(t),r.unobserve(t)}}const q3={some:0,all:1};class Y3 extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:q3[o]},f=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=h?g:y;v&&v(p)};return G3(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(K3(e,n))&&this.startObserver()}unmount(){}}function K3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W3={inView:{Feature:Y3},tap:{Feature:B3},focus:{Feature:V3},hover:{Feature:j3}},$3={layout:{ProjectionNode:sC,MeasureLayout:Xx}},$p={current:null},rC={current:!1};function X3(){if(rC.current=!0,!!rg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$p.current=t.matches;t.addListener(e),e()}else $p.current=!1}const Q3=new WeakMap;function Z3(t,e,n){for(const r in e){const o=e[r],u=n[r];if(Lt(o))t.addValue(r,o);else if(Lt(u))t.addValue(r,dl(o,{owner:t}));else if(u!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,dl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Eg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Xt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,it.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!u,this.isControllingVariants=ff(n),this.isVariantNode=Cx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const _=y[v];p[v]!==void 0&&Lt(_)&&_.set(p[v],!1)}}mount(e){this.current=e,Q3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rC.current||X3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$p.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hs(this.notifyUpdate),hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Na.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ma){const n=ma[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dE.length;r++){const o=dE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Z3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Lw(r)||Uw(r))?r=parseFloat(r):!EU(r)&&ds.test(n)&&(r=_x(e,n)),this.setBaseTarget(e,Lt(r)?r.get():r)),Lt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Ig(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Lt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aC extends J3{constructor(){super(...arguments),this.KeyframeResolver=fU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oC(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const u in n)t.style.setProperty(u,n[u])}function e4(t){return window.getComputedStyle(t)}class t4 extends aC{constructor(){super(...arguments),this.type="html",this.renderInstance=oC}readValueFromInstance(e,n){if(Na.has(n))return DL(e,n);{const r=e4(e),o=(pg(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Yx(e,n)}build(e,n,r){Dg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kg(e,n,r)}}const lC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n4(t,e,n,r){oC(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(lC.has(o)?o:Ng(o),e.attrs[o])}class i4 extends aC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Na.has(n)){const r=vx(n);return r&&r.default||0}return n=lC.has(n)?n:Ng(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Lx(e,n,r)}build(e,n,r){Mx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){n4(e,n,r,o)}mount(e){this.isSVGTag=kx(e.tagName),super.mount(e)}}const s4=(t,e)=>Mg(t)?new i4(e):new t4(e,{allowProjection:t!==N.Fragment}),r4=nj({...Rj,...W3,...U3,...$3},s4),a4=AU(r4),Xp=["/image/ginza-night.jpg","/image/izakaya.jpg","/image/city-night.jpg","/image/alley.jpg"],o4=6e4,uC=N.createContext({currentIndex:0}),l4=({children:t})=>{const[e,n]=N.useState(0);return N.useEffect(()=>{const r=setInterval(()=>{n(o=>(o+1)%Xp.length)},o4);return()=>clearInterval(r)},[]),x.jsx(uC.Provider,{value:{currentIndex:e},children:t})},Ci=()=>{const{currentIndex:t}=N.useContext(uC);return{backgroundElement:x.jsx(AP,{mode:"wait",children:x.jsx(a4.div,{className:"absolute inset-0 bg-cover bg-center pointer-events-none z-0",style:{backgroundImage:`url(${Xp[t]})`},initial:{opacity:0,scale:1.05},animate:{opacity:.2,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1.8,ease:"easeInOut"}},t)}),currentIndex:t,imageUrl:Xp[t]}},u4=()=>{const t=_a(),{backgroundElement:e}=Ci();return x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-black font-zen text-white",children:[e,x.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md p-6 sm:p-10 rounded-2xl w-full max-w-md text-center shadow-xl space-y-6 animate-fade-in",children:[x.jsx("h1",{className:"text-2xl sm:text-4xl font-extrabold text-[#f9f6f1] mb-4 tracking-wider whitespace-nowrap",children:x.jsx(EP,{options:{strings:["夜の帳が降りる頃、物語は始まる。"],autoStart:!0,loop:!1,delay:60,deleteSpeed:30},onInit:n=>{n.start().typeString("夜の帳が降りる頃、物語は始まる。")}})}),x.jsx("p",{className:"text-gray-300 text-sm sm:text-base tracking-wide",children:"As dusk falls, the story begins."}),x.jsx("button",{onClick:()=>t("/login"),className:"btn-primary px-6 py-2",children:"はじめる"})]})]})};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pE=t=>{const e=f4(t);return e.charAt(0).toUpperCase()+e.slice(1)},cC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),h4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...f},p)=>N.createElement("svg",{ref:p,...d4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cC("lucide",o),...!u&&!h4(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,g])=>N.createElement(h,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=(t,e)=>{const n=N.forwardRef(({className:r,...o},u)=>N.createElement(p4,{ref:u,iconNode:e,className:cC(`lucide-${c4(pE(t))}`,`lucide-${t}`,r),...o}));return n.displayName=pE(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],g4=fC("eye-off",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v4=fC("eye",y4),_4=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState(""),[o,u]=N.useState(""),[c,f]=N.useState(!1),[p,h]=N.useState(""),[g,y]=N.useState(!1),v=_a(),{backgroundElement:_}=Ci();N.useRef(null),N.useRef(null),N.useEffect(()=>{r(""),u(""),h("")},[t]);const S=async C=>{C.preventDefault(),h(""),y(!0);try{t?(await zO(Ks,n,o),v("/profile")):(await HO(Ks,n,o),v("/chat"))}catch(A){h(A.message)}finally{y(!1)}},w=async()=>{const C=new hi;try{const I=(await fM(Ks,C)).user,D=an(),q=Qe(D,`users/${I.uid}`);Hs(q,M=>{M.exists()||es(q,{nickname:I.displayName||"匿名使用者",avatarUrl:I.photoURL||"",themeColor:"#bfa382"})},{onlyOnce:!0}),v("/chat")}catch(A){h(A.message)}};return x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white overflow-hidden",children:[_,x.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl",children:[x.jsxs("div",{className:"flex justify-center space-x-4",children:[x.jsx("button",{onClick:()=>e(!1),className:`px-4 py-1 rounded-full border ${t?"text-[#bfa382] border-[#bfa382]":"bg-[#bfa382] text-white"} transition-all duration-300`,children:"Login"}),x.jsx("button",{onClick:()=>e(!0),className:`px-4 py-1 rounded-full border ${t?"bg-[#bfa382] text-white":"text-[#bfa382] border-[#bfa382]"} transition-all duration-300`,children:"Sign Up"})]}),x.jsxs("form",{onSubmit:S,className:"space-y-4",children:[x.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 bg-white/90 text-black placeholder:text-gray-500",value:n,onChange:C=>r(C.target.value),required:!0}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:c?"text":"password",placeholder:"Password",className:"w-full rounded-xl px-4 py-2 sm:px-5 sm:py-3 pr-12 bg-white/90 text-black placeholder:text-gray-500",value:o,onChange:C=>u(C.target.value),required:!0}),x.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800","aria-label":c?"Hide password":"Show password",children:c?x.jsx(g4,{size:20}):x.jsx(v4,{size:20})})]}),p&&x.jsx("p",{className:"text-red-400 text-sm text-center",children:p}),x.jsx("button",{type:"submit",className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full shadow hover:scale-105 hover:brightness-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#bfa382]",children:t?"Sign Up":"Login"})]}),x.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-white text-black font-medium py-2 rounded-full shadow hover:scale-[1.02] hover:brightness-105 transition",children:[x.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]}),x.jsxs("p",{className:"text-center text-sm text-white/80",children:[t?"Already have an account?":"Don't have an account?"," ",x.jsx("button",{onClick:()=>e(!t),className:"text-[#bfa382] hover:text-white font-semibold transition",children:t?"Login":"Sign up"})]})]})]})},b4=({user:t,isFriend:e,onClose:n,onStartChat:r,onAddFriend:o})=>x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-xs flex flex-col items-center",children:[x.jsx("img",{src:t.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-24 h-24 rounded-full object-cover"}),x.jsx("h2",{className:"text-xl font-bold text-white",children:t.nickname}),t.statusMessage&&x.jsx("p",{className:"text-sm italic text-gray-400 text-center px-2",children:t.statusMessage}),e?x.jsx("button",{onClick:r,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 hover:brightness-110 transition",children:"開始聊天"}):x.jsx("button",{onClick:o,className:"bg-[#bfa382] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 hover:brightness-110 transition-all duration-200",children:"➕ 加好友"}),x.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white mt-4",children:"關閉"})]})});function S4(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const E4="dhtqetylj",T4="Chatroom_Avatars",Lo=(t,e)=>[t,e].sort().join("_"),w4=()=>{const[t,e]=N.useState(""),[n,r]=N.useState([]),[o,u]=N.useState(""),[c,f]=N.useState([]),[p,h]=N.useState([]),[g,y]=N.useState("public"),[v,_]=N.useState(""),[S,w]=N.useState(""),[C,A]=N.useState(""),[I,D]=N.useState("#bfa382"),[q,M]=N.useState(!1),[z,K]=N.useState(!1),[F,J]=N.useState(""),[ie,se]=N.useState([]),le=_a(),{backgroundElement:Ae}=Ci(),Se=N.useRef(null),[ye,L]=N.useState([]),[Z,ae]=N.useState(!1),[re,T]=N.useState([]),[H,W]=N.useState(""),[ee,P]=N.useState(null),[Re,Q]=N.useState(!1),te=Ks.currentUser;N.useEffect(()=>{Notification.permission!=="granted"&&Notification.requestPermission()},[]),N.useEffect(()=>{const X=setTimeout(()=>{var fe;(fe=Se.current)==null||fe.scrollIntoView({behavior:"smooth"})},50);return()=>clearTimeout(X)},[n]),N.useEffect(()=>{if(!te){le("/login");return}const X=an(),fe=Qe(X,`users/${te.uid}`);Hs(fe,ke=>{const Me=ke.val();Me&&(w(Me.nickname||""),A(Me.avatarUrl||""),D(Me.themeColor||"#bfa382"))});const Ee=Qe(X,"users");Hs(Ee,ke=>{const Me=ke.val();if(Me){const st=Object.entries(Me).filter(([et])=>et!==te.uid).map(([et,Ht])=>({uid:et,nickname:Ht.nickname,avatarUrl:Ht.avatarUrl,statusMessage:Ht.statusMessage||""}));f(st)}});const be=Qe(X,"groups");Hs(be,ke=>{const Me=ke.val();if(Me){const st=Object.entries(Me).map(([et,Ht])=>({id:et,name:Ht.name,members:Ht.members}));h(st)}})},[te,le]),N.useEffect(()=>{const X=an();if(!te)return;let fe;if(g==="public")fe=Qe(X,"messages/public");else if(v)fe=Qe(X,`messages/groups/${v}`);else{const Ee=Lo(te.uid,g);fe=Qe(X,`messages/private/${Ee}`)}Hs(fe,Ee=>{const be=Ee.val();if(be){const ke=Object.entries(be).map(([Me,st])=>({id:Me,...st}));r(ke)}else r([])})},[g,v]),N.useEffect(()=>{if(!te)return;const X=an(),fe=Qe(X,`users/${te.uid}/friends`);Hs(fe,Ee=>{const be=Ee.val();L(be?Object.keys(be):[])})},[te]);const ve=async()=>{if(!o.trim())return;const X=an();if(!te)return;if(g!=="public"&&v===""&&!ye.includes(g)){alert("你必須先加對方為好友才能私訊喔 🌸");return}const fe=Date.now(),Ee={text:S4(o),sender:te.uid,nickname:S,avatarUrl:C,timestamp:fe};let be;if(g==="public")be=Qe(X,"messages/public");else if(v)be=Qe(X,`messages/groups/${v}`);else{const Me=Lo(te.uid,g);be=Qe(X,`messages/private/${Me}`)}const ke=Qu(be);await es(ke,Ee),u(""),Notification.permission==="granted"&&te&&new Notification("夜のチャット 🌙",{body:"你送出了一條溫柔的訊息 ✉️",icon:C||"/image/default-avatar.jpg"})},Ye=async X=>{const Ee=`https://g.tenor.com/v1/search?q=${X}&key=LIVDSRZULELA&limit=20`,ke=await(await fetch(Ee)).json();T(ke.results||[])},je=X=>{const fe=document.getElementById(`msg-${X}`);fe&&(fe.classList.add("animate-shatter"),setTimeout(()=>{mt(X)},500))},mt=async X=>{if(!te)return;const fe=an();let Ee;if(g==="public")Ee=Qe(fe,`messages/public/${X}`);else if(v)Ee=Qe(fe,`messages/groups/${v}/${X}`);else{const be=Lo(te.uid,g);Ee=Qe(fe,`messages/private/${be}/${X}`)}await es(Ee,null)},ln=async X=>{if(!te)return;const fe=an(),Ee=Date.now(),be={text:"",gifUrl:X,sender:te.uid,nickname:S,avatarUrl:C,timestamp:Ee};let ke;if(g==="public")ke=Qe(fe,"messages/public");else if(v)ke=Qe(fe,`messages/groups/${v}`);else{const st=Lo(te.uid,g);ke=Qe(fe,`messages/private/${st}`)}const Me=Qu(ke);await es(Me,be),ae(!1)},wn=async X=>{var be;const fe=(be=X.target.files)==null?void 0:be[0];if(!fe||!te)return;const Ee=new FormData;Ee.append("file",fe),Ee.append("upload_preset",T4),Ee.append("folder","chat-images");try{const Me=await(await fetch(`https://api.cloudinary.com/v1_1/${E4}/image/upload`,{method:"POST",body:Ee})).json(),st=an(),et=Date.now(),Ht={text:"",imageUrl:Me.secure_url,sender:te.uid,nickname:S,avatarUrl:C,timestamp:et};let Ai;if(g==="public")Ai=Qe(st,"messages/public");else if(v)Ai=Qe(st,`messages/groups/${v}`);else{const Ni=Lo(te.uid,g);Ai=Qe(st,`messages/private/${Ni}`)}const Ri=Qu(Ai);await es(Ri,Ht)}catch(ke){console.error("上傳圖片失敗:",ke)}},un=async X=>{if(!te)return;const fe=an(),Ee=Qe(fe,`users/${te.uid}/friends/${X}`),be=Qe(fe,`users/${X}/friends/${te.uid}`);await es(Ee,!0),await es(be,!0)},rr=()=>{y("public"),_(""),M(!1)},$n=X=>{y(X),_(""),M(!1)},zt=X=>{y(""),_(X),M(!1)},ar=()=>{le("/profile"),M(!1)},or=async()=>{await Ks.signOut(),le("")},lr=async()=>{if(!F.trim()||ie.length===0){alert("請輸入群組名稱並選擇至少一位朋友");return}const X=an();if(!te)return;const fe=Qe(X,"groups"),Ee=Qu(fe),be={};ie.forEach(ke=>be[ke]=!0),be[te.uid]=!0,await es(Ee,{name:F,members:be}),K(!1),J(""),se([])},Xn=X=>new Date(X).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return x.jsxs(x.Fragment,{children:[Ae,Z&&x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl space-y-4 w-full max-w-md",children:[x.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"搜尋 GIF ✨"}),x.jsx("input",{type:"text",value:H,onChange:X=>W(X.target.value),placeholder:"輸入關鍵字...",className:"w-full rounded-xl p-2 text-black placeholder-gray-500"}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{onClick:()=>Ye(H),className:"bg-[#bfa382] text-white px-4 py-2 rounded-full hover:scale-105 transition",children:"搜尋"})}),x.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-80 overflow-y-auto",children:re.map(X=>x.jsx("img",{src:X.media[0].tinygif.url,alt:"gif",className:"rounded-lg cursor-pointer hover:scale-105 transition",onClick:()=>ln(X.media[0].tinygif.url)},X.id))}),x.jsx("div",{className:"flex justify-center pt-4",children:x.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-white",children:"關閉"})})]})}),Re&&ee&&x.jsx(b4,{user:ee,isFriend:ye.includes(ee.uid),onStartChat:()=>{y(ee.uid),_(""),Q(!1)},onAddFriend:()=>un(ee.uid),onClose:()=>Q(!1)}),z&&x.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-black/90 text-white/80 p-6 rounded-2xl w-80 space-y-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:"創建新群組"}),x.jsx("input",{type:"text",value:F,onChange:X=>J(X.target.value),placeholder:"群組名稱",className:"w-full bg-white/10 rounded-lg px-3 py-2 mb-2"}),x.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:c.filter(X=>ye.includes(X.uid)).length===0?x.jsx("div",{className:"text-gray-400 text-center py-4",children:"尚未加任何好友，無法建立群組喔 🌸"}):c.filter(X=>ye.includes(X.uid)).map(X=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"checkbox",value:X.uid,onChange:fe=>{fe.target.checked?se(Ee=>[...Ee,X.uid]):se(Ee=>Ee.filter(be=>be!==X.uid))}}),x.jsx("span",{children:X.nickname})]},X.uid))}),x.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[x.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 rounded-lg bg-gray-600",children:"Cancel"}),x.jsx("button",{onClick:lr,className:"px-4 py-2 rounded-lg bg-green-600",children:"Create"})]})]})}),x.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[x.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-10 transform ${q?"translate-x-0":"-translate-x-full"} md:translate-x-0 w-64 bg-black/50 backdrop-blur-md text-white p-4 flex flex-col space-y-4 transition-transform duration-300 ease-in-out`,children:[x.jsx("button",{onClick:rr,className:"text-lg font-bold hover:underline",style:{color:I},children:"🌎 Public Chat"}),x.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"All Users"}),x.jsx("div",{className:"flex flex-col space-y-2 flex-1 overflow-y-auto",children:c&&c.map(X=>x.jsxs("div",{className:"flex items-center justify-between hover:bg-white/10 p-2 rounded transition",children:[x.jsxs("button",{onClick:()=>$n(X.uid),className:"flex items-center space-x-2",children:[x.jsx("img",{src:X.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),x.jsx("span",{children:X.nickname})]}),!ye.includes(X.uid)&&x.jsx("button",{onClick:()=>un(X.uid),className:"text-green-400 hover:text-green-300 text-lg",children:"➕"})]},X.uid))}),x.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Groups"}),x.jsx("div",{className:"flex flex-col space-y-2",children:p.filter(X=>X.members[te?te.uid:0]).map(X=>x.jsxs("button",{onClick:()=>zt(X.id),className:"hover:bg-white/10 p-2 rounded transition",children:["🧑‍🤝‍🧑 ",X.name]},X.id))}),x.jsx("button",{onClick:()=>K(!0),className:"text-sm bg-white/20 hover:bg-white/30 text-white py-1 px-3 rounded-full transition",children:"➕ Create Group"}),x.jsxs("div",{className:"flex space-x-4 pt-4 border-t border-white/20",children:[x.jsx("button",{onClick:()=>le("/"),className:"text-sm hover:underline",style:{color:I},children:"🏠"}),x.jsx("button",{onClick:ar,className:"text-sm hover:underline",style:{color:I},children:"Profile"}),x.jsx("button",{onClick:or,className:"text-sm text-red-400 hover:underline",children:"Logout"})]})]}),x.jsxs("div",{className:"flex flex-1 flex-col bg-black/50 backdrop-blur-md text-white relative shadow-inner",children:[x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.jsx("div",{className:"p-4",children:x.jsx("input",{type:"text",placeholder:"搜尋訊息 🔍",value:t,onChange:X=>e(X.target.value),className:"w-full bg-white/10 text-white placeholder-gray-400 rounded-xl px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#bfa382] transition"})}),n.filter(X=>{var be;if(!t.trim())return!0;const fe=t.toLowerCase();return(be=X.text)==null?void 0:be.toLowerCase().includes(fe)}).length===0?x.jsx("div",{className:"text-center text-gray-400 mt-10",children:"沒有找到相關訊息喔 🌸"}):n.filter(X=>{var be;if(!t.trim())return!0;const fe=t.toLowerCase();return(be=X.text)==null?void 0:be.toLowerCase().includes(fe)}).map(X=>x.jsx("div",{id:`msg-${X.id}`,className:`flex ${X.sender===(te==null?void 0:te.uid)?"justify-end":"justify-start"} fade-in`,children:x.jsxs("div",{className:"flex items-end space-x-2",children:[X.sender!==(te==null?void 0:te.uid)&&x.jsx("img",{src:X.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onClick:()=>{const fe=c.find(Ee=>Ee.uid===X.sender);fe&&(P(fe),Q(!0))}}),x.jsxs("div",{className:"flex flex-col items-start max-w-xs",children:[X.sender===(te==null?void 0:te.uid)&&x.jsx("button",{onClick:()=>je(X.id),className:"absolute -top-3 right-0 text-xs hover:text-red-400 transition",title:"收回訊息",children:"↩️"}),x.jsxs("div",{className:"p-3 rounded-2xl break-words text-sm",style:{backgroundColor:X.sender===(te==null?void 0:te.uid)?I:"#d1d5db",color:X.sender===(te==null?void 0:te.uid)?"white":"black"},children:[X.text&&x.jsx("span",{children:X.text}),X.imageUrl&&x.jsx("img",{src:X.imageUrl,alt:"uploaded",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(X.imageUrl,"_blank")}),X.gifUrl&&x.jsx("img",{src:X.gifUrl,alt:"gif",className:"mt-2 max-w-[200px] rounded-xl cursor-pointer hover:scale-105 transition",onClick:()=>window.open(X.gifUrl,"_blank")})]}),x.jsx("span",{className:"text-xs text-gray-400 mt-1 ml-2",children:Xn(X.timestamp)})]}),X.sender===(te==null?void 0:te.uid)&&x.jsx("img",{src:X.avatarUrl||"/image/default-avatar.jpg",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"})]})})),x.jsx("div",{ref:Se})]}),x.jsxs("div",{className:"p-4 bg-black/80 backdrop-blur-md flex items-center space-x-2",children:[x.jsx("input",{type:"text",value:o,onChange:X=>u(X.target.value),onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),ve())},placeholder:"Type a message...",className:"flex-1 rounded-xl px-4 py-2 text-black placeholder-gray-500"}),x.jsx("input",{type:"file",accept:"image/*",id:"image-upload",style:{display:"none"},onChange:wn}),x.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:I},children:"🖼️"}),x.jsx("button",{onClick:()=>ae(!0),className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:I},children:"🔎"}),x.jsx("button",{onClick:ve,style:{backgroundColor:I},className:"px-4 py-2 rounded-xl font-bold hover:scale-105 hover:brightness-110 transition",children:"Send"})]})]})]})]})},sp=[{name:"Sakura Pink",color:"#f9c5d1"},{name:"Night Blue",color:"#1e3a8a"},{name:"Forest Brown",color:"#bfa382"},{name:"Cloud Gray",color:"#d1d5db"},{name:"Lavender Purple",color:"#a78bfa"}],x4=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(null),[o,u]=N.useState(""),[c,f]=N.useState(sp[2].color),[p,h]=N.useState(""),[g,y]=N.useState(!0),v=_a(),_="dhtqetylj",S="Chatroom_Avatars",w=Ks.currentUser,C=N.useRef(null),{backgroundElement:A}=Ci();N.useEffect(()=>{if(!w){v("/login");return}const M=an(),z=Qe(M,`users/${w.uid}`);Hs(z,K=>{const F=K.val();F&&(e(F.nickname||""),h(F.statusMessage||""),u(F.avatarUrl||""),f(F.themeColor||sp[2].color)),y(!1)})},[w,v]);async function I(M){const z=new FormData;return z.append("file",M),z.append("upload_preset",S),z.append("folder","avatars"),(await(await fetch(`https://api.cloudinary.com/v1_1/${_}/image/upload`,{method:"POST",body:z})).json()).secure_url}const D=async()=>{if(!w)return;const M=an(),z=Qe(M,`users/${w.uid}`);let K=o;n&&(K=await I(n)),await oP(z,{nickname:t,statusMessage:p,themeColor:c,avatarUrl:K}),v("/chat")},q=M=>{var K;const z=(K=M.target.files)==null?void 0:K[0];z&&(r(z),u(URL.createObjectURL(z)))};return g?x.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading Profile..."}):x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center font-zen bg-black text-white p-4",children:[A,x.jsxs("div",{className:"z-10 bg-black/50 backdrop-blur-md rounded-2xl px-6 py-8 w-full max-w-sm sm:max-w-md space-y-6 shadow-xl flex flex-col items-center",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Update Your Profile"}),x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:o||"/image/default-avatar.jpg",alt:"Avatar Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-white cursor-pointer",onClick:()=>{var M;return(M=C.current)==null?void 0:M.click()}}),x.jsx("input",{type:"file",accept:"image/*",ref:C,onChange:q,className:"hidden"})]}),x.jsx("input",{type:"text",value:t,onChange:M=>e(M.target.value),placeholder:"Enter your nickname",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),x.jsx("input",{type:"text",value:p,onChange:M=>h(M.target.value),placeholder:"What's on your mind?",className:"rounded-xl px-4 py-2 text-black w-full bg-white/90 placeholder-gray-500"}),x.jsx("div",{className:"flex space-x-3 justify-center",children:sp.map(M=>x.jsx("button",{type:"button",onClick:()=>f(M.color),style:{backgroundColor:M.color},className:`w-8 h-8 rounded-full border-2 ${c===M.color?"border-white":"border-transparent"} transition-all`},M.color))}),x.jsx("button",{onClick:D,className:"w-full bg-[#bfa382] text-white font-bold px-6 py-3 rounded-full hover:scale-105 hover:brightness-110 transition",style:{backgroundColor:c},children:"Save"})]})]})},C4=()=>{const{backgroundElement:t}=Ci();return x.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center px-4 py-12 bg-black text-white font-zen",children:[t,x.jsxs("div",{className:"z-10 grid grid-cols-1 md:grid-cols-2 gap-10 max-w-6xl w-full",children:[x.jsx("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-2xl shadow-xl p-8 space-y-6 animate-fade-in",children:x.jsxs("div",{className:"relative z-10 bg-black/60 p-6 rounded-xl space-y-6 text-white",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-wider text-[#f9f6f1]",children:"About Me"}),x.jsx("p",{className:"text-gray-300 leading-relaxed",children:"嗨，我是 Chang0608，目前就讀於清華大學資訊工程學系。 我喜歡在深夜寫程式，對於能「活起來」的介面特別著迷：像是會回話的聊天室、會打字的首頁、會閃爍的霓虹背景。 對我來說，程式不只是工具，而是一種溫柔的表達形式。"}),x.jsx("p",{className:"text-gray-300 leading-relaxed",children:"過去我完成了一個以 Firebase + React 為主的聊天室專案，支援使用者登入、私聊群聊、訊息搜尋、撤回、GIF 傳送、個人主題設定……甚至還打造了一個日系霧氣打字風格的進場畫面。那不只是一個作品，更像是一段能與自己對話的夜晚。"}),x.jsx("p",{className:"text-gray-400 leading-relaxed",children:"技術上，我熟悉："}),x.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:[x.jsx("li",{children:"React / TypeScript / TailwindCSS"}),x.jsx("li",{children:"Firebase 全家桶：Auth, Firestore, Hosting, Storage"}),x.jsx("li",{children:"Python / C / C++，並有 bitonic sort、OpenACC 平行化、HPC 專題等經驗"}),x.jsx("li",{children:"具備測資能力，會寫單元測試、Git 使用熟練"})]}),x.jsx("p",{className:"text-gray-300 leading-relaxed",children:"我曾是台北前三志願高中程式校隊成員，拿過市賽獎項與自主學習佳作。 進入大學後接觸到更多實戰型專案，也開始打磨出自己對「乾淨程式碼」與「有靈魂介面」的執著。"}),x.jsxs("p",{className:"text-sm text-gray-500",children:["「夜の帳が降りる頃、物語は始まる。」",x.jsx("br",{}),"我想寫的，從來不只是程式，而是自己的成長日誌。"]})]})}),x.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-white/5 backdrop-blur-md rounded-2xl p-6 space-y-4 w-full max-w-sm h-fit shadow-xl animate-fade-in",children:[x.jsx("img",{src:"/image/profile-symbolic.png",alt:"Profile Symbol",className:"rounded-full w-24 h-24 object-cover shadow-md ring-2 ring-white/20 hover:ring-[#bfa382] transition"}),x.jsx("p",{className:"text-sm text-gray-300 italic text-center",children:"“靜靜寫程式，也是在認識自己。”"}),x.jsx("div",{className:"w-full border-t border-white/20 pt-2"}),x.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-white",children:[x.jsx("a",{href:"https://github.com/Chang0608",className:"hover:text-[#bfa382] transition",target:"_blank",children:"GitHub"}),x.jsx("a",{href:"mailto:caillou0608@email.com",className:"hover:text-[#bfa382] transition",children:"Email"})]})]})]})]})},hC=({solved:t,total:e})=>{const n=Math.round(t/e*100);return x.jsx("div",{className:"w-24 h-2 rounded-full bg-white/10 overflow-hidden shadow-inner",title:`完成 ${t} / ${e} 題（${n}%）`,children:x.jsx("div",{className:"h-full bg-[#bfa382] transition-all duration-300",style:{width:`${n}%`}})})},A4=({title:t,description:e,tags:n,link:r,repo:o,progress:u})=>(Ci(),x.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center gap-4",children:[x.jsx("h2",{className:"text-xl font-bold text-white",children:t}),typeof u=="object"&&x.jsx(hC,{solved:u.solved,total:u.total})]}),x.jsx("p",{className:"text-sm text-gray-300",children:e}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.map((c,f)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:c},f))}),x.jsxs("div",{className:"pt-3 flex gap-4",children:[r&&x.jsx("a",{href:r,target:"_blank",className:"text-white hover:underline text-sm",children:"🔗 View"}),o&&x.jsx("a",{href:o,target:"_blank",className:"text-white hover:underline text-sm",children:"💾 GitHub"})]})]})),R4=()=>{const{backgroundElement:t}=Ci(),e=[{title:"Chatroom 系統",description:"支援登入、私聊、GIF 傳送與群組管理的聊天室，採用 Firebase 與 React 技術實作。",tags:["React","Firebase","Tailwind"],link:"https://chang0608.github.io/chatroom",repo:"https://github.com/chang0608/chatroom",progress:{solved:95,total:100}},{title:"CSES Marathon",description:"紀錄我刷完 CSES 問題集的過程與筆記，附有原始碼與解題說明。",tags:["C++","Algorithm","Competitive"],link:"",repo:"https://github.com/chang0608/cses-marathon",progress:{solved:0,total:100}},{title:"HPC 練習記錄",description:"整理 MPI、CUDA、OpenACC 等高效能計算實驗與心得，卡片式展示，支援 Modal 展開。",tags:["MPI","CUDA","OpenACC"],link:"/hpc",repo:"https://github.com/chang0608/hpc-practice-log",progress:{solved:5,total:100}}];return x.jsxs("div",{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen",children:[t,x.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[x.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"Projects"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>x.jsx(A4,{...n},r))})]})]})},N4=({title:t,tech:e,tags:n,description:r,codeLink:o,onClick:u,progress:c})=>x.jsxs("div",{onClick:u,className:"cursor-pointer bg-white/5 backdrop-blur-md p-6 rounded-2xl shadow hover:shadow-lg transition space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow-md",children:x.jsx("img",{src:`/icons/${e.toLowerCase()}.png`,alt:e,className:"w-6 h-6 object-contain"})}),x.jsx("h2",{className:"text-xl font-bold text-white",children:t}),typeof c=="object"&&x.jsx(hC,{solved:c.solved,total:c.total})]}),x.jsx("p",{className:"text-sm text-gray-300",children:r}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.map((f,p)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:f},p))}),x.jsx("div",{className:"pt-2",children:x.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-white hover:underline",children:"🔗 View Code"})})]}),D4=({open:t,onClose:e,title:n,tech:r,tags:o,description:u,reflection:c,codeLink:f,resultImage:p})=>t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-black/90 text-white p-6 rounded-2xl w-full max-w-2xl shadow-xl relative animate-fade-in space-y-6 overflow-y-auto max-h-[90vh]",children:[x.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-white text-xl",onClick:e,children:"×"}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center shadow",children:x.jsx("img",{src:`/icons/${r.toLowerCase()}.png`,alt:r,className:"w-6 h-6 object-contain"})}),x.jsx("h2",{className:"text-2xl font-bold text-[#f9f6f1]",children:n})]}),x.jsx("p",{className:"text-sm text-gray-300",children:u}),p&&x.jsx("img",{src:p,alt:"Result Preview",className:"w-full rounded-lg border border-white/10"}),c&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-white/90 mb-1",children:"💭 Reflection"}),x.jsx("p",{className:"text-sm text-gray-400 leading-relaxed whitespace-pre-line",children:c})]}),x.jsx("div",{className:"flex flex-wrap gap-2 text-sm text-[#bfa382]",children:o.map((h,g)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:h},g))}),x.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-sm text-[#bfa382] hover:underline",children:"🔗 View Code"})]})}):null,O4=()=>{const{backgroundElement:t}=Ci(),[e,n]=N.useState(null),r=[{title:"Sobel Filter",tech:"CUDA",tags:["CUDA","Shared Memory","Edge Detection"],description:"Use shared memory to optimize image edge detection using a 5x5 Sobel kernel.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/cuda/sobel",reflection:`這次是我第一次實際上手優化 CUDA 程式，整體走過從 host 傳資料到 device、啟動 kernel、再把資料從 device 傳回 host 的完整流程，讓我對 CUDA 的標準作業順序更加熟悉。

      其中一個收穫是學會如何將不變的 Sobel mask 資料使用 __constant__ 宣告，這樣能夠將其存在 constant memory 中，讓所有 threads 以快取方式存取，減少 global memory 存取開銷。

      這次也遇到幾個明確的錯誤與調整：
      - 一開始 kernel 啟動時，誤把 gridDim 和 blockDim 寫反
      - 邊界處理沒考慮周全，導致輸出圖像邊緣異常
      - 嘗試使用 shared memory 作為鄰近資料暫存，有效減少了重複讀取`,resultImage:"/images/sobel-output.png"},{title:"Bitonic Sort",tech:"MPI",tags:["MPI","Scatter","Parallel Sort"],description:"Parallel sort using MPI scatter/gather with compare-exchange logic.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/mpi/bitonic-sort"},{title:"MNIST Inference",tech:"OpenACC",tags:["OpenACC","Neural Network","GPU"],description:"Accelerated MNIST digit classification using OpenACC for dense layer ops.",codeLink:"https://github.com/chang0608/hpc-practice-log/tree/main/openacc/mnist-inference"},{title:"MPI Exercises",tech:"MPI",tags:["MPI","Point-to-Point","Collective","Topology"],description:"Practice real MPI examples from ANL’s tutorial: Ring, Pi, PingPong and more — all tested and documented by me.",codeLink:"/notes/mpi",progress:{solved:4,total:22}}];return x.jsxs("div",{className:"relative min-h-screen w-full px-4 py-12 bg-black text-white font-zen",children:[t,x.jsxs("div",{className:"z-10 relative max-w-7xl mx-auto",children:[x.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-[#f9f6f1]",children:"HPC 練習紀錄"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.map((o,u)=>x.jsx(N4,{...o,onClick:()=>n(o)},u)),e&&x.jsx(D4,{open:!0,onClose:()=>n(null),title:e.title,tech:e.tech,tags:e.tags,description:e.description,codeLink:e.codeLink,reflection:e.reflection,resultImage:e.resultImage})]})]})]})},M4=()=>{const t=xi(),e=[{name:"首頁",path:"/"},{name:"聊天室",path:"/chat"},{name:"作品集",path:"/projects"},{name:"關於我",path:"/about"}];return x.jsx("nav",{className:"fixed top-0 left-0 z-50 w-full transition-all duration-300 opacity-0 -translate-y-6 hover:opacity-100 hover:translate-y-0 bg-black/40 backdrop-blur-md border-b border-white/10 shadow-sm",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-8 py-3 flex justify-between items-center text-white",children:[x.jsx("div",{className:"font-bold text-lg tracking-wide",children:"夜の技術帖"}),x.jsx("ul",{className:"flex space-x-4 text-sm sm:text-base font-zen",children:e.map(n=>x.jsx("li",{children:x.jsx(bl,{to:n.path,className:`px-3 py-1 rounded-xl transition-all duration-200 ${t.pathname===n.path?"bg-[#bfa382] text-white":"hover:bg-white/10"}`,children:n.name})},n.path))})]})})},dC=[{id:"point-to-point",title:"Point-to-Point Communication",description:"Basic MPI_Send and MPI_Recv communication patterns",exercises:[{id:"ring",title:"Ring Communication",tags:["MPI","SendRecv","Topology"],solved:!0,reflection:`這題是我第一次實作 MPI 的點對點通訊，使用 MPI_Send 和 MPI_Recv 模擬環狀訊息傳遞。
  
  一開始我沒有考慮 rank=0 要從 rank=n-1 接收的特殊情況，導致 deadlock，後來透過先設定 next / prev 並先後執行 send/recv 解決了這問題。
  
  這題也讓我開始理解 process 間如何「傳」與「等」，以及 blocking 與非 blocking 的差別。
  
  我覺得這題很適合當作 MPI 新手的第一題，邏輯上不難但踩雷點很真實。`,concepts:[],codeLink:"https://github.com/你的帳號/你的repo/mpi/ring",path:"/notes/mpi/ring"},{id:"pi",title:"Approximating Pi with MPI_Reduce",tags:["MPI","Reduction","Numerical Integration"],solved:!0,reflection:`這題其實讓我卡最久的地方不是程式，而是數學。
  
  原來 ( int_0^1 \frac{4}{1+x^2} dx = pi ) 是可以透過三角代換的，設 ( x = 	an	heta ) 就能化為 arc tangent。
  雖然平常算題目都背起來了，但這次從頭推導才真正理解它背後為什麼會等於 pi。
  
  在 MPI 部分，這題讓我熟悉了 MPI_Reduce 的用法：每個 process 計算自己區段的面積，最後透過 reduce 操作累加所有結果，最終在 root process 得到 pi 的近似值。
  
  整體來說是一題程式簡單、數學有料的小品題，很適合補足自己積分直覺與 collective 操作概念。`,concepts:[{title:"為什麼 ∫ 4/(1+x²) dx = π？",content:"因為 4 / (1 + x²) 是 arctangent 的微分，這題實際上是在積出 tan⁻¹(x) 的面積。"},{title:"MPI_Reduce 的用途與使用範例",content:`MPI_Reduce 可以讓多個 process 的結果彙總至 root，適合做總和、最大值等聚合運算。
常見用法為：
MPI_Reduce(&local_result, &global_result, 1, MPI_DOUBLE, MPI_SUM, 0, MPI_COMM_WORLD);`}],codeLink:"https://github.com/你的帳號/你的repo/mpi/pi",path:"/notes/mpi/pi"}]}],I4=()=>x.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[x.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"技術筆記總覽"}),dC.map(t=>x.jsxs("div",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:t.title}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.exercises.map(e=>x.jsxs(bl,{to:e.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[x.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:e.title}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:e.tags.map((n,r)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:n},r))})]},e.id))})]},t.id))]}),k4=()=>{const{backgroundElement:t}=Ci();return x.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 text-white font-zen",children:[t,x.jsx("h1",{className:"text-3xl font-bold mb-8 text-[#f9f6f1]",children:"MPI 筆記專區"}),dC.map(e=>x.jsxs("div",{className:"mb-10",children:[x.jsx("h2",{className:"text-xl font-semibold mb-3 text-[#f9f6f1]",children:e.title}),x.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.exercises.map(n=>x.jsxs(bl,{to:n.path,className:"block bg-white/5 p-4 rounded-xl backdrop-blur-md shadow hover:shadow-lg hover:bg-white/10 transition",children:[x.jsx("h3",{className:"text-md font-bold text-[#f9f6f1] mb-1",children:n.title}),x.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-[#bfa382]",children:n.tags.map((r,o)=>x.jsx("span",{className:"bg-white/10 px-2 py-1 rounded",children:r},o))})]},n.id))})]},e.id))]})};function P4(){const[t,e]=N.useState(null),[n,r]=N.useState(!0);return N.useEffect(()=>{const o=qO(Ks,u=>{e(u),r(!1)});return()=>o()},[]),n?x.jsx("div",{className:"text-white flex justify-center items-center min-h-screen",children:"Loading..."}):x.jsxs(ZR,{children:[x.jsx(M4,{}),x.jsxs(RR,{children:[x.jsx(Hn,{path:"/",element:x.jsx(u4,{})}),x.jsx(Hn,{path:"/login",element:t?x.jsx(Dd,{to:"/chat"}):x.jsx(_4,{})}),x.jsx(Hn,{path:"/chat",element:t?x.jsx(w4,{}):x.jsx(Dd,{to:"/login"})}),x.jsx(Hn,{path:"/profile",element:t?x.jsx(x4,{}):x.jsx(Dd,{to:"/login"})}),x.jsx(Hn,{path:"/about",element:x.jsx(C4,{})}),x.jsx(Hn,{path:"/projects",element:x.jsx(R4,{})}),x.jsx(Hn,{path:"/hpc",element:x.jsx(O4,{})}),x.jsx(Hn,{path:"/notes",element:x.jsx(I4,{})}),x.jsx(Hn,{path:"/notes/mpi",element:x.jsx(k4,{})})]})]})}jA.createRoot(document.getElementById("root")).render(x.jsx(DA.StrictMode,{children:x.jsx(l4,{children:x.jsx(P4,{})})}));
